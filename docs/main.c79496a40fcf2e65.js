"use strict";(self.webpackChunkearn2post=self.webpackChunkearn2post||[]).push([[179],{58:(Ao,ti,Ze)=>{Ze.d(ti,{BH:()=>Ht,G6:()=>ro,L:()=>ct,LL:()=>q,Pz:()=>Dt,Sg:()=>Fi,UG:()=>J,ZB:()=>Ie,ZR:()=>te,aH:()=>tn,b$:()=>Rn,eu:()=>H,hl:()=>B,jU:()=>dn,m9:()=>xa,ne:()=>ko,pd:()=>$c,r3:()=>wi,ru:()=>nn,tV:()=>ee,uI:()=>Gn,vZ:()=>So,w1:()=>io,xO:()=>zc,xb:()=>ir,z$:()=>tt,zd:()=>Fr});const Le=function(D){const x=[];let T=0;for(let W=0;W<D.length;W++){let R=D.charCodeAt(W);R<128?x[T++]=R:R<2048?(x[T++]=R>>6|192,x[T++]=63&R|128):55296==(64512&R)&&W+1<D.length&&56320==(64512&D.charCodeAt(W+1))?(R=65536+((1023&R)<<10)+(1023&D.charCodeAt(++W)),x[T++]=R>>18|240,x[T++]=R>>12&63|128,x[T++]=R>>6&63|128,x[T++]=63&R|128):(x[T++]=R>>12|224,x[T++]=R>>6&63|128,x[T++]=63&R|128)}return x},un={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,x){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let R=0;R<D.length;R+=3){const $=D[R],je=R+1<D.length,Et=je?D[R+1]:0,Je=R+2<D.length,Qt=Je?D[R+2]:0;let Kn=(15&Et)<<2|Qt>>6,Vt=63&Qt;Je||(Vt=64,je||(Kn=64)),W.push(T[$>>2],T[(3&$)<<4|Et>>4],T[Kn],T[Vt])}return W.join("")},encodeString(D,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(D):this.encodeByteArray(Le(D),x)},decodeString(D,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(D):function(D){const x=[];let T=0,W=0;for(;T<D.length;){const R=D[T++];if(R<128)x[W++]=String.fromCharCode(R);else if(R>191&&R<224){const $=D[T++];x[W++]=String.fromCharCode((31&R)<<6|63&$)}else if(R>239&&R<365){const Je=((7&R)<<18|(63&D[T++])<<12|(63&D[T++])<<6|63&D[T++])-65536;x[W++]=String.fromCharCode(55296+(Je>>10)),x[W++]=String.fromCharCode(56320+(1023&Je))}else{const $=D[T++],je=D[T++];x[W++]=String.fromCharCode((15&R)<<12|(63&$)<<6|63&je)}}return x.join("")}(this.decodeStringToByteArray(D,x))},decodeStringToByteArray(D,x){this.init_();const T=x?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let R=0;R<D.length;){const $=T[D.charAt(R++)],Et=R<D.length?T[D.charAt(R)]:0;++R;const Qt=R<D.length?T[D.charAt(R)]:64;++R;const Ce=R<D.length?T[D.charAt(R)]:64;if(++R,null==$||null==Et||null==Qt||null==Ce)throw new wn;W.push($<<2|Et>>4),64!==Qt&&(W.push(Et<<4&240|Qt>>2),64!==Ce&&W.push(Qt<<6&192|Ce))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class wn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ct=function(D){return function(D){const x=Le(D);return un.encodeByteArray(x,!0)}(D).replace(/\./g,"")},ee=function(D){try{return un.decodeString(D,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function Ie(D,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return x}for(const T in x)!x.hasOwnProperty(T)||!ot(T)||(D[T]=Ie(D[T],x[T]));return D}function ot(D){return"__proto__"!==D}const et=()=>{try{return function It(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=D&&ee(D[1]);return x&&JSON.parse(x)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},tn=()=>{var D;return null===(D=et())||void 0===D?void 0:D.config},Dt=D=>{var x;return null===(x=et())||void 0===x?void 0:x[`_${D}`]};class Ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,T)=>{this.resolve=x,this.reject=T})}wrapCallback(x){return(T,W)=>{T?this.reject(T):this.resolve(W),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(T):x(T,W))}}}function Fi(D,x){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=x||"demo-project",R=D.iat||0,$=D.sub||D.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:R,exp:R+3600,auth_time:R,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},D);return[ct(JSON.stringify({alg:"none",type:"JWT"})),ct(JSON.stringify(je)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Gn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function J(){var D;const x=null===(D=et())||void 0===D?void 0:D.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function dn(){return"object"==typeof self&&self.self===self}function nn(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function Rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function io(){const D=tt();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function ro(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B(){try{return"object"==typeof indexedDB}catch{return!1}}function H(){return new Promise((D,x)=>{try{let T=!0;const W="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(W);R.onsuccess=()=>{R.result.close(),T||self.indexedDB.deleteDatabase(W),D(!0)},R.onupgradeneeded=()=>{T=!1},R.onerror=()=>{var $;x((null===($=R.error)||void 0===$?void 0:$.message)||"")}}catch(T){x(T)}})}class te extends Error{constructor(x,T,W){super(T),this.code=x,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(x,T,W){this.service=x,this.serviceName=T,this.errors=W}create(x,...T){const W=T[0]||{},R=`${this.service}/${x}`,$=this.errors[x],je=$?function he(D,x){return D.replace(pt,(T,W)=>{const R=x[W];return null!=R?String(R):`<${W}?>`})}($,W):"Error";return new te(R,`${this.serviceName}: ${je} (${R}).`,W)}}const pt=/\{\$([^}]+)}/g;function wi(D,x){return Object.prototype.hasOwnProperty.call(D,x)}function ir(D){for(const x in D)if(Object.prototype.hasOwnProperty.call(D,x))return!1;return!0}function So(D,x){if(D===x)return!0;const T=Object.keys(D),W=Object.keys(x);for(const R of T){if(!W.includes(R))return!1;const $=D[R],je=x[R];if(En($)&&En(je)){if(!So($,je))return!1}else if($!==je)return!1}for(const R of W)if(!T.includes(R))return!1;return!0}function En(D){return null!==D&&"object"==typeof D}function zc(D){const x=[];for(const[T,W]of Object.entries(D))Array.isArray(W)?W.forEach(R=>{x.push(encodeURIComponent(T)+"="+encodeURIComponent(R))}):x.push(encodeURIComponent(T)+"="+encodeURIComponent(W));return x.length?"&"+x.join("&"):""}function Fr(D){const x={};return D.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[R,$]=W.split("=");x[decodeURIComponent(R)]=decodeURIComponent($)}}),x}function $c(D){const x=D.indexOf("?");if(!x)return"";const T=D.indexOf("#",x);return D.substring(x,T>0?T:void 0)}function ko(D,x){const T=new Jo(D,x);return T.subscribe.bind(T)}class Jo{constructor(x,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{x(this)}).catch(W=>{this.error(W)})}next(x){this.forEachObserver(T=>{T.next(x)})}error(x){this.forEachObserver(T=>{T.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,T,W){let R;if(void 0===x&&void 0===T&&void 0===W)throw new Error("Missing Observer.");R=function Ls(D,x){if("object"!=typeof D||null===D)return!1;for(const T of x)if(T in D&&"function"==typeof D[T])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:T,complete:W},void 0===R.next&&(R.next=Kt),void 0===R.error&&(R.error=Kt),void 0===R.complete&&(R.complete=Kt);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),$}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,x)}sendOne(x,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{T(this.observers[x])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}function xa(D){return D&&D._delegate?D._delegate:D}},910:(Ao,ti,Ze)=>{function E(n){return"function"==typeof n}function Oe(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const G=Oe(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Le(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(E(i))try{i()}catch(o){e=o instanceof G?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{ni(o)}catch(s){e=e??[],s instanceof G?e=[...e,...s.errors]:e.push(s)}}if(e)throw new G(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ni(e);else{if(e instanceof mt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Le(t,e)}remove(e){const{_finalizers:t}=this;t&&Le(t,e),e instanceof mt&&e._removeParent(this)}}mt.EMPTY=(()=>{const n=new mt;return n.closed=!0,n})();const un=mt.EMPTY;function wn(n){return n instanceof mt||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function ni(n){E(n)?n():n.unsubscribe()}const ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(n,e,...t){const{delegate:i}=ee;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ee;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ae(n){ee.setTimeout(()=>{const{onUnhandledError:e}=ct;if(!e)throw n;e(n)})}function Ie(){}const ot=Tt("C",void 0,void 0);function Tt(n,e,t){return{kind:n,value:e,error:t}}let Ue=null;function et(n){if(ct.useDeprecatedSynchronousErrorHandling){const e=!Ue;if(e&&(Ue={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Ue;if(Ue=null,t)throw i}}else n()}class oi extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wn(e)&&e.add(this)):this.destination=dn}static create(e,t,i){return new Fi(e,t,i)}next(e){this.isStopped?J(function ii(n){return Tt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?J(function It(n){return Tt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?J(ot,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tn=Function.prototype.bind;function Dt(n,e){return tn.call(n,e)}class Ht{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){tt(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){tt(i)}else tt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){tt(t)}}}class Fi extends oi{constructor(e,t,i){let r;if(super(),E(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&ct.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Dt(e.next,o),error:e.error&&Dt(e.error,o),complete:e.complete&&Dt(e.complete,o)}):r=e}this.destination=new Ht(r)}}function tt(n){ct.useDeprecatedSynchronousErrorHandling?function ri(n){ct.useDeprecatedSynchronousErrorHandling&&Ue&&(Ue.errorThrown=!0,Ue.error=n)}(n):ae(n)}function J(n,e){const{onStoppedNotification:t}=ct;t&&ee.setTimeout(()=>t(n,e))}const dn={closed:!0,next:Ie,error:function Gn(n){throw n},complete:Ie},nn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rn(n){return n}function io(n){return 0===n.length?Rn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Xe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function B(n){return n&&n instanceof oi||function ro(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&wn(n)}(t)?t:new Fi(t,i,r);return et(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Fs(i))((r,o)=>{const s=new Fi({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[nn](){return this}pipe(...t){return io(t)(this)}toPromise(t){return new(t=Fs(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Fs(n){var e;return null!==(e=n??ct.Promise)&&void 0!==e?e:Promise}const H=Oe(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let V=(()=>{class n extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Q(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new H}next(t){et(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){et(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){et(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?un:(this.currentObservers=null,o.push(t),new mt(()=>{this.currentObservers=null,Le(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Xe;return t.source=this,t}}return n.create=(e,t)=>new Q(e,t),n})();class Q extends V{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:un}}function te(n){return E(n?.lift)}function q(n){return e=>{if(te(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,i,r){return new pt(n,e,t,i,r)}class pt extends oi{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(n,e){return q((t,i)=>{let r=0;t.subscribe(he(i,o=>{i.next(n.call(e,o,r++))}))})}var Te=Ze(582);const vt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function hn(n){return E(n?.then)}function Zt(n){return E(n[nn])}function ui(n){return Symbol.asyncIterator&&E(n?.[Symbol.asyncIterator])}function Wn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Li=function wi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ir(n){return E(n?.[Li])}function jc(n){return(0,Te.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Te.qq)(t.read());if(r)return yield(0,Te.qq)(void 0);yield yield(0,Te.qq)(i)}}finally{t.releaseLock()}})}function So(n){return E(n?.getReader)}function En(n){if(n instanceof Xe)return n;if(null!=n){if(Zt(n))return function ya(n){return new Xe(e=>{const t=n[nn]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(vt(n))return function zc(n){return new Xe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(hn(n))return function Fr(n){return new Xe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ae)})}(n);if(ui(n))return Vi(n);if(ir(n))return function $c(n){return new Xe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(So(n))return function ko(n){return Vi(jc(n))}(n)}throw Wn(n)}function Vi(n){return new Xe(e=>{(function Jo(n,e){var t,i,r,o;return(0,Te.mG)(this,void 0,void 0,function*(){try{for(t=(0,Te.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function di(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Kt(n,e,t=1/0){return E(e)?Kt((i,r)=>pe((o,s)=>e(i,o,r,s))(En(n(i,r))),t):("number"==typeof e&&(t=e),q((i,r)=>function Ls(n,e,t,i,r,o,s,a){const c=[];let u=0,h=0,p=!1;const g=()=>{p&&!c.length&&!u&&e.complete()},v=w=>u<i?b(w):c.push(w),b=w=>{o&&e.next(w),u++;let I=!1;En(t(w,h++)).subscribe(he(e,M=>{r?.(M),o?v(M):e.next(M)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;c.length&&u<i;){const M=c.shift();s?di(e,s,()=>b(M)):b(M)}g()}catch(M){e.error(M)}}))};return n.subscribe(he(e,v,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function Lr(n=1/0){return Kt(Rn,n)}const Zn=new Xe(n=>n.complete());function rr(n){return n&&E(n.schedule)}function es(n){return n[n.length-1]}function wa(n){return E(es(n))?n.pop():void 0}function ts(n){return rr(es(n))?n.pop():void 0}function Ei(n,e=0){return q((t,i)=>{t.subscribe(he(i,r=>di(i,n,()=>i.next(r),e),()=>di(i,n,()=>i.complete(),e),r=>di(i,n,()=>i.error(r),e)))})}function Bi(n,e=0){return q((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function xa(n,e){if(!n)throw new Error("Iterable cannot be null");return new Xe(t=>{di(t,e,()=>{const i=n[Symbol.asyncIterator]();di(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function T(n,e){return e?function x(n,e){if(null!=n){if(Zt(n))return function ns(n,e){return En(n).pipe(Bi(e),Ei(e))}(n,e);if(vt(n))return function Cu(n,e){return new Xe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(hn(n))return function Ia(n,e){return En(n).pipe(Bi(e),Ei(e))}(n,e);if(ui(n))return xa(n,e);if(ir(n))return function Hc(n,e){return new Xe(t=>{let i;return di(t,e,()=>{i=n[Li](),di(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>E(i?.return)&&i.return()})}(n,e);if(So(n))return function D(n,e){return xa(jc(n),e)}(n,e)}throw Wn(n)}(n,e):En(n)}function W(...n){const e=ts(n),t=function Ea(n,e){return"number"==typeof es(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?En(i[0]):Lr(t)(T(i,e)):Zn}class R extends V{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function $(...n){return T(n,ts(n))}function je(n={}){const{connector:e=(()=>new V),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,u=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},b=()=>{const w=s;v(),w?.unsubscribe()};return q((w,I)=>{u++,!p&&!h&&g();const M=c=c??e();I.add(()=>{u--,0===u&&!p&&!h&&(a=Et(b,r))}),M.subscribe(I),!s&&u>0&&(s=new Fi({next:A=>M.next(A),error:A=>{p=!0,g(),a=Et(v,t,A),M.error(A)},complete:()=>{h=!0,g(),a=Et(v,i),M.complete()}}),En(w).subscribe(s))})(o)}}function Et(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Fi({next:()=>{i.unsubscribe(),n()}});return En(e(...t)).subscribe(i)}function Je(n,e){return q((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(he(i,c=>{r?.unsubscribe();let u=0;const h=o++;En(n(c,h)).subscribe(r=he(i,p=>i.next(e?e(c,p,h,u++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Qt(n,e=Rn){return n=n??or,q((t,i)=>{let r,o=!0;t.subscribe(he(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function or(n,e){return n===e}function Ce(n){for(let e in n)if(n[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function Kn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Vt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Vt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Mo(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Vs=Ce({__forward_ref__:Ce});function F(n){return n.__forward_ref__=F,n.toString=function(){return Vt(this())},n}function S(n){return oe(n)?n():n}function oe(n){return"function"==typeof n&&n.hasOwnProperty(Vs)&&n.__forward_ref__===F}function Se(n){return n&&!!n.\u0275providers}const st="https://g.co/ng/security#xss";class P extends Error{constructor(e,t){super(function Pn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function xe(n){return"string"==typeof n?n:null==n?"":String(n)}function df(n,e){throw new P(-201,!1)}function Ui(n,e){null==n&&function Fe(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gc(n){return Bs(n,Wc)||Bs(n,t_)}function Bs(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ca(n){return n&&(n.hasOwnProperty(Zc)||n.hasOwnProperty(mf))?n[Zc]:null}const Wc=Ce({\u0275prov:Ce}),Zc=Ce({\u0275inj:Ce}),t_=Ce({ngInjectableDef:Ce}),mf=Ce({ngInjectorDef:Ce});var ut=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ut||{});let Kc;function hi(n){const e=Kc;return Kc=n,e}function n_(n,e,t){const i=Gc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ut.Optional?null:void 0!==e?e:void df(Vt(n))}const qt=globalThis;class ne{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const el={},tl="__NG_DI_FLAG__",Du="ngTempTokenPath",Ew=/\n/gm,a_="__source";let Ta;function ji(n){const e=Ta;return Ta=n,e}function Iw(n,e=ut.Default){if(void 0===Ta)throw new P(-203,!1);return null===Ta?n_(n,void 0,e):Ta.get(n,e&ut.Optional?null:void 0,e)}function j(n,e=ut.Default){return(function Qc(){return Kc}()||Iw)(S(n),e)}function ge(n,e=ut.Default){return j(n,Aa(e))}function Aa(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vr(n){const e=[];for(let t=0;t<n.length;t++){const i=S(n[t]);if(Array.isArray(i)){if(0===i.length)throw new P(900,!1);let r,o=ut.Default;for(let s=0;s<i.length;s++){const a=i[s],c=Sa(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(j(r,o))}else e.push(j(i))}return e}function oo(n,e){return n[tl]=e,n.prototype[tl]=e,n}function Sa(n){return n[tl]}function so(n){return{toString:n}.toString()}var Au=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Au||{}),si=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(si||{});const ao={},gt=[],nl=Ce({\u0275cmp:Ce}),Su=Ce({\u0275dir:Ce}),il=Ce({\u0275pipe:Ce}),ar=Ce({\u0275mod:Ce}),co=Ce({\u0275fac:Ce}),rl=Ce({__NG_ELEMENT_ID__:Ce}),ku=Ce({__NG_ENV_ID__:Ce});function ol(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Mu(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];u_(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function yf(n){return 3===n||4===n||6===n}function u_(n){return 64===n.charCodeAt(0)}function Us(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Ru(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Ru(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Pu="ng-template";function Nu(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==ol(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Ou(n){return 4===n.type&&n.value!==Pu}function d_(n,e,t){return e===(4!==n.type||t?n.value:Pu)}function bf(n,e,t){let i=4;const r=n.attrs||[],o=function h_(n){for(let e=0;e<n.length;e++)if(yf(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!d_(n,c,t)||""===c&&1===e.length){if(Cr(i))return!1;s=!0}}else{const u=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!Nu(n.attrs,u,t)){if(Cr(i))return!1;s=!0}continue}const p=wf(8&i?"class":c,r,Ou(n),t);if(-1===p){if(Cr(i))return!1;s=!0;continue}if(""!==u){let g;g=p>o?"":r[p+1].toLowerCase();const v=8&i?g:null;if(v&&-1!==ol(v,u,0)||2&i&&u!==g){if(Cr(i))return!1;s=!0}}}}else{if(!s&&!Cr(i)&&!Cr(c))return!1;if(s&&Cr(c))continue;s=!1,i=c|1&i}}return Cr(i)||s}function Cr(n){return 0==(1&n)}function wf(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function If(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function sl(n,e,t=!1){for(let i=0;i<e.length;i++)if(bf(n,e[i],t))return!0;return!1}function f_(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Fu(n,e){return n?":not("+e.trim()+")":e}function xw(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Cr(s)&&(e+=Fu(o,r),r=""),i=s,o=o||!Cr(i);t++}return""!==r&&(e+=Fu(o,r)),e}function rn(n){return so(()=>{const e=Vu(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Au.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||si.Emulated,styles:n.styles||gt,_:null,schemas:n.schemas||null,tView:null,id:""};m_(t);const i=n.dependencies;return t.directiveDefs=ka(i,!1),t.pipeDefs=ka(i,!0),t.id=function Af(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Cf(n){return yt(n)||Nn(n)}function Tf(n){return null!==n}function kt(n){return so(()=>({type:n.type,bootstrap:n.bootstrap||gt,declarations:n.declarations||gt,imports:n.imports||gt,exports:n.exports||gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Lu(n,e){if(null==n)return ao;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function ke(n){return so(()=>{const e=Vu(n);return m_(e),e})}function yt(n){return n[nl]||null}function Nn(n){return n[Su]||null}function Ii(n){return n[il]||null}function zi(n,e){const t=n[ar]||null;if(!t&&!0===e)throw new Error(`Type ${Vt(n)} does not have '\u0275mod' property.`);return t}function Vu(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ao,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lu(n.inputs,e),outputs:Lu(n.outputs)}}function m_(n){n.features?.forEach(e=>e(n))}function ka(n,e){if(!n)return null;const t=e?Ii:Cf;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Tf)}const In=0,_e=1,He=2,on=3,Br=4,js=5,mi=6,os=7,Tn=8,lo=9,Ma=10,Ve=11,cl=12,Bu=13,Ra=14,mn=15,ll=16,ss=17,uo=18,ul=19,Sf=20,ho=21,No=22,fo=23,Pa=24,dt=25,kf=1,p_=2,mo=7,dl=9,On=11;function $i(n){return Array.isArray(n)&&"object"==typeof n[kf]}function Hi(n){return Array.isArray(n)&&!0===n[kf]}function g_(n){return 0!=(4&n.flags)}function Na(n){return n.componentOffset>-1}function Rf(n){return 1==(1&n.flags)}function po(n){return!!n.template}function hl(n){return 0!=(512&n[He])}function Ur(n,e){return n.hasOwnProperty(co)?n[co]:null}let Ln=null,ju=!1;function qi(n){const e=Ln;return Ln=n,e}const y_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Of(n){if(!ml(n)||n.dirty){if(!n.producerMustRecompute(n)&&!E_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Ff(n){n.dirty=!0,function w_(n){if(void 0===n.liveConsumerNode)return;const e=ju;ju=!0;try{for(const t of n.liveConsumerNode)t.dirty||Ff(t)}finally{ju=e}}(n),n.consumerMarkedDirty?.(n)}function Hs(n){return n&&(n.nextProducerIndex=0),qi(n)}function Fa(n,e){if(qi(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ml(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)La(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function E_(n){cs(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Of(t),i!==t.version))return!0}return!1}function zu(n){if(cs(n),ml(n))for(let e=0;e<n.producerNode.length;e++)La(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function La(n,e){if(function Vf(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),cs(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)La(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];cs(r),r.producerIndexOfThis[i]=e}}function ml(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function cs(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let I_=null;const D_=()=>{},Lw=(()=>({...y_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:D_}))();class Uf{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function cr(){return Hu}function Hu(n){return n.type.prototype.ngOnChanges&&(n.setInput=jf),Vw}function Vw(){const n=qu(this),e=n?.current;if(e){const t=n.previous;if(t===ao)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function jf(n,e,t,i){const r=this.declaredInputs[t],o=qu(n)||function Gu(n,e){return n[A_]=e}(n,{previous:ao,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new Uf(c&&c.currentValue,e,a===ao),n[i]=e}cr.ngInherit=!0;const A_="__ngSimpleChanges__";function qu(n){return n[A_]||null}const Tr=function(n,e,t){};function Ft(n){for(;Array.isArray(n);)n=n[In];return n}function Wu(n,e){return Ft(e[n])}function Gi(n,e){return Ft(e[n.index])}function Hf(n,e){return n.data[e]}function lr(n,e){const t=e[n];return $i(t)?t:t[In]}function us(n,e){return null==e?null:n[e]}function Zu(n){n[ss]=0}function Wf(n){1024&n[He]||(n[He]|=1024,za(n,1))}function S_(n){1024&n[He]&&(n[He]&=-1025,za(n,-1))}function za(n,e){let t=n[on];if(null===t)return;t[js]+=e;let i=t;for(t=t[on];null!==t&&(1===e&&1===i[js]||-1===e&&0===i[js]);)t[js]+=e,i=t,t=t[on]}const Ne={lFrame:F_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kf(){return Ne.bindingsEnabled}function $a(){return null!==Ne.skipHydrationRootTNode}function ie(){return Ne.lFrame.lView}function bt(){return Ne.lFrame.tView}function At(n){return Ne.lFrame.contextLView=n,n[Tn]}function Mt(n){return Ne.lFrame.contextLView=null,n}function Vn(){let n=gl();for(;null!==n&&64===n.type;)n=n.parent;return n}function gl(){return Ne.lFrame.currentTNode}function jr(n,e){const t=Ne.lFrame;t.currentTNode=n,t.isParent=e}function _l(){return Ne.lFrame.isParent}function Xf(){Ne.lFrame.isParent=!1}function Ha(){return Ne.lFrame.bindingIndex++}function Oo(n){const e=Ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Zw(n,e){const t=Ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,Xu(e)}function Xu(n){Ne.lFrame.currentDirectiveIndex=n}function em(n){const e=Ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function vl(){return Ne.lFrame.currentQueryIndex}function tm(n){Ne.lFrame.currentQueryIndex=n}function Qw(n){const e=n[_e];return 2===e.type?e.declTNode:1===e.type?n[mi]:null}function N_(n,e,t){if(t&ut.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ut.Host||(r=Qw(o),null===r||(o=o[Ra],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Ne.lFrame=O_();return i.currentTNode=e,i.lView=n,!0}function nm(n){const e=O_(),t=n[_e];Ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function O_(){const n=Ne.lFrame,e=null===n?null:n.child;return null===e?F_(n):e}function F_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function L_(){const n=Ne.lFrame;return Ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const V_=L_;function yl(){const n=L_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ci(){return Ne.lFrame.selectedIndex}function Gs(n){Ne.lFrame.selectedIndex=n}function pn(){const n=Ne.lFrame;return Hf(n.tView,n.selectedIndex)}let j_=!0;function qa(){return j_}function _o(n){j_=n}function Ga(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Ju(n,e,t){ed(n,e,3,t)}function bl(n,e,t,i){(3&n[He])===t&&ed(n,e,t,i)}function rm(n,e){let t=n[He];(3&t)===e&&(t&=8191,t+=1,n[He]=t)}function ed(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[ss]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[ss]+=65536),(a<o||-1==o)&&(uk(n,t,e,c),n[ss]=(4294901760&n[ss])+c+2),c++}function z_(n,e){Tr(4,n,e);const t=qi(null);try{e.call(n)}finally{qi(t),Tr(5,n,e)}}function uk(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[He]>>13<n[ss]>>16&&(3&n[He])===e&&(n[He]+=8192,z_(a,o)):z_(a,o)}const ds=-1;class Wa{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function id(n){return n!==ds}function wl(n){return 32767&n}function zr(n,e){let t=function mk(n){return n>>16}(n),i=e;for(;t>0;)i=i[Ra],t--;return i}let om=!0;function rd(n){const e=om;return om=n,e}const H_=255,od=5;let oE=0;const vo={};function sd(n,e){const t=ad(n,e);if(-1!==t)return t;const i=e[_e];i.firstCreatePass&&(n.injectorIndex=e.length,am(i.data,n),am(e,null),am(i.blueprint,null));const r=cd(n,e),o=n.injectorIndex;if(id(r)){const s=wl(r),a=zr(r,e),c=a[_e].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=r,o}function am(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ad(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function cd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=K_(r),null===i)return ds;if(t++,r=r[Ra],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ds}function cm(n,e,t){!function sm(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(rl)&&(i=t[rl]),null==i&&(i=t[rl]=oE++);const r=i&H_;e.data[n+(r>>od)]|=1<<r}(n,e,t)}function q_(n,e,t){if(t&ut.Optional||void 0!==n)return n;df()}function G_(n,e,t,i){if(t&ut.Optional&&void 0===i&&(i=null),!(t&(ut.Self|ut.Host))){const r=n[lo],o=hi(void 0);try{return r?r.get(e,i,t&ut.Optional):n_(e,i,t&ut.Optional)}finally{hi(o)}}return q_(i,0,t)}function lm(n,e,t,i=ut.Default,r){if(null!==n){if(2048&e[He]&&!(i&ut.Self)){const s=function uE(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[He]&&!(512&s[He]);){const a=ld(o,s,t,i|ut.Self,vo);if(a!==vo)return a;let c=o.parent;if(!c){const u=s[Sf];if(u){const h=u.get(t,vo,i);if(h!==vo)return h}c=K_(s),s=s[Ra]}o=c}return r}(n,e,t,i,vo);if(s!==vo)return s}const o=ld(n,e,t,i,vo);if(o!==vo)return o}return G_(e,t,i,r)}function ld(n,e,t,i,r){const o=function um(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(rl)?n[rl]:void 0;return"number"==typeof e?e>=0?e&H_:lE:e}(t);if("function"==typeof o){if(!N_(e,n,i))return i&ut.Host?q_(r,0,i):G_(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ut.Optional)return s;df()}finally{V_()}}else if("number"==typeof o){let s=null,a=ad(n,e),c=ds,u=i&ut.Host?e[mn][mi]:null;for((-1===a||i&ut.SkipSelf)&&(c=-1===a?cd(n,e):e[a+8],c!==ds&&Z_(i,!1)?(s=e[_e],a=wl(c),e=zr(c,e)):a=-1);-1!==a;){const h=e[_e];if(W_(o,a,h.data)){const p=aE(a,e,t,s,i,u);if(p!==vo)return p}c=e[a+8],c!==ds&&Z_(i,e[_e].data[a+8]===u)&&W_(o,a,e)?(s=h,a=wl(c),e=zr(c,e)):a=-1}}return r}function aE(n,e,t,i,r,o){const s=e[_e],a=s.data[n+8],h=ud(a,s,t,null==i?Na(a)&&om:i!=s&&0!=(3&a.type),r&ut.Host&&o===a);return null!==h?Fo(e,s,h,a):vo}function ud(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let v=i?a:a+h;v<g;v++){const b=s[v];if(v<c&&t===b||v>=c&&b.type===t)return v}if(r){const v=s[c];if(v&&po(v)&&v.type===t)return c}return null}function Fo(n,e,t,i){let r=n[t];const o=e.data;if(function td(n){return n instanceof Wa}(r)){const s=r;s.resolving&&function qc(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new P(-200,`Circular dependency in DI detected for ${n}${t}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():xe(n)}(o[t]));const a=rd(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?hi(s.injectImpl):null;N_(n,i,ut.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function tE(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=Hu(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==u&&hi(u),rd(a),s.resolving=!1,V_()}}return r}function W_(n,e,t){return!!(t[e+(n>>od)]&1<<n)}function Z_(n,e){return!(n&ut.Self||n&ut.Host&&e)}class Ti{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return lm(this._tNode,this._lView,e,Aa(i),t)}}function lE(){return new Ti(Vn(),ie())}function gn(n){return so(()=>{const e=n.prototype.constructor,t=e[co]||dm(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[co]||dm(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function dm(n){return oe(n)?()=>{const e=dm(S(n));return e&&e()}:Ur(n)}function K_(n){const e=n[_e],t=e.type;return 2===t?e.declTNode:1===t?n[mi]:null}const Za="__parameters__";function Ka(n,e,t){return so(()=>{const i=function hm(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,u,h){const p=c.hasOwnProperty(Za)?c[Za]:Object.defineProperty(c,Za,{value:[]})[Za];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Qa(n,e){n.forEach(t=>Array.isArray(t)?Qa(t,e):e(t))}function Lo(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Il(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xl(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Di(n,e,t){let i=Ya(n,e);return i>=0?n[1|i]=t:(i=~i,function nv(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Cl(n,e){const t=Ya(n,e);if(t>=0)return n[1|t]}function Ya(n,e){return function Xa(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const l=oo(Ka("Optional"),8),m=oo(Ka("SkipSelf"),4);function fv(n){return 128==(128&n.flags)}var Ja=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ja||{});const iz=/^>|^->|<!--|-->|--!>|<!-$/g,rz=/(<|>)/g,oz="\u200b$1\u200b";const bE=new Map;let sz=0;const EE="__ngContext__";function Wi(n,e){$i(e)?(n[EE]=e[ul],function cz(n){bE.set(n[ul],n)}(e)):n[EE]=e}let IE;function xE(n,e){return IE(n,e)}function wm(n){const e=n[on];return Hi(e)?e[on]:e}function Rk(n){return Nk(n[cl])}function Pk(n){return Nk(n[Br])}function Nk(n){for(;null!==n&&!Hi(n);)n=n[Br];return n}function pd(n,e,t,i,r){if(null!=i){let o,s=!1;Hi(i)?o=i:$i(i)&&(s=!0,i=i[In]);const a=Ft(i);0===n&&null!==t?null==r?Vk(e,t,a):Dl(e,t,a,r||null,!0):1===n&&null!==t?Dl(e,t,a,r||null,!0):2===n?function bv(n,e,t){const i=vv(n,e);i&&function Dz(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function kz(n,e,t,i,r){const o=t[mo];o!==Ft(t)&&pd(e,n,i,o,r);for(let a=On;a<t.length;a++){const c=t[a];Im(c[_e],c,n,e,i,o)}}(e,n,o,t,r)}}function CE(n,e){return n.createComment(function xk(n){return n.replace(iz,e=>e.replace(rz,oz))}(e))}function gv(n,e,t){return n.createElement(e,t)}function Fk(n,e){const t=n[dl],i=t.indexOf(e);S_(e),t.splice(i,1)}function _v(n,e){if(n.length<=On)return;const t=On+e,i=n[t];if(i){const r=i[ll];null!==r&&r!==n&&Fk(r,i),e>0&&(n[t-1][Br]=i[Br]);const o=Il(n,On+e);!function yz(n,e){Im(n,e,e[Ve],2,null,null),e[In]=null,e[mi]=null}(i[_e],i);const s=o[uo];null!==s&&s.detachView(o[_e]),i[on]=null,i[Br]=null,i[He]&=-129}return i}function TE(n,e){if(!(256&e[He])){const t=e[Ve];e[fo]&&zu(e[fo]),e[Pa]&&zu(e[Pa]),t.destroyNode&&Im(n,e,t,3,null,null),function Ez(n){let e=n[cl];if(!e)return DE(n[_e],n);for(;e;){let t=null;if($i(e))t=e[cl];else{const i=e[On];i&&(t=i)}if(!t){for(;e&&!e[Br]&&e!==n;)$i(e)&&DE(e[_e],e),e=e[on];null===e&&(e=n),$i(e)&&DE(e[_e],e),t=e&&e[Br]}e=t}}(e)}}function DE(n,e){if(!(256&e[He])){e[He]&=-129,e[He]|=256,function Tz(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Wa)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Tr(4,a,c);try{c.call(a)}finally{Tr(5,a,c)}}else{Tr(4,r,o);try{o.call(r)}finally{Tr(5,r,o)}}}}}(n,e),function Cz(n,e){const t=n.cleanup,i=e[os];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[os]=null);const r=e[ho];if(null!==r){e[ho]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[_e].type&&e[Ve].destroy();const t=e[ll];if(null!==t&&Hi(e[on])){t!==e[on]&&Fk(t,e);const i=e[uo];null!==i&&i.detachView(n)}!function lz(n){bE.delete(n[ul])}(e)}}function AE(n,e,t){return function Lk(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[In];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===si.None||o===si.Emulated)return null}return Gi(i,t)}}(n,e.parent,t)}function Dl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Vk(n,e,t){n.appendChild(e,t)}function Bk(n,e,t,i,r){null!==i?Dl(n,e,t,i,r):Vk(n,e,t)}function vv(n,e){return n.parentNode(e)}function Uk(n,e,t){return zk(n,e,t)}let SE,PE,Ev,zk=function jk(n,e,t){return 40&n.type?Gi(n,t):null};function yv(n,e,t,i){const r=AE(n,i,e),o=e[Ve],a=Uk(i.parent||e[mi],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)Bk(o,r,t[c],a,!1);else Bk(o,r,t,a,!1);void 0!==SE&&SE(o,i,e,t,r)}function Em(n,e){if(null!==e){const t=e.type;if(3&t)return Gi(e,n);if(4&t)return kE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Em(n,i);{const r=n[e.index];return Hi(r)?kE(-1,r):Ft(r)}}if(32&t)return xE(e,n)()||Ft(n[e.index]);{const i=Hk(n,e);return null!==i?Array.isArray(i)?i[0]:Em(wm(n[mn]),i):Em(n,e.next)}}return null}function Hk(n,e){return null!==e?n[mn][mi].projection[e.projection]:null}function kE(n,e){const t=On+n+1;if(t<e.length){const i=e[t],r=i[_e].firstChild;if(null!==r)return Em(i,r)}return e[mo]}function ME(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&Wi(Ft(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)ME(n,e,t.child,i,r,o,!1),pd(e,n,r,a,o);else if(32&c){const u=xE(t,i);let h;for(;h=u();)pd(e,n,r,h,o);pd(e,n,r,a,o)}else 16&c?Gk(n,e,i,t,r,o):pd(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Im(n,e,t,i,r,o){ME(t,i,n.firstChild,e,r,o,!1)}function Gk(n,e,t,i,r,o){const s=t[mn],c=s[mi].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)pd(e,n,r,c[u],o);else{let u=c;const h=s[on];fv(i)&&(u.flags|=128),ME(n,e,u,h,r,o,!0)}}function Wk(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Zk(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Mu(n,e,i),null!==r&&Wk(n,e,r),null!==o&&function Rz(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Yk(n){return function NE(){if(void 0===Ev&&(Ev=null,qt.trustedTypes))try{Ev=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ev}()?.createScriptURL(n)||n}class Al{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}function Hr(n){return n instanceof Al?n.changingThisBreaksApplicationSecurity:n}function ms(n,e){const t=function zz(n){return n instanceof Al&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${st})`)}return t===e}const Yz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ai=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ai||{});function Cm(n){const e=Tm();return e?e.sanitize(Ai.URL,n)||"":ms(n,"URL")?Hr(n):function Iv(n){return(n=String(n)).match(Yz)?n:"unsafe:"+n}(xe(n))}function oM(n){const e=Tm();if(e)return Yk(e.sanitize(Ai.RESOURCE_URL,n)||"");if(ms(n,"ResourceURL"))return Yk(Hr(n));throw new P(904,!1)}function Tm(){const n=ie();return n&&n[Ma].sanitizer}const Dm=new ne("ENVIRONMENT_INITIALIZER"),aM=new ne("INJECTOR",-1),cM=new ne("INJECTOR_DEF_TYPES");class VE{get(e,t=el){if(t===el){const i=new Error(`NullInjectorError: No provider for ${Vt(e)}!`);throw i.name="NullInjectorError",i}return t}}function l$(...n){return{\u0275providers:lM(0,n),\u0275fromNgModule:!0}}function lM(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Qa(e,s=>{const a=s;Cv(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&uM(r,o),t}function uM(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];UE(r,o=>{e(o,i)})}}function Cv(n,e,t,i){if(!(n=S(n)))return!1;let r=null,o=Ca(n);const s=!o&&yt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Ca(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Cv(u,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;i.add(r);try{Qa(o.imports,h=>{Cv(h,e,t,i)&&(u||=[],u.push(h))})}finally{}void 0!==u&&uM(u,e)}if(!a){const u=Ur(r)||(()=>new r);e({provide:r,useFactory:u,deps:gt},r),e({provide:cM,useValue:r,multi:!0},r),e({provide:Dm,useValue:()=>j(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const u=n;UE(c,h=>{e(h,u)})}}}return r!==n&&void 0!==n.providers}function UE(n,e){for(let t of n)Se(t)&&(t=t.\u0275providers),Array.isArray(t)?UE(t,e):e(t)}const u$=Ce({provide:String,useValue:Ce});function jE(n){return null!==n&&"object"==typeof n&&u$ in n}function Sl(n){return"function"==typeof n}const zE=new ne("Set Injector scope."),Tv={},h$={};let $E;function Dv(){return void 0===$E&&($E=new VE),$E}class qr{}class vd extends qr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qE(e,s=>this.processProvider(s)),this.records.set(aM,yd(void 0,this)),r.has("environment")&&this.records.set(qr,yd(void 0,this));const o=this.records.get(zE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(cM.multi,gt,ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ji(this),i=hi(void 0);try{return e()}finally{ji(t),hi(i)}}get(e,t=el,i=ut.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ku))return e[ku](this);i=Aa(i);const o=ji(this),s=hi(void 0);try{if(!(i&ut.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function _$(n){return"function"==typeof n||"object"==typeof n&&n instanceof ne}(e)&&Gc(e);c=u&&this.injectableDefInScope(u)?yd(HE(e),Tv):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&ut.Self?Dv():this.parent).get(e,t=i&ut.Optional&&t===el?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Du]=a[Du]||[]).unshift(Vt(e)),o)throw a;return function c_(n,e,t,i){const r=n[Du];throw e[a_]&&r.unshift(e[a_]),n.message=function l_(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Vt(e);if(Array.isArray(e))r=e.map(Vt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Vt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Ew,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Du]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{hi(s),ji(o)}}resolveInjectorInitializers(){const e=ji(this),t=hi(void 0);try{const r=this.get(Dm.multi,gt,ut.Self);for(const o of r)o()}finally{ji(e),hi(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Vt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){let t=Sl(e=S(e))?e:S(e&&e.provide);const i=function m$(n){return jE(n)?yd(void 0,n.useValue):yd(fM(n),Tv)}(e);if(Sl(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=yd(void 0,Tv,!0),r.factory=()=>Vr(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Tv&&(t.value=h$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function g$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=S(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function HE(n){const e=Gc(n),t=null!==e?e.factory:Ur(n);if(null!==t)return t;if(n instanceof ne)throw new P(204,!1);if(n instanceof Function)return function f$(n){const e=n.length;if(e>0)throw xl(e,"?"),new P(204,!1);const t=function e_(n){return n&&(n[Wc]||n[t_])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new P(204,!1)}function fM(n,e,t){let i;if(Sl(n)){const r=S(n);return Ur(r)||HE(r)}if(jE(n))i=()=>S(n.useValue);else if(function hM(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Vr(n.deps||[]));else if(function dM(n){return!(!n||!n.useExisting)}(n))i=()=>j(S(n.useExisting));else{const r=S(n&&(n.useClass||n.provide));if(!function p$(n){return!!n.deps}(n))return Ur(r)||HE(r);i=()=>new r(...Vr(n.deps))}return i}function yd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qE(n,e){for(const t of n)Array.isArray(t)?qE(t,e):t&&Se(t)?qE(t.\u0275providers,e):e(t)}const Av=new ne("AppId",{providedIn:"root",factory:()=>v$}),v$="ng",mM=new ne("Platform Initializer"),Vo=new ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bd=new ne("AnimationModuleType"),GE=new ne("CSP nonce",{providedIn:"root",factory:()=>function _d(){if(void 0!==PE)return PE;if(typeof document<"u")return document;throw new P(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pM=(n,e,t)=>null;function eI(n,e,t=!1){return pM(n,e,t)}class A${}class vM{}class k${resolveComponentFactory(e){throw function S$(n){const e=Error(`No component factory found for ${Vt(n)}.`);return e.ngComponent=n,e}(e)}}let Nv=(()=>{class n{static#e=this.NULL=new k$}return n})();function M$(){return Id(Vn(),ie())}function Id(n,e){return new Yt(Gi(n,e))}let Yt=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=M$}return n})();function R$(n){return n instanceof Yt?n.nativeElement:n}class km{}let Qs=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function P$(){const n=ie(),t=lr(Vn().index,n);return($i(t)?t:n)[Ve]}()}return n})(),N$=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>null})}return n})();class ec{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const bM=new ec("16.2.11"),iI={};function xM(n,e=null,t=null,i){const r=CM(n,e,t,i);return r.resolveInjectorInitializers(),r}function CM(n,e=null,t=null,i,r=new Set){const o=[t||gt,l$(n)];return i=i||("object"==typeof n?void 0:Vt(n)),new vd(o,e||Dv(),i||null,r)}let Ar=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=el;static#t=this.NULL=new VE;static create(t,i){if(Array.isArray(t))return xM({name:""},i,t,"");{const r=t.name??"";return xM({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=le({token:n,providedIn:"any",factory:()=>j(aM)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function oI(n){return n.ngOriginalError}class Bo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&oI(e);for(;t&&oI(t);)t=oI(t);return t||null}}function aI(n){return e=>{setTimeout(n,void 0,e)}}const Ut=class j$ extends V{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=aI(o),r&&(r=aI(r)),s&&(s=aI(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof mt&&e.add(a),a}};function DM(...n){}class ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ut(!1),this.onMicrotaskEmpty=new Ut(!1),this.onStable=new Ut(!1),this.onError=new Ut(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function z$(){const n="function"==typeof qt.requestAnimationFrame;let e=qt[n?"requestAnimationFrame":"setTimeout"],t=qt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function q$(n){const e=()=>{!function H$(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,lI(n),n.isCheckStableRunning=!0,cI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),lI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function W$(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return AM(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),SM(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return AM(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),SM(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,lI(n),cI(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ze.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(ze.isInAngularZone())throw new P(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,$$,DM,DM);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const $$={};function cI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function lI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function AM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SM(n){n._nesting--,cI(n)}class G${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ut,this.onMicrotaskEmpty=new Ut,this.onStable=new Ut,this.onError=new Ut}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const kM=new ne("",{providedIn:"root",factory:MM});function MM(){const n=ge(ze);let e=!0;return W(new Xe(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Xe(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{ze.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(je()))}function Ys(n){return n instanceof Function?n():n}let uI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function Mm(n){for(;n;){n[He]|=64;const e=wm(n);if(hl(n)&&!e)return n;n=e}return null}const FM=new ne("",{providedIn:"root",factory:()=>!1});let Fv=null;function UM(n,e){return n[e]??$M()}function jM(n,e){const t=$M();t.producerNode?.length&&(n[e]=Fv,t.lView=n,Fv=zM())}const iH={...y_,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Mm(n.lView)},lView:null};function zM(){return Object.create(iH)}function $M(){return Fv??=zM(),Fv}const Ye={};function Ee(n){HM(bt(),ie(),Ci()+n,!1)}function HM(n,e,t,i){if(!i)if(3==(3&e[He])){const o=n.preOrderCheckHooks;null!==o&&Ju(e,o,t)}else{const o=n.preOrderHooks;null!==o&&bl(e,o,0,t)}Gs(t)}function N(n,e=ut.Default){const t=ie();return null===t?j(n,e):lm(Vn(),t,S(n),e)}function Lv(n,e,t,i,r,o,s,a,c,u,h){const p=e.blueprint.slice();return p[In]=r,p[He]=140|i,(null!==u||n&&2048&n[He])&&(p[He]|=2048),Zu(p),p[on]=p[Ra]=n,p[Tn]=t,p[Ma]=s||n&&n[Ma],p[Ve]=a||n&&n[Ve],p[lo]=c||n&&n[lo]||null,p[mi]=o,p[ul]=function az(){return sz++}(),p[No]=h,p[Sf]=u,p[mn]=2==e.type?n[mn]:p,p}function Td(n,e,t,i,r){let o=n.data[e];if(null===o)o=function dI(n,e,t,i,r){const o=gl(),s=_l(),c=n.data[e]=function dH(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return $a()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function Ww(){return Ne.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function qs(){const n=Ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return jr(o,!0),o}function Rm(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function GM(n,e,t,i,r){const o=UM(e,fo),s=Ci(),a=2&i;try{Gs(-1),a&&e.length>dt&&HM(n,e,dt,!1),Tr(a?2:0,r);const u=a?o:null,h=Hs(u);try{null!==u&&(u.dirty=!1),t(i,r)}finally{Fa(u,h)}}finally{a&&null===e[fo]&&jM(e,fo),Gs(s),Tr(a?3:1,r)}}function hI(n,e,t){if(g_(e)){const i=qi(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{qi(i)}}}function fI(n,e,t){Kf()&&(function vH(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Na(t)&&function CH(n,e,t){const i=Gi(e,n),r=WM(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Vv(n,Lv(n,r,null,s,i,e,null,n[Ma].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||sd(t,e),Wi(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],u=Fo(e,n,a,t);Wi(u,e),null!==s&&TH(0,a-r,u,c,0,s),po(c)&&(lr(t.index,e)[Tn]=Fo(e,n,a,t))}}(n,e,t,Gi(t,e)),64==(64&t.flags)&&XM(n,e,t))}function mI(n,e,t=Gi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function WM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=pI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function pI(n,e,t,i,r,o,s,a,c,u,h){const p=dt+i,g=p+r,v=function oH(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ye);return t}(p,g),b="function"==typeof u?u():u;return v[_e]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:h}}let ZM=n=>null;function KM(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?QM(t,e,r,o):i.hasOwnProperty(r)&&QM(t,e,i[r],o)}return t}function QM(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Gr(n,e,t,i,r,o,s,a){const c=Gi(e,t);let h,u=e.inputs;!a&&null!=u&&(h=u[i])?(bI(n,t,h,i,r),Na(e)&&function mH(n,e){const t=lr(e,n);16&t[He]||(t[He]|=64)}(t,e.index)):3&e.type&&(i=function fH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function gI(n,e,t,i){if(Kf()){const r=null===i?null:{"":-1},o=function bH(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(sl(e,s.selectors,!1))if(i||(i=[]),po(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),_I(n,e,a.length)}else i.unshift(s),_I(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&YM(n,e,t,s,r,a),r&&function wH(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new P(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Us(t.mergedAttrs,t.attrs)}function YM(n,e,t,i,r,o){for(let u=0;u<i.length;u++)cm(sd(t,e),n,i[u].type);!function IH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let u=0;u<i.length;u++){const h=i[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=Rm(n,e,i.length,null);for(let u=0;u<i.length;u++){const h=i[u];t.mergedAttrs=Us(t.mergedAttrs,h.hostAttrs),xH(n,t,e,c,h),EH(c,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function hH(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,u=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,b=g?g.outputs:null;c=KM(p.inputs,h,c,g?g.inputs:null),u=KM(p.outputs,h,u,b);const w=null===c||null===s||Ou(e)?null:DH(c,h,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,o)}function XM(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Kw(){return Ne.lFrame.currentDirectiveIndex}();try{Gs(o);for(let a=i;a<r;a++){const c=n.data[a],u=e[a];Xu(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&yH(c,u)}}finally{Gs(-1),Xu(s)}}function yH(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function _I(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function EH(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;po(e)&&(t[""]=n)}}function xH(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=Ur(r.type)),s=new Wa(o,po(r),N);n.blueprint[i]=s,t[i]=s,function gH(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function _H(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Rm(n,t,r.hostVars,Ye),r)}function ps(n,e,t,i,r,o){const s=Gi(n,e);!function vI(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?xe(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ve],s,o,n.value,t,i,r)}function TH(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)JM(i,t,s[a++],s[a++],s[a++])}function JM(n,e,t,i,r){const o=qi(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{qi(o)}}function DH(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function eR(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function tR(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];tm(t[i]),s.contentQueries(2,e[o],o)}}}function Vv(n,e){return n[cl]?n[Bu][Br]=e:n[cl]=e,n[Bu]=e,e}function yI(n,e,t){tm(0);const i=qi(null);try{e(n,t)}finally{qi(i)}}function nR(n){return n[os]||(n[os]=[])}function iR(n){return n.cleanup||(n.cleanup=[])}function rR(n,e,t){return(null===n||po(n))&&(t=function zf(n){for(;Array.isArray(n);){if("object"==typeof n[kf])return n;n=n[In]}return null}(t[e.index])),t[Ve]}function oR(n,e){const t=n[lo],i=t?t.get(Bo,null):null;i&&i.handleError(e)}function bI(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];JM(n.data[s],e[s],i,a,r)}}function Xs(n,e,t){const i=Wu(e,n);!function Ok(n,e,t){n.setValue(e,t)}(n[Ve],i,t)}function AH(n,e){const t=lr(e,n),i=t[_e];!function SH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[In];null!==r&&null===t[No]&&(t[No]=eI(r,t[lo])),wI(i,t,t[Tn])}function wI(n,e,t){nm(e);try{const i=n.viewQuery;null!==i&&yI(1,i,t);const r=n.template;null!==r&&GM(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&tR(n,e),n.staticViewQueries&&yI(2,n.viewQuery,t);const o=n.components;null!==o&&function kH(n,e){for(let t=0;t<e.length;t++)AH(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[He]&=-5,yl()}}let sR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function T_(n,e,t){const i=Object.create(Lw);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Ff(i),run:()=>{if(i.dirty=!1,i.hasRun&&!E_(i))return;i.hasRun=!0;const s=Hs(i);try{i.cleanupFn(),i.cleanupFn=D_,i.fn(r)}finally{Fa(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function Bv(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Mo(r,a):2==o&&(i=Mo(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Pm(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Ft(o)),Hi(o)&&aR(o,i);const s=t.type;if(8&s)Pm(n,e,t.child,i);else if(32&s){const a=xE(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=Hk(e,t);if(Array.isArray(a))i.push(...a);else{const c=wm(e[mn]);Pm(c[_e],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function aR(n,e){for(let t=On;t<n.length;t++){const i=n[t],r=i[_e].firstChild;null!==r&&Pm(i[_e],i,r,e)}n[mo]!==n[In]&&e.push(n[mo])}function Uv(n,e,t,i=!0){const r=e[Ma],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{cR(n,e,n.template,t)}catch(c){throw i&&oR(e,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function cR(n,e,t,i){const r=e[He];if(256!=(256&r)){e[Ma].effectManager?.flush(),nm(e);try{Zu(e),function Qu(n){return Ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&GM(n,e,t,2,i);const s=3==(3&r);if(s){const u=n.preOrderCheckHooks;null!==u&&Ju(e,u,null)}else{const u=n.preOrderHooks;null!==u&&bl(e,u,0,null),rm(e,0)}if(function PH(n){for(let e=Rk(n);null!==e;e=Pk(e)){if(!e[p_])continue;const t=e[dl];for(let i=0;i<t.length;i++){Wf(t[i])}}}(e),lR(e,2),null!==n.contentQueries&&tR(n,e),s){const u=n.contentCheckHooks;null!==u&&Ju(e,u)}else{const u=n.contentHooks;null!==u&&bl(e,u,1),rm(e,1)}!function rH(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=UM(e,Pa);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)Gs(~o);else{const s=o,a=t[++r],c=t[++r];Zw(a,s),i.dirty=!1;const u=Hs(i);try{c(2,e[s])}finally{Fa(i,u)}}}}finally{null===e[Pa]&&jM(e,Pa),Gs(-1)}}(n,e);const a=n.components;null!==a&&dR(e,a,0);const c=n.viewQuery;if(null!==c&&yI(2,c,i),s){const u=n.viewCheckHooks;null!==u&&Ju(e,u)}else{const u=n.viewHooks;null!==u&&bl(e,u,2),rm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[He]&=-73,S_(e)}finally{yl()}}}function lR(n,e){for(let t=Rk(n);null!==t;t=Pk(t))for(let i=On;i<t.length;i++)uR(t[i],e)}function NH(n,e,t){uR(lr(e,n),t)}function uR(n,e){if(!function Uw(n){return 128==(128&n[He])}(n))return;const t=n[_e],i=n[He];if(80&i&&0===e||1024&i||2===e)cR(t,n,t.template,n[Tn]);else if(n[js]>0){lR(n,1);const r=t.components;null!==r&&dR(n,r,1)}}function dR(n,e,t){for(let i=0;i<e.length;i++)NH(n,e[i],t)}class Nm{get rootNodes(){const e=this._lView,t=e[_e];return Pm(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(e){this._lView[Tn]=e}get destroyed(){return 256==(256&this._lView[He])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[on];if(Hi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(_v(e,i),Il(t,i))}this._attachedToViewContainer=!1}TE(this._lView[_e],this._lView)}onDestroy(e){!function k_(n,e){if(256==(256&n[He]))throw new P(911,!1);null===n[ho]&&(n[ho]=[]),n[ho].push(e)}(this._lView,e)}markForCheck(){Mm(this._cdRefInjectingView||this._lView)}detach(){this._lView[He]&=-129}reattach(){this._lView[He]|=128}detectChanges(){Uv(this._lView[_e],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wz(n,e){Im(n,e,e[Ve],2,null,null)}(this._lView[_e],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e}}class OH extends Nm{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Uv(e[_e],e,e[Tn],!1)}checkNoChanges(){}get context(){return null}}class hR extends Nv{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=yt(e);return new Om(t,this.ngModule)}}function fR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class LH{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Aa(i);const r=this.injector.get(e,iI,i);return r!==iI||t===iI?r:this.parentInjector.get(e,t,i)}}class Om extends vM{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=fR(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return fR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function xf(n){return n.map(xw).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof qr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new LH(e,o):e,a=s.get(km,null);if(null===a)throw new P(407,!1);const p={rendererFactory:a,sanitizer:s.get(N$,null),effectManager:s.get(sR,null),afterRenderEventManager:s.get(uI,null)},g=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",b=i?function sH(n,e,t,i){const o=i.get(FM,!1)||t===si.ShadowDom,s=n.selectRootElement(e,o);return function aH(n){ZM(n)}(s),s}(g,i,this.componentDef.encapsulation,s):gv(g,v,function FH(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(v)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==b&&(A=eI(b,s,!0));const L=pI(0,null,null,1,0,null,null,null,null,null,null),Y=Lv(null,L,null,M,null,null,p,g,s,null,A);let ce,De;nm(Y);try{const Ge=this.componentDef;let Wt,Ir=null;Ge.findHostDirectiveDefs?(Wt=[],Ir=new Map,Ge.findHostDirectiveDefs(Ge,Wt,Ir),Wt.push(Ge)):Wt=[Ge];const Or=function BH(n,e){const t=n[_e],i=dt;return n[i]=e,Td(t,i,2,"#host",null)}(Y,b),mw=function UH(n,e,t,i,r,o,s){const a=r[_e];!function jH(n,e,t,i){for(const r of n)e.mergedAttrs=Us(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Bv(e,e.mergedAttrs,!0),null!==t&&Zk(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=eI(e,r[lo]));const u=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=Lv(r,WM(t),null,h,r[n.index],n,o,u,null,null,c);return a.firstCreatePass&&_I(a,n,i.length-1),Vv(r,p),r[n.index]=p}(Or,b,Ge,Wt,Y,p,g);De=Hf(L,dt),b&&function $H(n,e,t,i){if(i)Mu(n,t,["ng-version",bM.full]);else{const{attrs:r,classes:o}=function Cw(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Cr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Mu(n,t,r),o&&o.length>0&&Wk(n,t,o.join(" "))}}(g,Ge,b,i),void 0!==t&&function HH(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(De,this.ngContentSelectors,t),ce=function zH(n,e,t,i,r,o){const s=Vn(),a=r[_e],c=Gi(s,r);YM(a,r,s,t,null,i);for(let h=0;h<t.length;h++)Wi(Fo(r,a,s.directiveStart+h,s),r);XM(a,r,s),c&&Wi(c,r);const u=Fo(r,a,s.directiveStart+s.componentOffset,s);if(n[Tn]=r[Tn]=u,null!==o)for(const h of o)h(u,e);return hI(a,s,n),u}(mw,Ge,Wt,Ir,Y,[qH]),wI(L,Y,null)}finally{yl()}return new VH(this.componentType,ce,Id(De,Y),Y,De)}}class VH extends A${constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new OH(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;bI(o[_e],o,r,e,t),this.previousInputValues.set(e,t),Mm(lr(this._tNode.index,o))}}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function qH(){const n=Vn();Ga(ie()[_e],n)}function at(n){let e=function mR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(po(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=jv(n.inputs),s.inputTransforms=jv(n.inputTransforms),s.declaredInputs=jv(n.declaredInputs),s.outputs=jv(n.outputs);const a=r.hostBindings;a&&KH(n,a);const c=r.viewQuery,u=r.contentQueries;if(c&&WH(n,c),u&&ZH(n,u),Kn(n.inputs,r.inputs),Kn(n.declaredInputs,r.declaredInputs),Kn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Kn(s.inputTransforms,r.inputTransforms)),po(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===at&&(t=!1)}}e=Object.getPrototypeOf(e)}!function GH(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Us(r.hostAttrs,t=Us(t,r.hostAttrs))}}(i)}function jv(n){return n===ao?{}:n===gt?[]:n}function WH(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function ZH(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function KH(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function vR(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function zv(n){return!!function EI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Zi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Si(n,e,t,i){const r=ie();return Zi(r,Ha(),e)&&(bt(),ps(pn(),r,n,e,t,i)),Si}function Ad(n,e,t,i){return Zi(n,Ha(),t)?e+xe(t)+i:Ye}function Sd(n,e,t,i,r,o){const a=function kl(n,e,t,i){const r=Zi(n,e,t);return Zi(n,e+1,i)||r}(n,function go(){return Ne.lFrame.bindingIndex}(),t,r);return Oo(2),a?e+xe(t)+i+xe(r)+o:Ye}function ft(n,e,t,i,r,o,s,a){const c=ie(),u=bt(),h=n+dt,p=u.firstCreatePass?function b5(n,e,t,i,r,o,s,a,c){const u=e.consts,h=Td(e,n,4,s||null,us(u,a));gI(e,t,h,us(u,c)),Ga(e,h);const p=h.tView=pI(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,u,c,e,t,i,r,o,s):u.data[h];jr(p,!1);const g=MR(u,c,p,n);qa()&&yv(u,c,g,p),Wi(g,c),Vv(c,c[h]=eR(g,c,g,p)),Rf(p)&&fI(u,c,p),null!=s&&mI(c,p,a)}let MR=function RR(n,e,t,i){return _o(!0),e[Ve].createComment("")};function Uo(n){return function ja(n,e){return n[e]}(function P_(){return Ne.lFrame.contextLView}(),dt+n)}function qe(n,e,t){const i=ie();return Zi(i,Ha(),e)&&Gr(bt(),pn(),i,n,e,i[Ve],t,!1),qe}function AI(n,e,t,i,r){const s=r?"class":"style";bI(n,t,e.inputs[s],s,i)}function z(n,e,t,i){const r=ie(),o=bt(),s=dt+n,a=r[Ve],c=o.firstCreatePass?function x5(n,e,t,i,r,o){const s=e.consts,c=Td(e,n,2,i,us(s,r));return gI(e,t,c,us(s,o)),null!==c.attrs&&Bv(c,c.attrs,!1),null!==c.mergedAttrs&&Bv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],u=PR(o,r,c,a,e,n);r[s]=u;const h=Rf(c);return jr(c,!0),Zk(a,u,c),32!=(32&c.flags)&&qa()&&yv(o,r,u,c),0===function zw(){return Ne.lFrame.elementDepthCount}()&&Wi(u,r),function Zf(){Ne.lFrame.elementDepthCount++}(),h&&(fI(o,r,c),hI(o,c,r)),null!==i&&mI(r,c),z}function K(){let n=Vn();_l()?Xf():(n=n.parent,jr(n,!1));const e=n;(function $w(n){return Ne.skipHydrationRootTNode===n})(e)&&function Yf(){Ne.skipHydrationRootTNode=null}(),function R_(){Ne.lFrame.elementDepthCount--}();const t=bt();return t.firstCreatePass&&(Ga(t,n),g_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function iE(n){return 0!=(8&n.flags)}(e)&&AI(t,e,ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function rE(n){return 0!=(16&n.flags)}(e)&&AI(t,e,ie(),e.stylesWithoutHost,!1),K}function ht(n,e,t,i){return z(n,e,t,i),K(),ht}let PR=(n,e,t,i,r,o)=>(_o(!0),gv(i,r,function U_(){return Ne.lFrame.currentNamespace}()));function Fd(n,e,t){const i=ie(),r=bt(),o=n+dt,s=r.firstCreatePass?function D5(n,e,t,i,r){const o=e.consts,s=us(o,i),a=Td(e,n,8,"ng-container",s);return null!==s&&Bv(a,s,!0),gI(e,t,a,us(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];jr(s,!0);const a=OR(r,i,s,n);return i[o]=a,qa()&&yv(r,i,a,s),Wi(a,i),Rf(s)&&(fI(r,i,s),hI(r,s,i)),null!=t&&mI(i,s),Fd}function Ld(){let n=Vn();const e=bt();return _l()?Xf():(n=n.parent,jr(n,!1)),e.firstCreatePass&&(Ga(e,n),g_(n)&&e.queries.elementEnd(n)),Ld}let OR=(n,e,t,i)=>(_o(!0),CE(e[Ve],""));function jo(){return ie()}function Um(n){return!!n&&"function"==typeof n.then}function FR(n){return!!n&&"function"==typeof n.subscribe}function rt(n,e,t,i){const r=ie(),o=bt(),s=Vn();return LR(o,r,r[Ve],s,n,e,i),rt}function SI(n,e){const t=Vn(),i=ie(),r=bt();return LR(r,i,rR(em(r.data),t,i),t,n,e),SI}function LR(n,e,t,i,r,o,s){const a=Rf(i),u=n.firstCreatePass&&iR(n),h=e[Tn],p=nR(e);let g=!0;if(3&i.type||s){const w=Gi(i,e),I=s?s(w):w,M=p.length,A=s?Y=>s(Ft(Y[i.index])):i.index;let L=null;if(!s&&a&&(L=function k5(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[os],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,g=!1;else{o=BR(i,e,h,o,!1);const Y=t.listen(I,r,o);p.push(o,Y),u&&u.push(r,A,M,M+1)}}else o=BR(i,e,h,o,!1);const v=i.outputs;let b;if(g&&null!==v&&(b=v[r])){const w=b.length;if(w)for(let I=0;I<w;I+=2){const ce=e[b[I]][b[I+1]].subscribe(o),De=p.length;p.push(o,ce),u&&u.push(r,i.index,De,-(De+1))}}}function VR(n,e,t,i){try{return Tr(6,e,t),!1!==t(i)}catch(r){return oR(n,r),!1}finally{Tr(7,e,t)}}function BR(n,e,t,i,r){return function o(s){if(s===Function)return i;Mm(n.componentOffset>-1?lr(n.index,e):e);let c=VR(e,t,i,s),u=o.__ngNextListenerFn__;for(;u;)c=VR(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function $e(n=1){return function Yw(n){return(Ne.lFrame.contextLView=function Xw(n,e){for(;n>0;)e=e[Ra],n--;return e}(n,Ne.lFrame.contextLView))[Tn]}(n)}function M5(n,e){let t=null;const i=function Ef(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?sl(n,o,!0):f_(i,o))return r}else t=r}return t}function Wr(n){const e=ie()[mn][mi];if(!e.projection){const i=e.projection=xl(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?M5(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Xt(n,e=0,t){const i=ie(),r=bt(),o=Td(r,dt+n,16,null,t||null);null===o.projection&&(o.projection=e),Xf(),(!i[No]||$a())&&32!=(32&o.flags)&&function Sz(n,e,t){Gk(e[Ve],0,e,t,AE(n,t,e),Uk(t.parent||e[mi],t,e))}(r,i,o)}function Vd(n,e,t){return kI(n,"",e,"",t),Vd}function kI(n,e,t,i,r){const o=ie(),s=Ad(o,e,t,i);return s!==Ye&&Gr(bt(),pn(),o,n,s,o[Ve],r,!1),kI}function Wv(n,e){return n<<17|e<<2}function tc(n){return n>>17&32767}function MI(n){return 2|n}function Ml(n){return(131068&n)>>2}function RI(n,e){return-131069&n|e<<2}function PI(n){return 1|n}function ZR(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?tc(o):Ml(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];L5(n[a],e)&&(c=!0,n[a+1]=i?PI(h):MI(h)),a=i?tc(h):Ml(h)}c&&(n[t+1]=i?MI(o):PI(o))}function L5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ya(n,e)>=0}function jm(n,e,t){return zo(n,e,t,!1),jm}function Un(n,e){return zo(n,e,null,!0),Un}function zo(n,e,t,i){const r=ie(),o=bt(),s=Oo(2);o.firstUpdatePass&&function n1(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Ci()],s=function t1(n,e){return e>=n.expandoStartIndex}(n,t);(function a1(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function G5(n,e,t,i){const r=em(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=zm(t=NI(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=NI(r,n,e,t,i),null===o){let c=function W5(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ml(i))return n[tc(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=NI(null,n,e,c[1],i),c=zm(c,e.attrs,i),function Z5(n,e,t,i){n[tc(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function K5(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=zm(i,n[o].hostAttrs,t);return zm(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function O5(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=tc(s),c=Ml(s);n[i]=t;let h,u=!1;if(Array.isArray(t)?(h=t[1],(null===h||Ya(t,h)>0)&&(u=!0)):h=t,r)if(0!==c){const g=tc(n[a+1]);n[i+1]=Wv(g,a),0!==g&&(n[g+1]=RI(n[g+1],i)),n[a+1]=function P5(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Wv(a,0),0!==a&&(n[a+1]=RI(n[a+1],i)),a=i;else n[i+1]=Wv(c,0),0===a?a=i:n[c+1]=RI(n[c+1],i),c=i;u&&(n[i+1]=MI(n[i+1])),ZR(n,h,i,!0),ZR(n,h,i,!1),function F5(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ya(o,e)>=0&&(t[i+1]=PI(t[i+1]))}(e,h,n,i,o),s=Wv(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==Ye&&Zi(r,s,e)&&function o1(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],h=function N5(n){return 1==(1&n)}(u)?s1(c,e,t,r,Ml(u),s):void 0;Zv(h)||(Zv(o)||function R5(n){return 2==(2&n)}(u)&&(o=s1(c,null,t,r,a,s)),function Mz(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Ja.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ja.Important),n.setStyle(t,i,r,o))}}(i,s,Wu(Ci(),t),r,o))}(o,o.data[Ci()],r,r[Ve],n,r[s+1]=function J5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Vt(Hr(n)))),n}(e,t),i,s)}function NI(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=zm(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function zm(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Di(n,s,!!t||e[++o]))}return void 0===n?null:n}function s1(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],u=Array.isArray(c),h=u?c[1]:c,p=null===h;let g=t[r+1];g===Ye&&(g=p?gt:void 0);let v=p?Cl(g,i):h===i?g:void 0;if(u&&!Zv(v)&&(v=Cl(c,i)),Zv(v)&&(a=v,s))return a;const b=n[r+1];r=s?tc(b):Ml(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Cl(c,i))}return a}function Zv(n){return void 0!==n}function fe(n,e=""){const t=ie(),i=bt(),r=n+dt,o=i.firstCreatePass?Td(i,r,1,e,null):i.data[r],s=c1(i,t,o,e,n);t[r]=s,qa()&&yv(i,t,s,o),jr(o,!1)}let c1=(n,e,t,i,r)=>(_o(!0),function pv(n,e){return n.createText(e)}(e[Ve],i));function ki(n){return Js("",n,""),ki}function Js(n,e,t){const i=ie(),r=Ad(i,n,e,t);return r!==Ye&&Xs(i,Ci(),r),Js}function Kv(n,e,t,i,r){const o=ie(),s=Sd(o,n,e,t,i,r);return s!==Ye&&Xs(o,Ci(),s),Kv}function OI(n,e,t){const i=ie();if(Zi(i,Ha(),e)){const o=bt(),s=pn();Gr(o,s,i,n,e,rR(em(o.data),s,i),t,!0)}return OI}const jd="en-US";let A1=jd;function VI(n,e,t,i,r){if(n=S(n),Array.isArray(n))for(let o=0;o<n.length;o++)VI(n[o],e,t,i,r);else{const o=bt(),s=ie(),a=Vn();let c=Sl(n)?n:S(n.provide);const u=fM(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(Sl(n)||!n.multi){const v=new Wa(u,r,N),b=UI(c,e,r?h:h+g,p);-1===b?(cm(sd(a,s),o,c),BI(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[b]=v,s[b]=v)}else{const v=UI(c,e,h+g,p),b=UI(c,e,h,h+g),I=b>=0&&t[b];if(r&&!I||!r&&!(v>=0&&t[v])){cm(sd(a,s),o,c);const M=function b8(n,e,t,i,r){const o=new Wa(n,t,N);return o.multi=[],o.index=e,o.componentProviders=0,J1(o,r,i&&!t),o}(r?y8:v8,t.length,r,i,u);!r&&I&&(t[b].providerFactory=M),BI(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else BI(o,n,v>-1?v:b,J1(t[r?b:v],u,!r&&i));!r&&i&&I&&t[b].componentProviders++}}}function BI(n,e,t,i){const r=Sl(e),o=function d$(n){return!!n.useClass}(e);if(r||o){const c=(o?S(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=u.indexOf(t);-1===h?u.push(t,[i,c]):u[h+1].push(i,c)}else u.push(t,c)}}}function J1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function UI(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function v8(n,e,t,i){return jI(this.multi,[])}function y8(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Fo(t,t[_e],this.providerFactory.index,i);o=a.slice(0,s),jI(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],jI(r,o);return o}function jI(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Rt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function _8(n,e,t){const i=bt();if(i.firstCreatePass){const r=po(n);VI(t,i.data,i.blueprint,r,!0),VI(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Pl{}class eP{}class zI extends Pl{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hR(this);const r=zi(e);this._bootstrapComponents=Ys(r.bootstrap),this._r3Injector=CM(e,t,[{provide:Pl,useValue:this},{provide:Nv,useValue:this.componentFactoryResolver},...i],Vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $I extends eP{constructor(e){super(),this.moduleType=e}create(e){return new zI(this.moduleType,e,[])}}class tP extends Pl{constructor(e){super(),this.componentFactoryResolver=new hR(this),this.instance=null;const t=new vd([...e.providers,{provide:Pl,useValue:this},{provide:Nv,useValue:this.componentFactoryResolver}],e.parent||Dv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function HI(n,e,t=null){return new tP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let I8=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=lM(0,t.type),r=i.length>0?HI([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=le({token:n,providedIn:"environment",factory:()=>new n(j(qr))})}return n})();function nP(n){n.getStandaloneInjector=e=>e.get(I8).getOrCreateStandaloneInjector(n)}function K8(){return this._results[Symbol.iterator]()}class zd{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ut)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=zd.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=K8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function ur(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function hE(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Y8(n,e,t,i=!0){const r=e[_e];if(function Iz(n,e,t,i){const r=On+i,o=t.length;i>0&&(t[r-1][Br]=e),i<o-On?(e[Br]=t[r],Lo(t,On+i,e)):(t.push(e),e[Br]=null),e[on]=t;const s=e[ll];null!==s&&t!==s&&function xz(n,e){const t=n[dl];e[mn]!==e[on][on][mn]&&(n[p_]=!0),null===t?n[dl]=[e]:t.push(e)}(s,e);const a=e[uo];null!==a&&a.insertView(n),e[He]|=128}(r,e,n,t),i){const o=kE(t,n),s=e[Ve],a=vv(s,n[mo]);null!==a&&function bz(n,e,t,i,r,o){i[In]=r,i[mi]=e,Im(n,i,t,1,r,o)}(r,n[mi],s,e,a,o)}}let ea=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=eq}return n})();const X8=ea,J8=class extends X8{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Q8(n,e,t,i){const r=e.tView,a=Lv(n,r,t,4096&n[He]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[ll]=n[e.index];const u=n[uo];return null!==u&&(a[uo]=u.createEmbeddedView(r)),wI(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new Nm(r)}};function eq(){return ey(Vn(),ie())}function ey(n,e){return 4&n.type?new J8(e,n,Id(n,e)):null}let Ho=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=sq}return n})();function sq(){return bP(Vn(),ie())}const aq=Ho,vP=class extends aq{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Id(this._hostTNode,this._hostLView)}get injector(){return new Ti(this._hostTNode,this._hostLView)}get parentInjector(){const e=cd(this._hostTNode,this._hostLView);if(id(e)){const t=zr(e,this._hostLView),i=wl(e);return new Ti(t[_e].data[i+8],t)}return new Ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=yP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-On}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function Zs(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const w=t||{};a=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const c=s?e:new Om(yt(e)),u=i||this.parentInjector;if(!o&&null==c.ngModule){const I=(s?u:this.parentInjector).get(qr,null);I&&(o=I)}yt(c.componentType??{});const v=c.create(u,r,null,o);return this.insertImpl(v.hostView,a,false),v}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function Gf(n){return Hi(n[on])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=r[on],h=new vP(u,u[mi],u[on]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return Y8(a,r,s,!i),e.attachToViewContainerRef(),Lo(GI(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=yP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=_v(this._lContainer,t);i&&(Il(GI(this._lContainer),t),TE(i[_e],i))}detach(e){const t=this._adjustIndex(e,-1),i=_v(this._lContainer,t);return i&&null!=Il(GI(this._lContainer),t)?new Nm(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function yP(n){return n[8]}function GI(n){return n[8]||(n[8]=[])}function bP(n,e){let t;const i=e[n.index];return Hi(i)?t=i:(t=eR(i,e,null,n),e[n.index]=t,Vv(e,t)),wP(t,e,n,i),new vP(t,n,e)}let wP=function EP(n,e,t,i){if(n[mo])return;let r;r=8&t.type?Ft(i):function cq(n,e){const t=n[Ve],i=t.createComment(""),r=Gi(e,n);return Dl(t,vv(t,r),i,function Az(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[mo]=r};class WI{constructor(e){this.queryList=e,this.matches=null}clone(){return new WI(this.queryList)}setDirty(){this.queryList.setDirty()}}class ZI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new ZI(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==DP(e,t).matches&&this.queries[t].setDirty()}}class IP{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class KI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new KI(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class QI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new QI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,dq(t,o)),this.matchTNodeWithReadOption(e,t,ud(t,e,o,!1,!1))}else i===ea?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ud(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Yt||r===Ho||r===ea&&4&t.type)this.addMatch(t.index,-2);else{const o=ud(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function dq(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function fq(n,e,t,i){return-1===t?function hq(n,e){return 11&n.type?Id(n,e):4&n.type?ey(n,e):null}(e,n):-2===t?function mq(n,e,t){return t===Yt?Id(e,n):t===ea?ey(e,n):t===Ho?bP(e,n):void 0}(n,e,i):Fo(n,n[_e],t,e)}function xP(n,e,t,i){const r=e[uo].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:fq(e,o[u],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function YI(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=xP(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const u=o[a+1],h=e[-c];for(let p=On;p<h.length;p++){const g=h[p];g[ll]===g[on]&&YI(g[_e],g,u,i)}if(null!==h[dl]){const p=h[dl];for(let g=0;g<p.length;g++){const v=p[g];YI(v[_e],v,u,i)}}}}}return i}function Yn(n){const e=ie(),t=bt(),i=vl();tm(i+1);const r=DP(t,i);if(n.dirty&&function qf(n){return 4==(4&n[He])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?YI(t,e,i,[]):xP(t,e,r,i);n.reset(o,R$),n.notifyOnChanges()}return!0}return!1}function $d(n,e,t){const i=bt();i.firstCreatePass&&(TP(i,new IP(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),CP(i,ie(),e)}function fr(n,e,t,i){const r=bt();if(r.firstCreatePass){const o=Vn();TP(r,new IP(e,t,i),o.index),function gq(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}CP(r,ie(),t)}function Xn(){return function pq(n,e){return n[uo].queries[e].queryList}(ie(),vl())}function CP(n,e,t){const i=new zd(4==(4&t));(function uH(n,e,t,i){const r=nR(e);r.push(t),n.firstCreatePass&&iR(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[uo]&&(e[uo]=new ZI),e[uo].queries.push(new WI(i))}function TP(n,e,t){null===n.queries&&(n.queries=new KI),n.queries.track(new QI(e,t))}function DP(n,e){return n.queries.getByIndex(e)}const ix=new ne("Application Initializer");let rx=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ge(ix,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Um(o))t.push(o);else if(FR(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HP=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ys=new ne("LocaleId",{providedIn:"root",factory:()=>ge(ys,ut.Optional|ut.SkipSelf)||function Lq(){return typeof $localize<"u"&&$localize.locale||jd}()});let ry=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new R(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Uq{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let qP=(()=>{class n{compileModuleSync(t){return new $I(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Ys(zi(t).declarations).reduce((s,a)=>{const c=yt(a);return c&&s.push(new Om(c)),s},[]);return new Uq(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const KP=new ne(""),sy=new ne("");let lx,ax=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lx||(function c9(n){lx=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(j(ze),j(cx),j(sy))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),cx=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return lx?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),nc=null;const QP=new ne("AllowMultipleToken"),ux=new ne("PlatformDestroyListeners"),dx=new ne("appBootstrapListener");class XP{constructor(e,t){this.name=e,this.token=t}}function eN(n,e,t=[]){const i=`Platform: ${e}`,r=new ne(i);return(o=[])=>{let s=hx();if(!s||s.injector.get(QP,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function d9(n){if(nc&&!nc.get(QP,!1))throw new P(400,!1);(function YP(){!function Rw(n){I_=n}(()=>{throw new P(600,!1)})})(),nc=n;const e=n.get(nN);(function JP(n){n.get(mM,null)?.forEach(t=>t())})(n)}(function tN(n=[],e){return Ar.create({name:e,providers:[{provide:zE,useValue:"platform"},{provide:ux,useValue:new Set([()=>nc=null])},...n]})}(a,i))}return function f9(n){const e=hx();if(!e)throw new P(401,!1);return e}()}}function hx(){return nc?.get(nN)??null}let nN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function m9(n="zone.js",e){return"noop"===n?new G$:"zone.js"===n?new ze(e):n}(i?.ngZone,function iN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function E8(n,e,t){return new zI(n,e,t)}(t.moduleType,this.injector,function cN(n){return[{provide:ze,useFactory:n},{provide:Dm,multi:!0,useFactory:()=>{const e=ge(g9,{optional:!0});return()=>e.initialize()}},{provide:aN,useFactory:p9},{provide:kM,useFactory:MM}]}(()=>r)),s=o.injector.get(Bo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{ay(this._modules,o),a.unsubscribe()})}),function rN(n,e,t){try{const i=t();return Um(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(rx);return a.runInitializers(),a.donePromise.then(()=>(function S1(n){Ui(n,"Expected localeId to be defined"),"string"==typeof n&&(A1=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ys,jd)||jd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=oN({},i);return function l9(n,e,t){const i=new $I(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Nl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new P(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(ux,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(j(Ar))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function oN(n,e){return Array.isArray(e)?e.reduce(oN,n):{...n,...e}}let Nl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ge(aN),this.zoneIsStable=ge(kM),this.componentTypes=[],this.components=[],this.isStable=ge(ry).hasPendingTasks.pipe(Je(t=>t?$(!1):this.zoneIsStable),Qt(),je()),this._injector=ge(qr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof vM;if(!this._injector.get(rx).done)throw!r&&function rs(n){const e=yt(n)||Nn(n)||Ii(n);return null!==e&&e.standalone}(t),new P(405,!1);let s;s=r?t:this._injector.get(Nv).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function u9(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Pl),u=s.create(Ar.NULL,[],i||s.selector,a),h=u.location.nativeElement,p=u.injector.get(KP,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),ay(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;ay(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(dx,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ay(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ay(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const aN=new ne("",{providedIn:"root",factory:()=>ge(Bo).handleError.bind(void 0)});function p9(){const n=ge(ze),e=ge(Bo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let g9=(()=>{class n{constructor(){this.zone=ge(ze),this.applicationRef=ge(Nl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let ic=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=v9}return n})();function v9(n){return function y9(n,e,t){if(Na(n)&&!t){const i=lr(n.index,e);return new Nm(i,i)}return 47&n.type?new Nm(e[mn],e):null}(Vn(),ie(),16==(16&n))}class fN{constructor(){}supports(e){return zv(e)}create(e){return new C9(e)}}const x9=(n,e)=>e;class C9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||x9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<pN(i,r,o)?t:i,a=pN(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const u=a-r,h=c-r;if(u!=h){for(let g=0;g<u;g++){const v=g<o.length?o[g]:o[g]=0,b=v+g;h<=b&&b<u&&(o[g]=v+1)}o[s.previousIndex]=h-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!zv(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function n5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new T9(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new mN),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class T9{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class D9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class mN{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new D9,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pN(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function _N(){return new uy([new fN])}let uy=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:_N});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||_N()),deps:[[n,new m,new l]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new P(901,!1)}}return n})();const R9=eN(null,"core",[]);let P9=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(j(Nl))};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({})}return n})();function Gd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let vx=null;function rc(){return vx}class W9{}const Lt=new ne("DocumentToken");let yx=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return ge(K9)},providedIn:"platform"})}return n})();const Z9=new ne("Location Initialized");let K9=(()=>{class n extends yx{constructor(){super(),this._doc=ge(Lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rc().getBaseHref(this._doc)}onPopState(t){const i=rc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=rc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function bx(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function DN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ta(n){return n&&"?"!==n[0]?"?"+n:n}let Fl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return ge(SN)},providedIn:"root"})}return n})();const AN=new ne("appBaseHref");let SN=(()=>{class n extends Fl{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ge(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bx(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ta(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+ta(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+ta(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(yx),j(AN,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Q9=(()=>{class n extends Fl{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=bx(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(yx),j(AN,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),wx=(()=>{class n{constructor(t){this._subject=new Ut,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function J9(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(DN(kN(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ta(i))}normalize(t){return n.stripTrailingSlash(function X9(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,kN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ta(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ta(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=ta;static#t=this.joinWithSlash=bx;static#n=this.stripTrailingSlash=DN;static#i=this.\u0275fac=function(i){return new(i||n)(j(Fl))};static#r=this.\u0275prov=le({token:n,factory:function(){return function Y9(){return new wx(j(Fl))}()},providedIn:"root"})}return n})();function kN(n){return n.replace(/\/index.html$/,"")}function BN(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}class BG{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rx=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new BG(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),zN(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{zN(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(N(Ho),N(ea),N(uy))};static#t=this.\u0275dir=ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function zN(n,e){n.context.$implicit=e.item}let oc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new UG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(N(Ho),N(ea))};static#t=this.\u0275dir=ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class UG{constructor(){this.$implicit=null,this.ngIf=null}}function $N(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Vt(e)}'.`)}let Lx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({})}return n})();const WN="browser";function Ey(n){return"server"===n}let _W=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new vW(j(Lt),window)})}return n})();class vW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yW(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ZN{}class zW extends W9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ux extends zW{static makeCurrent(){!function G9(n){vx||(vx=n)}(new Ux)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $W(){return np=np||document.querySelector("base"),np?np.getAttribute("href"):null}();return null==t?null:function HW(n){Cy=Cy||document.createElement("a"),Cy.setAttribute("href",n);const e=Cy.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){np=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return BN(document.cookie,e)}}let Cy,np=null,GW=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const jx=new ne("EventManagerPlugins");let JN=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(j(jx),j(ze))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class eO{constructor(e){this._doc=e}}const zx="ng-app-id";let tO=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ey(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${zx}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(zx),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(zx,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(j(Lt),j(Av),j(GE,8),j(Vo))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const $x={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hx=/%COMP%/g,QW=new ne("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function iO(n,e){return e.map(t=>t.replace(Hx,n))}let qx=(()=>{class n{constructor(t,i,r,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ey(a),this.defaultRenderer=new Gx(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===si.ShadowDom&&(i={...i,encapsulation:si.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof oO?r.applyToHost(t):r instanceof Wx&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case si.Emulated:o=new oO(c,u,i,this.appId,h,s,a,p);break;case si.ShadowDom:return new e7(c,u,t,i,s,a,this.nonce,p);default:o=new Wx(c,u,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(j(JN),j(tO),j(Av),j(QW),j(Lt),j(Vo),j(ze),j(GE))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class Gx{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS($x[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(rO(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(rO(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new P(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=$x[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=$x[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ja.DashCase|Ja.Important)?e.style.setProperty(t,i,r&Ja.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ja.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=rc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function rO(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class e7 extends Gx{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=iO(r.id,r.styles);for(const h of u){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wx extends Gx{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?iO(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class oO extends Wx{constructor(e,t,i,r,o,s,a,c){const u=r+"-"+i.id;super(e,t,i,o,s,a,c,u),this.contentAttr=function YW(n){return"_ngcontent-%COMP%".replace(Hx,n)}(u),this.hostAttr=function XW(n){return"_nghost-%COMP%".replace(Hx,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let t7=(()=>{class n extends eO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(j(Lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const sO=["alt","control","meta","shift"],n7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},i7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let r7=(()=>{class n extends eO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),sO.forEach(u=>{const h=i.indexOf(u);h>-1&&(i.splice(h,1),s+=u+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=n7[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),sO.forEach(s=>{s!==r&&(0,i7[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(j(Lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const cO=[{provide:Vo,useValue:WN},{provide:mM,useValue:function o7(){Ux.makeCurrent()},multi:!0},{provide:Lt,useFactory:function a7(){return function Fz(n){PE=n}(document),document},deps:[]}],c7=eN(R9,"browser",cO),l7=new ne(""),lO=[{provide:sy,useClass:class qW{addToWindow(e){qt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new P(5103,!1);return o},qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),qt.getAllAngularRootElements=()=>e.getAllRootElements(),qt.frameworkStabilizers||(qt.frameworkStabilizers=[]),qt.frameworkStabilizers.push(i=>{const r=qt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?rc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:KP,useClass:ax,deps:[ze,cx,sy]},{provide:ax,useClass:ax,deps:[ze,cx,sy]}],uO=[{provide:zE,useValue:"root"},{provide:Bo,useFactory:function s7(){return new Bo},deps:[]},{provide:jx,useClass:t7,multi:!0,deps:[Lt,ze,Vo]},{provide:jx,useClass:r7,multi:!0,deps:[Lt]},qx,tO,JN,{provide:km,useExisting:qx},{provide:ZN,useClass:GW,deps:[]},[]];let dO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Av,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(j(l7,12))};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({providers:[...uO,...lO],imports:[Lx,P9]})}return n})(),hO=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(j(Lt))};static#t=this.\u0275prov=le({token:n,factory:function(i){let r=null;return r=i?new i:function d7(){return new hO(j(Lt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:_7}=Array,{getPrototypeOf:v7,prototype:y7,keys:b7}=Object;function _O(n){if(1===n.length){const e=n[0];if(_7(e))return{args:e,keys:null};if(function w7(n){return n&&"object"==typeof n&&v7(n)===y7}(e)){const t=b7(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:E7}=Array;function Qx(n){return pe(e=>function I7(n,e){return E7(e)?n(...e):n(e)}(n,e))}function vO(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Ty(...n){const e=ts(n),t=wa(n),{args:i,keys:r}=_O(n);if(0===i.length)return T([],e);const o=new Xe(function x7(n,e,t=Rn){return i=>{yO(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)yO(e,()=>{const u=T(n[c],e);let h=!1;u.subscribe(he(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>vO(r,s):Rn));return t?o.pipe(Qx(t)):o}function yO(n,e,t){n?di(t,n,e):e()}const Dy=Oe(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ay(...n){return function C7(){return Lr(1)}()(T(n,ts(n)))}function bO(n){return new Xe(e=>{En(n()).subscribe(e)})}function Zd(n,e){const t=E(n)?n:()=>n,i=r=>r.error(t());return new Xe(e?r=>e.schedule(i,0,r):i)}function Yx(){return q((n,e)=>{let t=null;n._refCount++;const i=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class wO extends Xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,te(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mt;const t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mt.EMPTY)}return e}refCount(){return Yx()(this)}}function bs(n){return n<=0?()=>Zn:q((e,t)=>{let i=0;e.subscribe(he(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ll(...n){const e=ts(n);return q((t,i)=>{(e?Ay(n,t,e):Ay(n,t)).subscribe(i)})}function zn(n,e){return q((t,i)=>{let r=0;t.subscribe(he(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Sy(n){return q((e,t)=>{let i=!1;e.subscribe(he(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function EO(n=T7){return q((e,t)=>{let i=!1;e.subscribe(he(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function T7(){return new Dy}function ac(n,e){const t=arguments.length>=2;return i=>i.pipe(n?zn((r,o)=>n(r,o,i)):Rn,bs(1),t?Sy(e):EO(()=>new Dy))}function Kd(n,e){return E(e)?Kt(n,e,1):Kt(n,1)}function $n(n,e,t){const i=E(n)||e||t?{next:n,error:e,complete:t}:n;return i?q((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(he(o,c=>{var u;null===(u=i.next)||void 0===u||u.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,c),o.error(c)},()=>{var c,u;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):Rn}function cc(n){return q((e,t)=>{let o,i=null,r=!1;i=e.subscribe(he(t,void 0,void 0,s=>{o=En(n(s,cc(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function ky(n,e){return q(function D7(n,e,t,i,r){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(he(s,h=>{const p=u++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function Xx(n){return n<=0?()=>Zn:q((e,t)=>{let i=[];e.subscribe(he(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Jx(n){return pe(()=>n)}function Qd(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function gr(n){return q((e,t)=>{En(n).subscribe(he(t,()=>t.complete(),Ie)),!t.closed&&e.subscribe(t)})}const nt="primary",ip=Symbol("RouteTitle");class S7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Yd(n){return new S7(n)}function k7(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ws(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!IO(n[r],e[r]))return!1;return!0}function IO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function xO(n){return n.length>0?n[n.length-1]:null}function lc(n){return function g7(n){return!!n&&(n instanceof Xe||E(n.lift)&&E(n.subscribe))}(n)?n:Um(n)?T(Promise.resolve(n)):$(n)}const R7={exact:function DO(n,e,t){if(!Vl(n.segments,e.segments)||!My(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!DO(n.children[i],e.children[i],t))return!1;return!0},subset:AO},CO={exact:function P7(n,e){return ws(n,e)},subset:function N7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>IO(n[t],e[t]))},ignored:()=>!0};function TO(n,e,t){return R7[t.paths](n.root,e.root,t.matrixParams)&&CO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function AO(n,e,t){return SO(n,e,e.segments,t)}function SO(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Vl(r,t)||e.hasChildren()||!My(r,t,i))}if(n.segments.length===t.length){if(!Vl(n.segments,t)||!My(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!AO(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Vl(n.segments,r)&&My(n.segments,r,i)&&n.children[nt])&&SO(n.children[nt],e,o,i)}}function My(n,e,t){return e.every((i,r)=>CO[t](n[r].parameters,i.parameters))}class Xd{constructor(e=new jt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yd(this.queryParams)),this._queryParamMap}toString(){return L7.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ry(this)}}class rp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Yd(this.parameters)),this._parameterMap}toString(){return RO(this)}}function Vl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let op=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new eC},providedIn:"root"})}return n})();class eC{parse(e){const t=new Z7(e);return new Xd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${sp(e.root,!0)}`,i=function U7(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Py(t)}=${Py(r)}`).join("&"):`${Py(t)}=${Py(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function V7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const L7=new eC;function Ry(n){return n.segments.map(e=>RO(e)).join("/")}function sp(n,e){if(!n.hasChildren())return Ry(n);if(e){const t=n.children[nt]?sp(n.children[nt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==nt&&i.push(`${r}:${sp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function F7(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===nt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==nt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===nt?[sp(n.children[nt],!1)]:[`${r}:${sp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nt]?`${Ry(n)}/${t[0]}`:`${Ry(n)}/(${t.join("//")})`}}function kO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Py(n){return kO(n).replace(/%3B/gi,";")}function tC(n){return kO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ny(n){return decodeURIComponent(n)}function MO(n){return Ny(n.replace(/\+/g,"%20"))}function RO(n){return`${tC(n.path)}${function B7(n){return Object.keys(n).map(e=>`;${tC(e)}=${tC(n[e])}`).join("")}(n.parameters)}`}const j7=/^[^\/()?;#]+/;function nC(n){const e=n.match(j7);return e?e[0]:""}const z7=/^[^\/()?;=#]+/,H7=/^[^=?&#]+/,G7=/^[^&#]+/;class Z7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[nt]=new jt(e,t)),i}parseSegment(){const e=nC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new rp(Ny(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function $7(n){const e=n.match(z7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=nC(this.remaining);r&&(i=r,this.capture(i))}e[Ny(t)]=Ny(i)}parseQueryParam(e){const t=function q7(n){const e=n.match(H7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function W7(n){const e=n.match(G7);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=MO(t),o=MO(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=nC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new P(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=nt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[nt]:new jt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}}function PO(n){return n.segments.length>0?new jt([],{[nt]:n}):n}function NO(n){const e={};for(const i of Object.keys(n.children)){const o=NO(n.children[i]);if(i===nt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function K7(n){if(1===n.numberOfChildren&&n.children[nt]){const e=n.children[nt];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}function Bl(n){return n instanceof Xd}function OO(n){let e;const r=PO(function t(o){const s={};for(const c of o.children){const u=t(c);s[c.outlet]=u}const a=new jt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function FO(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return iC(r,r,r,t,i);const o=function Y7(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new VO(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new VO(t,e,i)}(e);if(o.toRoot())return iC(r,r,new jt([],{}),t,i);const s=function X7(n,e,t){if(n.isAbsolute)return new Fy(e,!0,0);if(!t)return new Fy(e,!1,NaN);if(null===t.parent)return new Fy(t,!0,0);const i=Oy(n.commands[0])?0:1;return function J7(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new P(4005,!1);r=i.segments.length}return new Fy(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?cp(s.segmentGroup,s.index,o.commands):BO(s.segmentGroup,s.index,o.commands);return iC(r,s.segmentGroup,a,t,i)}function Oy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ap(n){return"object"==typeof n&&null!=n&&n.outlets}function iC(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=n===e?t:LO(n,e,t);const a=PO(NO(s));return new Xd(a,o,r)}function LO(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:LO(o,e,t)}),new jt(n.segments,i)}class VO{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Oy(i[0]))throw new P(4003,!1);const r=i.find(ap);if(r&&r!==xO(i))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function BO(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return cp(n,e,t);const i=function tZ(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(ap(a))break;const c=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!jO(c,u,s))return o;i+=2}else{if(!jO(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new jt(n.segments.slice(0,i.pathIndex),{});return o.children[nt]=new jt(n.segments.slice(i.pathIndex),n.children),cp(o,0,r)}return i.match&&0===r.length?new jt(n.segments,{}):i.match&&!n.hasChildren()?rC(n,e,t):i.match?cp(n,0,r):rC(n,e,t)}function cp(n,e,t){if(0===t.length)return new jt(n.segments,{});{const i=function eZ(n){return ap(n[0])?n[0].outlets:{[nt]:n}}(t),r={};if(Object.keys(i).some(o=>o!==nt)&&n.children[nt]&&1===n.numberOfChildren&&0===n.children[nt].segments.length){const o=cp(n.children[nt],e,t);return new jt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=BO(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new jt(n.segments,r)}}function rC(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(ap(o)){const c=nZ(o.outlets);return new jt(i,c)}if(0===r&&Oy(t[0])){i.push(new rp(n.segments[e].path,UO(t[0]))),r++;continue}const s=ap(o)?o.outlets[nt]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Oy(a)?(i.push(new rp(s,UO(a))),r+=2):(i.push(new rp(s,{})),r++)}return new jt(i,{})}function nZ(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=rC(new jt([],{}),0,i))}),e}function UO(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function jO(n,e,t){return n==t.path&&ws(e,t.parameters)}const lp="imperative";class Es{constructor(e,t){this.id=e,this.url=t}}class Ly extends Es{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class uc extends Es{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class up extends Es{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jd extends Es{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Vy extends Es{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zO extends Es{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iZ extends Es{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rZ extends Es{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oZ extends Es{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sZ extends Es{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $O{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oC{}class sC{constructor(e){this.url=e}}class fZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new dp,this.attachRef=null}}let dp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new fZ,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class HO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=aC(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=aC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return cC(e,this._root).map(t=>t.value)}}function aC(n,e){if(n===e.value)return e;for(const t of e.children){const i=aC(n,t);if(i)return i}return null}function cC(n,e){if(n===e.value)return[e];for(const t of e.children){const i=cC(n,t);if(i.length)return i.unshift(e),i}return[]}class ra{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function eh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qO extends HO{constructor(e,t){super(e),this.snapshot=t,lC(this,e)}toString(){return this.snapshot.toString()}}function GO(n,e){const t=function mZ(n,e){const s=new By([],{},{},"",{},nt,e,null,{});return new ZO("",new ra(s,[]))}(0,e),i=new R([new rp("",{})]),r=new R({}),o=new R({}),s=new R({}),a=new R(""),c=new th(i,r,s,a,o,nt,e,t.root);return c.snapshot=t.root,new qO(new ra(c,[]),t)}class th{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(pe(u=>u[ip]))??$(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>Yd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>Yd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WO(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function pZ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class By{get title(){return this.data?.[ip]}constructor(e,t,i,r,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZO extends HO{constructor(e,t){super(t),this.url=e,lC(this,t)}toString(){return KO(this._root)}}function lC(n,e){e.value._routerState=n,e.children.forEach(t=>lC(n,t))}function KO(n){const e=n.children.length>0?` { ${n.children.map(KO).join(", ")} } `:"";return`${n.value}${e}`}function uC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ws(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ws(e.params,t.params)||n.paramsSubject.next(t.params),function M7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ws(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ws(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function dC(n,e){const t=ws(n.params,e.params)&&function O7(n,e){return Vl(n,e)&&n.every((t,i)=>ws(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||dC(n.parent,e.parent))}let hC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new Ut,this.deactivateEvents=new Ut,this.attachEvents=new Ut,this.detachEvents=new Ut,this.parentContexts=ge(dp),this.location=ge(Ho),this.changeDetector=ge(ic),this.environmentInjector=ge(qr),this.inputBinder=ge(Uy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new gZ(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]})}return n})();class gZ{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===th?this.route:e===dp?this.childContexts:this.parent.get(e,t)}}const Uy=new ne("");let QO=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Ty([i.queryParams,i.params,i.data]).pipe(Je(([o,s,a],c)=>(a={...o,...s,...a},0===c?$(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function q9(n){const e=yt(n);if(!e)return null;const t=new Om(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function hp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function vZ(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return hp(n,i,r);return hp(n,i)})}(n,e,t);return new ra(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>hp(n,a)),s}}const i=function yZ(n){return new th(new R(n.url),new R(n.params),new R(n.queryParams),new R(n.fragment),new R(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>hp(n,o));return new ra(i,r)}}const fC="ngNavigationCancelingError";function YO(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Bl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=XO(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function XO(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[fC]=!0,i.cancellationCode=e,t&&(i.url=t),i}function JO(n){return n&&n[fC]}let eF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["ng-component"]],standalone:!0,features:[nP],decls:1,vars:0,template:function(i,r){1&i&&ht(0,"router-outlet")},dependencies:[hC],encapsulation:2})}return n})();function mC(n){const e=n.children&&n.children.map(mC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nt&&(t.component=eF),t}function Wo(n){return n.outlet||nt}function fp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class DZ{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),uC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=eh(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=eh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=eh(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=eh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new hZ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new uZ(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(uC(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=fp(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class tF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jy{constructor(e,t){this.component=e,this.route=t}}function AZ(n,e,t){const i=n._root;return mp(i,e?e._root:null,t,[i.value])}function nh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function bw(n){return null!==Gc(n)}(n)?e.get(n):n:i}function mp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=eh(e);return n.children.forEach(s=>{(function kZ(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function MZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vl(n.url,e.url)||!ws(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dC(n,e)||!ws(n.queryParams,e.queryParams);default:return!dC(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new tF(i)):(o.data=s.data,o._resolvedData=s._resolvedData),mp(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new jy(a.outlet.component,s))}else s&&pp(e,a,r),r.canActivateChecks.push(new tF(i)),mp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>pp(a,t.getContext(s),r)),r}function pp(n,e,t){const i=eh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{pp(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new jy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function gp(n){return"function"==typeof n}function nF(n){return n instanceof Dy||"EmptyError"===n?.name}const zy=Symbol("INITIAL_VALUE");function ih(){return Je(n=>Ty(n.map(e=>e.pipe(bs(1),Ll(zy)))).pipe(pe(e=>{for(const t of e)if(!0!==t){if(t===zy)return zy;if(!1===t||t instanceof Xd)return t}return!0}),zn(e=>e!==zy),bs(1)))}function iF(n){return function no(...n){return io(n)}($n(e=>{if(Bl(e))throw YO(0,e)}),pe(e=>!0===e))}class $y{constructor(e){this.segmentGroup=e||null}}class rF{constructor(e){this.urlTree=e}}function rh(n){return Zd(new $y(n))}function oF(n){return Zd(new rF(n))}class YZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new P(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return $(i);if(r.numberOfChildren>1||!r.children[nt])return Zd(new P(4e3,!1));r=r.children[nt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Xd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new jt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new P(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const pC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XZ(n,e,t,i,r){const o=gC(n,e,t);return o.matched?(i=function wZ(n,e){return n.providers&&!n._injector&&(n._injector=HI(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function ZZ(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?$(r.map(s=>{const a=nh(s,n);return lc(function LZ(n){return n&&gp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ih(),iF()):$(!0)}(i,e,t).pipe(pe(s=>!0===s?o:{...pC}))):$(o)}function gC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...pC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||k7)(t,n,e);if(!r)return{...pC};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function sF(n,e,t,i){return t.length>0&&function tK(n,e,t){return t.some(i=>Hy(n,e,i)&&Wo(i)!==nt)}(n,t,i)?{segmentGroup:new jt(e,eK(i,new jt(t,n.children))),slicedSegments:[]}:0===t.length&&function nK(n,e,t){return t.some(i=>Hy(n,e,i))}(n,t,i)?{segmentGroup:new jt(n.segments,JZ(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new jt(n.segments,n.children),slicedSegments:t}}function JZ(n,e,t,i,r){const o={};for(const s of i)if(Hy(n,t,s)&&!r[Wo(s)]){const a=new jt([],{});o[Wo(s)]=a}return{...r,...o}}function eK(n,e){const t={};t[nt]=e;for(const i of n)if(""===i.path&&Wo(i)!==nt){const r=new jt([],{});t[Wo(i)]=r}return t}function Hy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class sK{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new YZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new P(4002,!1)}recognize(){const e=sF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,nt).pipe(cc(t=>{if(t instanceof rF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof $y?this.noMatchError(t):t}),pe(t=>{const i=new By([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,{}),r=new ra(i,t),o=new ZO("",r),s=function Q7(n,e,t=null,i=null){return FO(OO(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,nt).pipe(cc(i=>{throw i instanceof $y?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=WO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return T(r).pipe(Kd(o=>{const s=i.children[o],a=function CZ(n,e){const t=n.filter(i=>Wo(i)===e);return t.push(...n.filter(i=>Wo(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),ky((o,s)=>(o.push(...s),o)),Sy(null),function A7(n,e){const t=arguments.length>=2;return i=>i.pipe(n?zn((r,o)=>n(r,o,i)):Rn,Xx(1),t?Sy(e):EO(()=>new Dy))}(),Kt(o=>{if(null===o)return rh(i);const s=aF(o);return function aK(n){n.sort((e,t)=>e.value.outlet===nt?-1:t.value.outlet===nt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),$(s)}))}processSegment(e,t,i,r,o,s){return T(t).pipe(Kd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(cc(c=>{if(c instanceof $y)return $(null);throw c}))),ac(a=>!!a),cc(a=>{if(nF(a))return function rK(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?$([]):rh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function iK(n,e,t,i){return!!(Wo(n)===i||i!==nt&&Hy(e,t,n))&&("**"===n.path||gC(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):rh(r):rh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?oF(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Kt(s=>{const a=new jt(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:h}=gC(t,r,o);if(!a)return rh(t);const p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?oF(p):this.applyRedirects.lineralizeSegments(r,p).pipe(Kt(g=>this.processSegment(e,i,t,g.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const c=r.length>0?xO(r).parameters:{};a=$({snapshot:new By(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cF(i),Wo(i),i.component??i._loadedComponent??null,i,lF(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=XZ(t,i,r,e).pipe(pe(({matched:c,consumedSegments:u,remainingSegments:h,parameters:p})=>c?{snapshot:new By(u,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cF(i),Wo(i),i.component??i._loadedComponent??null,i,lF(i)),consumedSegments:u,remainingSegments:h}:null));return a.pipe(Je(c=>null===c?rh(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Je(({routes:u})=>{const h=i._loadedInjector??e,{snapshot:p,consumedSegments:g,remainingSegments:v}=c,{segmentGroup:b,slicedSegments:w}=sF(t,g,v,u);if(0===w.length&&b.hasChildren())return this.processChildren(h,u,b).pipe(pe(M=>null===M?null:[new ra(p,M)]));if(0===u.length&&0===w.length)return $([new ra(p,[])]);const I=Wo(i)===o;return this.processSegment(h,u,b,w,I?nt:o,!0).pipe(pe(M=>[new ra(p,M)]))}))))}getChildConfig(e,t,i){return t.children?$({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?$({routes:t._loadedRoutes,injector:t._loadedInjector}):function WZ(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?$(!0):$(r.map(s=>{const a=nh(s,n);return lc(function PZ(n){return n&&gp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ih(),iF())}(e,t,i).pipe(Kt(r=>r?this.configLoader.loadChildren(e,t).pipe($n(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function QZ(n){return Zd(XO(!1,3))}())):$({routes:[],injector:e})}}function cK(n){const e=n.value.routeConfig;return e&&""===e.path}function aF(n){const e=[],t=new Set;for(const i of n){if(!cK(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=aF(i.children);e.push(new ra(i.value,r))}return e.filter(i=>!t.has(i))}function cF(n){return n.data||{}}function lF(n){return n.resolve||{}}function uF(n){return"string"==typeof n.title||null===n.title}function _C(n){return Je(e=>{const t=n(e);return t?T(t).pipe(pe(()=>e)):$(e)})}const oh=new ne("ROUTES");let vC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ge(qP)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return $(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=lc(t.loadComponent()).pipe(pe(dF),$n(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Qd(()=>{this.componentLoaders.delete(t)})),r=new wO(i,()=>new V).pipe(Yx());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function pK(n,e,t,i){return lc(n.loadChildren()).pipe(pe(dF),Kt(r=>r instanceof eP||Array.isArray(r)?$(r):T(e.compileModuleAsync(r))),pe(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(oh,[],{optional:!0,self:!0}).flat()),{routes:s.map(mC),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Qd(()=>{this.childrenLoaders.delete(i)})),s=new wO(o,()=>new V).pipe(Yx());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dF(n){return function gK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new V,this.transitionAbortSubject=new V,this.configLoader=ge(vC),this.environmentInjector=ge(qr),this.urlSerializer=ge(op),this.rootContexts=ge(dp),this.inputBindingEnabled=null!==ge(Uy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new cZ(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new aZ(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new R({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zn(o=>0!==o.id),pe(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Je(o=>{this.currentTransition=o;let s=!1,a=!1;return $(o).pipe($n(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Je(c=>{const u=c.currentBrowserUrl.toString(),h=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!h&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Jd(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),Zn}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return $(c).pipe(Je(g=>{const v=this.transitions?.getValue();return this.events.next(new Ly(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),v!==this.transitions?.getValue()?Zn:Promise.resolve(g)}),function lK(n,e,t,i,r,o){return Kt(s=>function oK(n,e,t,i,r,o,s="emptyOnly"){return new sK(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(pe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),$n(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const v=new zO(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:v,source:b,restoredState:w,extras:I}=c,M=new Ly(g,this.urlSerializer.serialize(v),b,w);this.events.next(M);const A=GO(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:A,urlAfterRedirects:v,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},$(o)}{const g="";return this.events.next(new Jd(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),Zn}}),$n(c=>{const u=new iZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),pe(c=>(this.currentTransition=o={...c,guards:AZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function BZ(n,e){return Kt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?$({...t,guardsResult:!0}):function UZ(n,e,t,i){return T(n).pipe(Kt(r=>function GZ(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?$(o.map(a=>{const c=fp(e)??r,u=nh(a,c);return lc(function FZ(n){return n&&gp(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,i):c.runInContext(()=>u(n,e,t,i))).pipe(ac())})).pipe(ih()):$(!0)}(r.component,r.route,t,e,i)),ac(r=>!0!==r,!0))}(s,i,r,n).pipe(Kt(a=>a&&function RZ(n){return"boolean"==typeof n}(a)?function jZ(n,e,t,i){return T(e).pipe(Kd(r=>Ay(function $Z(n,e){return null!==n&&e&&e(new lZ(n)),$(!0)}(r.route.parent,i),function zZ(n,e){return null!==n&&e&&e(new dZ(n)),$(!0)}(r.route,i),function qZ(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function SZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>bO(()=>$(s.guards.map(c=>{const u=fp(s.node)??t,h=nh(c,u);return lc(function OZ(n){return n&&gp(n.canActivateChild)}(h)?h.canActivateChild(i,n):u.runInContext(()=>h(i,n))).pipe(ac())})).pipe(ih())));return $(o).pipe(ih())}(n,r.path,t),function HZ(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return $(!0);const r=i.map(o=>bO(()=>{const s=fp(e)??t,a=nh(o,s);return lc(function NZ(n){return n&&gp(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(ac())}));return $(r).pipe(ih())}(n,r.route,t))),ac(r=>!0!==r,!0))}(i,o,n,e):$(a)),pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),$n(c=>{if(o.guardsResult=c.guardsResult,Bl(c.guardsResult))throw YO(0,c.guardsResult);const u=new rZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),zn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),_C(c=>{if(c.guards.canActivateChecks.length)return $(c).pipe($n(u=>{const h=new oZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Je(u=>{let h=!1;return $(u).pipe(function uK(n,e){return Kt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return $(t);let o=0;return T(r).pipe(Kd(s=>function dK(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!uF(r)&&(o[ip]=r.title),function hK(n,e,t,i){const r=function fK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return $({});const o={};return T(r).pipe(Kt(s=>function mK(n,e,t,i){const r=fp(e)??i,o=nh(n,r);return lc(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(ac(),$n(a=>{o[s]=a}))),Xx(1),Jx(o),cc(s=>nF(s)?Zn:Zd(s)))}(o,n,e,i).pipe(pe(s=>(n._resolvedData=s,n.data=WO(n,t).resolve,r&&uF(r)&&(n.data[ip]=r.title),null)))}(s.route,i,n,e)),$n(()=>o++),Xx(1),Kt(s=>o===r.length?$(t):Zn))})}(t.paramsInheritanceStrategy,this.environmentInjector),$n({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",2)}}))}),$n(u=>{const h=new sZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),_C(c=>{const u=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe($n(g=>{h.component=g}),pe(()=>{})));for(const g of h.children)p.push(...u(g));return p};return Ty(u(c.targetSnapshot.root)).pipe(Sy(),bs(1))}),_C(()=>this.afterPreactivation()),pe(c=>{const u=function _Z(n,e,t){const i=hp(n,e._root,t?t._root:void 0);return new qO(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),$n(()=>{this.events.next(new oC)}),((n,e,t,i)=>pe(r=>(new DZ(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),bs(1),$n({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new uc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),gr(this.transitionAbortSubject.pipe($n(c=>{throw c}))),Qd(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),cc(c=>{if(a=!0,JO(c))this.events.next(new up(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function bZ(n){return JO(n)&&Bl(n.url)}(c)?this.events.next(new sC(c.url)):o.resolve(!1);else{this.events.next(new Vy(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){o.reject(u)}}return Zn}))}))}cancelNavigationTransition(t,i,r){const o=new up(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hF(n){return n!==lp}let fF=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===nt);return i}getResolvedTitleForRoute(t){return t.data[ip]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return ge(_K)},providedIn:"root"})}return n})(),_K=(()=>{class n extends fF{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(j(hO))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return ge(bK)},providedIn:"root"})}return n})();class yK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let bK=(()=>{class n extends yK{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=gn(n)))(r||n)}}();static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Gy=new ne("",{providedIn:"root",factory:()=>({})});let wK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return ge(EK)},providedIn:"root"})}return n})(),EK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _p=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(_p||{});function mF(n,e){n.events.pipe(zn(t=>t instanceof uc||t instanceof up||t instanceof Vy||t instanceof Jd),pe(t=>t instanceof uc||t instanceof Jd?_p.COMPLETE:t instanceof up&&(0===t.code||1===t.code)?_p.REDIRECTING:_p.FAILED),zn(t=>t!==_p.REDIRECTING),bs(1)).subscribe(()=>{e()})}function IK(n){throw n}function xK(n,e,t){return e.parse("/")}const CK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _r=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ge(HP),this.isNgZoneEnabled=!1,this._events=new V,this.options=ge(Gy,{optional:!0})||{},this.pendingTasks=ge(ry),this.errorHandler=this.options.errorHandler||IK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ge(wK),this.routeReuseStrategy=ge(vK),this.titleStrategy=ge(fF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ge(oh,{optional:!0})?.flat()??[],this.navigationTransitions=ge(qy),this.urlSerializer=ge(op),this.location=ge(wx),this.componentInputBindingEnabled=!!ge(Uy,{optional:!0}),this.eventsSubscription=new mt,this.isNgZoneEnabled=ge(ze)instanceof ze&&ze.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(pF(i)&&this._events.next(i));if(i instanceof Ly)hF(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Jd)this.rawUrlTree=r.rawUrl;else if(i instanceof zO){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof oC)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof up)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof sC){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hF(r.source)};this.scheduleNavigation(o,lp,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Vy&&this.restoreHistory(r,!0),i instanceof uc&&(this.navigated=!0),pF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=OO(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return FO(p,t,h,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Bl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,lp,null,i)}navigate(t,i={skipLocationChange:!1}){return function DK(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new P(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...CK}:!1===i?{...TK}:i,Bl(t))return TO(this.currentUrlTree,t,r);const o=this.parseUrl(t);return TO(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return mF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pF(n){return!(n instanceof oC||n instanceof sC)}let Ul=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new V,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof uc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function sM(n,e,t){return function c$(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?oM:Cm}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(N(_r),N(th),function dd(n){return function sE(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(yf(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Vn(),n)}("tabindex"),N(Qs),N(Yt),N(Fl))};static#t=this.\u0275dir=ke({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&rt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Si("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Gd],skipLocationChange:["skipLocationChange","skipLocationChange",Gd],replaceUrl:["replaceUrl","replaceUrl",Gd],routerLink:"routerLink"},standalone:!0,features:[vR,cr]})}return n})();class gF{}let kK=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(zn(t=>t instanceof uc),Kd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=HI(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return T(r).pipe(Lr())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):$(null);const o=r.pipe(Kt(s=>null===s?$(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?T([o,this.loader.loadComponent(i)]).pipe(Lr()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(j(_r),j(qP),j(qr),j(gF),j(vC))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yC=new ne("");let _F=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ly?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof uc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Jd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $O&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $O(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function qM(){throw new Error("invalid")}()};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function oa(n,e){return{\u0275kind:n,\u0275providers:e}}function yF(){const n=ge(Ar);return e=>{const t=n.get(Nl);if(e!==t.components[0])return;const i=n.get(_r),r=n.get(bF);1===n.get(bC)&&i.initialNavigation(),n.get(wF,null,ut.Optional)?.setUpPreloading(),n.get(yC,null,ut.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const bF=new ne("",{factory:()=>new V}),bC=new ne("",{providedIn:"root",factory:()=>1}),wF=new ne("");function NK(n){return oa(0,[{provide:wF,useExisting:kK},{provide:gF,useExisting:n}])}const EF=new ne("ROUTER_FORROOT_GUARD"),FK=[wx,{provide:op,useClass:eC},_r,dp,{provide:th,useFactory:function vF(n){return n.routerState.root},deps:[_r]},vC,[]];function LK(){return new XP("Router",_r)}let IF=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[FK,[],{provide:oh,multi:!0,useValue:t},{provide:EF,useFactory:jK,deps:[[_r,new l,new m]]},{provide:Gy,useValue:i||{}},i?.useHash?{provide:Fl,useClass:Q9}:{provide:Fl,useClass:SN},{provide:yC,useFactory:()=>{const n=ge(_W),e=ge(ze),t=ge(Gy),i=ge(qy),r=ge(op);return t.scrollOffset&&n.setOffset(t.scrollOffset),new _F(r,i,n,e,t)}},i?.preloadingStrategy?NK(i.preloadingStrategy).\u0275providers:[],{provide:XP,multi:!0,useFactory:LK},i?.initialNavigation?zK(i):[],i?.bindToComponentInputs?oa(8,[QO,{provide:Uy,useExisting:QO}]).\u0275providers:[],[{provide:xF,useFactory:yF},{provide:dx,multi:!0,useExisting:xF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:oh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(j(EF,8))};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({})}return n})();function jK(n){return"guarded"}function zK(n){return["disabled"===n.initialNavigation?oa(3,[{provide:ix,multi:!0,useFactory:()=>{const e=ge(_r);return()=>{e.setUpLocationChangeListener()}}},{provide:bC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?oa(2,[{provide:bC,useValue:0},{provide:ix,multi:!0,deps:[Ar],useFactory:e=>{const t=e.get(Z9,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(_r),o=e.get(bF);mF(r,()=>{i(!0)}),e.get(qy).afterPreactivation=()=>(i(!0),o.closed?$(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const xF=new ne("");let TF=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(Qs),N(Yt))};static#t=this.\u0275dir=ke({type:n})}return n})(),jl=(()=>{class n extends TF{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=gn(n)))(r||n)}}();static#t=this.\u0275dir=ke({type:n,features:[at]})}return n})();const Zo=new ne("NgValueAccessor"),qK={provide:Zo,useExisting:F(()=>Wy),multi:!0},WK=new ne("CompositionEventMode");let Wy=(()=>{class n extends TF{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function GK(){const n=rc()?rc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(Qs),N(Yt),N(WK,8))};static#t=this.\u0275dir=ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&rt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Rt([qK]),at]})}return n})();const Ki=new ne("NgValidators"),hc=new ne("NgAsyncValidators");function LF(n){return null!=n}function VF(n){return Um(n)?T(n):n}function BF(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function UF(n,e){return e.map(t=>t(n))}function jF(n){return n.map(e=>function KK(n){return!n.validate}(e)?e:t=>e.validate(t))}function wC(n){return null!=n?function zF(n){if(!n)return null;const e=n.filter(LF);return 0==e.length?null:function(t){return BF(UF(t,e))}}(jF(n)):null}function $F(n){if(!n)return null;const e=n.filter(LF);return 0==e.length?null:function(t){return function CF(...n){const e=wa(n),{args:t,keys:i}=_O(n),r=new Xe(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let h=0;h<s;h++){let p=!1;En(t[h]).subscribe(he(o,g=>{p||(p=!0,u--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(i?vO(i,a):a),o.complete())}))}});return e?r.pipe(Qx(e)):r}(UF(t,e).map(VF)).pipe(pe(BF))}}function EC(n){return null!=n?$F(jF(n)):null}function HF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function IC(n){return n?Array.isArray(n)?n:[n]:[]}function Ky(n,e){return Array.isArray(n)?n.includes(e):n===e}function WF(n,e){const t=IC(e);return IC(n).forEach(r=>{Ky(t,r)||t.push(r)}),t}function ZF(n,e){return IC(e).filter(t=>!Ky(n,t))}class KF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vr extends KF{get formDirective(){return null}get path(){return null}}class fc extends KF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let YF=(()=>{class n extends QF{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(fc,2))};static#t=this.\u0275dir=ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Un("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[at]})}return n})(),XF=(()=>{class n extends QF{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(N(vr,10))};static#t=this.\u0275dir=ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Un("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[at]})}return n})();const vp="VALID",Yy="INVALID",sh="PENDING",yp="DISABLED";function TC(n){return(Xy(n)?n.validators:n)||null}function DC(n,e){return(Xy(e)?e.asyncValidators:n)||null}function Xy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vp}get invalid(){return this.status===Yy}get pending(){return this.status==sh}get disabled(){return this.status===yp}get enabled(){return this.status!==yp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(WF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZF(e,this._rawAsyncValidators))}hasValidator(e){return Ky(this._rawValidators,e)}hasAsyncValidator(e){return Ky(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vp||this.status===sh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yp:vp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sh,this._hasOwnPendingAsyncValidator=!0;const t=VF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ut,this.statusChanges=new Ut}_calculateStatus(){return this._allControlsDisabled()?yp:this.errors?Yy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sh)?sh:this._anyControlsHaveStatus(Yy)?Yy:vp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function JK(n){return Array.isArray(n)?wC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function eQ(n){return Array.isArray(n)?EC(n):n||null}(this._rawAsyncValidators)}}class AC extends nL{constructor(e,t,i){super(TC(t),DC(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function tL(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new P(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function eL(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new P(1e3,"");if(!i[t])throw new P(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ah=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>Jy}),Jy="always";function bp(n,e,t=Jy){SC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function iQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iL(n,e)})}(n,e),function oQ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function rQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function nQ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function nb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function SC(n,e){const t=function qF(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(HF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function GF(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(HF(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();nb(e._rawValidators,r),nb(e._rawAsyncValidators,r)}function iL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const uQ={provide:vr,useExisting:F(()=>rb)},wp=(()=>Promise.resolve())();let rb=(()=>{class n extends vr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ut,this.form=new AC({},wC(t),EC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),bp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){wp.then(()=>{const i=this._findContainer(t.path),r=new AC({});(function rL(n,e){SC(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){wp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function oL(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(N(Ki,10),N(hc,10),N(ah,8))};static#t=this.\u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&rt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Rt([uQ]),at]})}return n})();function sL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function aL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cL=class extends nL{constructor(e=null,t,i){super(TC(t),DC(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=aL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){aL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},fQ={provide:fc,useExisting:F(()=>PC)},dL=(()=>Promise.resolve())();let PC=(()=>{class n extends fc{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new cL,this._registered=!1,this.name="",this.update=new Ut,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function RC(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Wy?t=o:function cQ(n){return Object.getPrototypeOf(n.constructor)===jl}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function MC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){dL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Gd(i);dL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function eb(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(N(vr,9),N(Ki,10),N(hc,10),N(Zo,10),N(ic,8),N(ah,8))};static#t=this.\u0275dir=ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Rt([fQ]),at,cr]})}return n})(),hL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),mL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({})}return n})(),LQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[mL]})}return n})(),BQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ah,useValue:t.callSetDisabledState??Jy}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[LQ]})}return n})();function Qi(n){return null!=n&&"false"!=`${n}`}function ob(n,e=0){return function UQ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function RL(n){return Array.isArray(n)?n:[n]}function $l(n){return n instanceof Yt?n.nativeElement:n}const jQ=["addListener","removeListener"],zQ=["addEventListener","removeEventListener"],$Q=["on","off"];function Ep(n,e,t,i){if(E(t)&&(i=t,t=void 0),i)return Ep(n,e,t).pipe(Qx(i));const[r,o]=function GQ(n){return E(n.addEventListener)&&E(n.removeEventListener)}(n)?zQ.map(s=>a=>n[s](e,a,t)):function HQ(n){return E(n.addListener)&&E(n.removeListener)}(n)?jQ.map(PL(n,e)):function qQ(n){return E(n.on)&&E(n.off)}(n)?$Q.map(PL(n,e)):[];if(!r&&vt(n))return Kt(s=>Ep(s,e,t))(En(n));if(!r)throw new TypeError("Invalid event target");return new Xe(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function PL(n,e){return t=>i=>n[t](e,i)}class WQ extends mt{constructor(e,t){super()}schedule(e,t=0){return this}}const sb={setInterval(n,e,...t){const{delegate:i}=sb;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=sb;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class ab extends WQ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return sb.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&sb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Le(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ip={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Ip;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new mt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Ip;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ip;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},UC={now:()=>(UC.delegate||Date).now(),delegate:void 0};class xp{constructor(e,t=xp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}xp.now=UC.now;class cb extends xp{constructor(e,t=xp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}new class KQ extends cb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ZQ extends ab{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Ip.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Ip.cancelAnimationFrame(t),e._scheduled=void 0)}});let jC,YQ=1;const lb={};function NL(n){return n in lb&&(delete lb[n],!0)}const XQ={setImmediate(n){const e=YQ++;return lb[e]=!0,jC||(jC=Promise.resolve()),jC.then(()=>NL(e)&&n()),e},clearImmediate(n){NL(n)}},{setImmediate:JQ,clearImmediate:eY}=XQ,ub={setImmediate(...n){const{delegate:e}=ub;return(e?.setImmediate||JQ)(...n)},clearImmediate(n){const{delegate:e}=ub;return(e?.clearImmediate||eY)(n)},delegate:void 0},ch=(new class nY extends cb{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class tY extends ab{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ub.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(ub.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new cb(ab)),rY=ch;function zC(n=0,e,t=rY){let i=-1;return null!=e&&(rr(e)?t=e:i=e),new Xe(r=>{let o=function sY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function OL(n,e=ch){return function oY(n){return q((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const u=r;r=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(he(t,u=>{i=!0,r=u,o||En(n(u)).subscribe(o=he(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>zC(n,e))}let $C;try{$C=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$C=!1}let Cp,hb,Hl,HC,Io=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function gW(n){return n===WN}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$C)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(j(Vo))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function db(n){return function aY(){if(null==Cp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Cp=!0}))}finally{Cp=Cp||!1}return Cp}()?n:!!n.capture}function Tp(){if("object"!=typeof document||!document)return 0;if(null==hb){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),hb=0,0===n.scrollLeft&&(n.scrollLeft=1,hb=0===n.scrollLeft?1:2),n.remove()}return hb}function uh(n){return n.composedPath?n.composedPath()[0]:n.target}const fY=new ne("cdk-dir-doc",{providedIn:"root",factory:function mY(){return ge(Lt)}}),pY=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let LL=(()=>{class n{constructor(t){this.value="ltr",this.change=new Ut,t&&(this.value=function gY(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?pY.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(j(fY,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({})}return n})(),qC=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new V,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Xe(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(OL(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(zn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=$l(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ep(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ze),j(Io),j(Lt,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dp=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new V,this._elementScrolled=new Xe(s=>this.ngZone.runOutsideAngular(()=>Ep(this.elementRef.nativeElement,"scroll").pipe(gr(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Tp()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Tp()?t.left=t.right:1==Tp()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function cY(){if(null==Hl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Hl=!1,Hl;if("scrollBehavior"in document.documentElement.style)Hl=!0;else{const n=Element.prototype.scrollTo;Hl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Hl}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?r:i:"end"==t&&(t=s?i:r),s&&2==Tp()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Tp()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(N(Yt),N(qC),N(ze),N(LL,8))};static#t=this.\u0275dir=ke({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),yY=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new V,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(OL(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(j(Io),j(ze),j(Lt,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({})}return n})();function fb(n,e=ch){return q((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const u=o;o=null,i.next(u)}};function c(){const u=s+n,h=e.now();if(h<u)return r=this.schedule(void 0,u-h),void i.add(r);a()}t.subscribe(he(i,u=>{o=u,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function jL(n){return zn((e,t)=>n<=t)}const zL=new Set;let ql,UY=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zY}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function jY(n,e){if(!zL.has(n))try{ql||(ql=document.createElement("style"),e&&(ql.nonce=e),ql.setAttribute("type","text/css"),document.head.appendChild(ql)),ql.sheet&&(ql.sheet.insertRule(`@media ${n} {body{ }}`,0),zL.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(Io),j(GE,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zY(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let $Y=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new V}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return $L(RL(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Ty($L(RL(t)).map(s=>this._registerQuery(s).observable));return o=Ay(o.pipe(bs(1)),o.pipe(jL(1),fb(0))),o.pipe(pe(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Xe(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Ll(i),pe(({matches:s})=>({query:t,matches:s})),gr(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(j(UY),j(ze))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $L(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let GL=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function KY(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function ZY(n){try{return n.frameElement}catch{return null}}(function iX(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===ZL(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=ZL(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function tX(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function nX(n){return!function YY(n){return function JY(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function QY(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function XY(n){return function eX(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||WL(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(j(Io))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WL(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function ZL(n){if(!WL(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class rX{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(bs(1)).subscribe(e)}}let oX=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new rX(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(j(GL),j(ze),j(Lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function QL(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const sX=new ne("cdk-input-modality-detector-options"),aX={ignoreKeys:[18,17,224,91,16]},dh=db({passive:!0,capture:!0});let cX=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new R(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=uh(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(KL(s)?"keyboard":"mouse"),this._mostRecentTarget=uh(s))},this._onTouchstart=s=>{QL(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=uh(s))},this._options={...aX,...o},this.modalityDetected=this._modality.pipe(jL(1)),this.modalityChanged=this.modalityDetected.pipe(Qt()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,dh),r.addEventListener("mousedown",this._onMousedown,dh),r.addEventListener("touchstart",this._onTouchstart,dh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,dh),document.removeEventListener("mousedown",this._onMousedown,dh),document.removeEventListener("touchstart",this._onTouchstart,dh))}static#e=this.\u0275fac=function(i){return new(i||n)(j(Io),j(ze),j(Lt),j(sX,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uX=new ne("cdk-focus-monitor-default-options"),mb=db({passive:!0,capture:!0});let dX=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new V,this._rootNodeFocusAndBlurListener=a=>{for(let u=uh(a);u;u=u.parentElement)"focus"===a.type?this._onFocus(a,u):this._onBlur(a,u)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=$l(t);if(!this._platform.isBrowser||1!==r.nodeType)return $();const o=function uY(n){if(function lY(){if(null==HC){const n=typeof document<"u"?document.head:null;HC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return HC}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new V,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=$l(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=$l(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=uh(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,mb),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,mb)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mb),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mb),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(j(ze),j(Io),j(cX),j(Lt,8),j(uX,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const XL="cdk-high-contrast-black-on-white",JL="cdk-high-contrast-white-on-black",WC="cdk-high-contrast-active";let hX=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ge($Y).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(WC,XL,JL),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(WC,XL):2===i&&t.add(WC,JL)}}static#e=this.\u0275fac=function(i){return new(i||n)(j(Io),j(Lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mX=new ne("mat-sanity-checks",{providedIn:"root",factory:function fX(){return!0}});let Mr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function hY(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(j(hX),j(mX,8),j(Lt))};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[VL,VL]})}return n})();function pX(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}class _X{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const n2=db({passive:!0,capture:!0});class vX{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=uh(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,n2)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,n2)))}}const r2={enterDuration:225,exitDuration:150},o2=db({passive:!0,capture:!0}),s2=["mousedown","touchstart"],a2=["mouseup","mouseleave","touchend","touchcancel"];class pb{static#e=this._eventManager=new vX;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=$l(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...r2,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function bX(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,u=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),v=p.transitionDuration,b="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,w=new _X(this,h,i,b);h.style.transform="scale3d(1, 1, 1)",w.state=0,i.persistent||(this._mostRecentTransientRipple=w);let I=null;return!b&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const M=()=>this._finishRippleTransition(w),A=()=>this._destroyRipple(w);h.addEventListener("transitionend",M),h.addEventListener("transitioncancel",A),I={onTransitionEnd:M,onTransitionCancel:A}}),this._activeRipples.set(w,I),(b||!u)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...r2,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=$l(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,s2.forEach(i=>{pb._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{a2.forEach(t=>{this._triggerElement.addEventListener(t,this,o2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=KL(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!QL(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(s2.forEach(t=>pb._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&a2.forEach(t=>e.removeEventListener(t,this,o2)))}}const ZC=new ne("mat-ripple-global-options");let c2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[Mr,Mr]})}return n})(),wX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[Mr]})}return n})();class l2{}class EX{}const sa="*";function IX(n,e){return{type:7,name:n,definitions:e,options:{}}}function u2(n,e=null){return{type:4,styles:e,timings:n}}function d2(n,e=null){return{type:2,steps:n,options:e}}function gb(n){return{type:6,styles:n,offset:null}}function h2(n,e,t){return{type:0,name:n,styles:e,options:t}}function f2(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Sp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class m2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const _b=["*"],xX=["content"];function CX(n,e){if(1&n){const t=jo();z(0,"div",2),rt("click",function(){return At(t),Mt($e()._onBackdropClicked())}),K()}2&n&&Un("mat-drawer-shown",$e()._isShowingBackdrop())}function TX(n,e){1&n&&(z(0,"mat-drawer-content"),Xt(1,2),K())}const DX=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],AX=["mat-drawer","mat-drawer-content","*"];function SX(n,e){if(1&n){const t=jo();z(0,"div",2),rt("click",function(){return At(t),Mt($e()._onBackdropClicked())}),K()}2&n&&Un("mat-drawer-shown",$e()._isShowingBackdrop())}function kX(n,e){1&n&&(z(0,"mat-sidenav-content"),Xt(1,2),K())}const MX=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],RX=["mat-sidenav","mat-sidenav-content","*"],p2={transformDrawer:IX("transform",[h2("open, open-instant",gb({transform:"none",visibility:"visible"})),h2("void",gb({"box-shadow":"none",visibility:"hidden"})),f2("void => open-instant",u2("0ms")),f2("void <=> open, open-instant => void",u2("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},NX=new ne("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function OX(){return!1}}),QC=new ne("MAT_DRAWER_CONTAINER");let vb=(()=>{class n extends Dp{constructor(t,i,r,o,s){super(r,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(N(ic),N(F(()=>_2)),N(Yt),N(qC),N(ze))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&jm("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Rt([{provide:Dp,useExisting:n}]),at],ngContentSelectors:_b,decls:1,vars:0,template:function(i,r){1&i&&(Wr(),Xt(0))},encapsulation:2,changeDetection:0})}return n})(),g2=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Qi(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Qi(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Qi(t))}constructor(t,i,r,o,s,a,c,u){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=u,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new V,this._animationEnd=new V,this._animationState="void",this.openedChange=new Ut(!0),this._openedStream=this.openedChange.pipe(zn(h=>h),pe(()=>{})),this.openedStart=this._animationStarted.pipe(zn(h=>h.fromState!==h.toState&&0===h.toState.indexOf("open")),Jx(void 0)),this._closedStream=this.openedChange.pipe(zn(h=>!h),pe(()=>{})),this.closedStart=this._animationStarted.pipe(zn(h=>h.fromState!==h.toState&&"void"===h.toState),Jx(void 0)),this._destroyed=new V,this.onPositionChanged=new Ut,this._modeChanged=new V,this.openedChange.subscribe(h=>{h?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ep(this._elementRef.nativeElement,"keydown").pipe(zn(h=>27===h.keyCode&&!this.disableClose&&!function GC(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(h)),gr(this._destroyed)).subscribe(h=>this._ngZone.run(()=>{this.close(),h.stopPropagation(),h.preventDefault()}))}),this._animationEnd.pipe(Qt((h,p)=>h.fromState===p.fromState&&h.toState===p.toState)).subscribe(h=>{const{fromState:p,toState:g}=h;(0===g.indexOf("open")&&"void"===p||"void"===g&&0===p.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(bs(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(N(Yt),N(oX),N(dX),N(Io),N(ze),N(GL),N(Lt,8),N(QC,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&$d(xX,5),2&i){let o;Yn(o=Xn())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&SI("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(Si("align",null),OI("@transform",r._animationState),Un("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:_b,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(Wr(),z(0,"div",0,1),Xt(2),K())},dependencies:[Dp],encapsulation:2,data:{animation:[p2.transformDrawer]},changeDetection:0})}return n})(),_2=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Qi(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Qi(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,s,a=!1,c){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new zd,this.backdropClick=new Ut,this._destroyed=new V,this._doCheckSubject=new V,this._contentMargins={left:null,right:null},this._contentMarginChanges=new V,t&&t.change.pipe(gr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(gr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(Ll(this._allDrawers),gr(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ll(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(fb(10),gr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(zn(i=>i.fromState!==i.toState),gr(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(gr(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(gr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(bs(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(gr(W(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(N(LL,8),N(Yt),N(ze),N(ic),N(yY),N(NX),N(bd,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(fr(o,vb,5),fr(o,g2,5)),2&i){let s;Yn(s=Xn())&&(r._content=s.first),Yn(s=Xn())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&$d(vb,5),2&i){let o;Yn(o=Xn())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&Un("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Rt([{provide:QC,useExisting:n}])],ngContentSelectors:AX,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(Wr(DX),ft(0,CX,1,2,"div",0),Xt(1),Xt(2,1),ft(3,TX,2,0,"mat-drawer-content",1)),2&i&&(qe("ngIf",r.hasBackdrop),Ee(3),qe("ngIf",!r._content))},dependencies:[oc,vb],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),YC=(()=>{class n extends vb{constructor(t,i,r,o,s){super(t,i,r,o,s)}static#e=this.\u0275fac=function(i){return new(i||n)(N(ic),N(F(()=>y2)),N(Yt),N(qC),N(ze))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,r){2&i&&jm("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Rt([{provide:Dp,useExisting:n}]),at],ngContentSelectors:_b,decls:1,vars:0,template:function(i,r){1&i&&(Wr(),Xt(0))},encapsulation:2,changeDetection:0})}return n})(),v2=(()=>{class n extends g2{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Qi(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ob(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ob(t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=gn(n)))(r||n)}}();static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,r){2&i&&(Si("align",null),jm("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Un("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[at],ngContentSelectors:_b,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(Wr(),z(0,"div",0,1),Xt(2),K())},dependencies:[Dp],encapsulation:2,data:{animation:[p2.transformDrawer]},changeDetection:0})}return n})(),y2=(()=>{class n extends _2{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=gn(n)))(r||n)}}();static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,o){if(1&i&&(fr(o,YC,5),fr(o,v2,5)),2&i){let s;Yn(s=Xn())&&(r._content=s.first),Yn(s=Xn())&&(r._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){2&i&&Un("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Rt([{provide:QC,useExisting:n}]),at],ngContentSelectors:RX,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(Wr(MX),ft(0,SX,1,2,"div",0),Xt(1),Xt(2,1),ft(3,kX,2,0,"mat-sidenav-content",1)),2&i&&(qe("ngIf",r.hasBackdrop),Ee(3),qe("ngIf",!r._content))},dependencies:[oc,YC],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),FX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[Lx,Mr,BL,BL,Mr]})}return n})(),b2=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LX=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=$l(t);return new Xe(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new V,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}static#e=this.\u0275fac=function(i){return new(i||n)(j(b2))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w2=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Qi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ob(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new Ut,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(fb(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(N(LX),N(Yt),N(ze))};static#t=this.\u0275dir=ke({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),VX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({providers:[b2]})}return n})(),BX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[Mr,Mr]})}return n})();const I2=["*"],C2=["unscopedContent"],UX=["text"],jX=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],zX=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],T2=new ne("ListOption");let D2=(()=>{class n{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(N(Yt))};static#t=this.\u0275dir=ke({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),A2=(()=>{class n{constructor(t){this._elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(N(Yt))};static#t=this.\u0275dir=ke({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),sJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ke({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),S2=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||n)(N(T2,8))};static#t=this.\u0275dir=ke({type:n,hostVars:4,hostBindings:function(i,r){2&i&&Un("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return n})(),aJ=(()=>{class n extends S2{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=gn(n)))(r||n)}}();static#t=this.\u0275dir=ke({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[at]})}return n})(),cJ=(()=>{class n extends S2{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=gn(n)))(r||n)}}();static#t=this.\u0275dir=ke({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[at]})}return n})();const lJ=new ne("MAT_LIST_CONFIG");let hh=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=ge(lJ,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qi(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Qi(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ke({type:n,hostVars:1,hostBindings:function(i,r){2&i&&Si("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),XC=(()=>{class n{set lines(t){this._explicitLines=ob(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=Qi(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=Qi(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,o,s,a){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new mt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new pb(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(W(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||n)(N(Yt),N(ze),N(hh,8),N(Io),N(ZC,8),N(bd,8))};static#t=this.\u0275dir=ke({type:n,contentQueries:function(i,r,o){if(1&i&&(fr(o,aJ,4),fr(o,cJ,4)),2&i){let s;Yn(s=Xn())&&(r._avatars=s),Yn(s=Xn())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){2&i&&(Si("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),Un("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),uJ=(()=>{class n extends hh{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=gn(n)))(r||n)}}();static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[Rt([{provide:hh,useExisting:n}]),at],ngContentSelectors:I2,decls:1,vars:0,template:function(i,r){1&i&&(Wr(),Xt(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}return n})(),dJ=(()=>{class n extends XC{get activated(){return this._activated}set activated(t){this._activated=Qi(t)}constructor(t,i,r,o,s,a){super(t,i,r,o,s,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(i){return new(i||n)(N(Yt),N(ze),N(hh,8),N(Io),N(ZC,8),N(bd,8))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(1&i&&(fr(o,A2,5),fr(o,D2,5),fr(o,sJ,5)),2&i){let s;Yn(s=Xn())&&(r._lines=s),Yn(s=Xn())&&(r._titles=s),Yn(s=Xn())&&(r._meta=s)}},viewQuery:function(i,r){if(1&i&&($d(C2,5),$d(UX,5)),2&i){let o;Yn(o=Xn())&&(r._unscopedContent=o.first),Yn(o=Xn())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(i,r){2&i&&(Si("aria-current",r._getAriaCurrent()),Un("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[at],ngContentSelectors:zX,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(i,r){1&i&&(Wr(jX),Xt(0),z(1,"span",0),Xt(2,1),Xt(3,2),z(4,"span",1,2),rt("cdkObserveContent",function(){return r._updateItemLines(!0)}),Xt(6,3),K()(),Xt(7,4),Xt(8,5),ht(9,"div",3))},dependencies:[w2],encapsulation:2,changeDetection:0})}return n})(),gJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[VX,Lx,Mr,c2,wX,BX]})}return n})();const _J=["*",[["mat-toolbar-row"]]],vJ=["*","mat-toolbar-row"],yJ=pX(class{constructor(n){this._elementRef=n}});let bJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ke({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),wJ=(()=>{class n extends yJ{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(N(Yt),N(Io),N(Lt))};static#t=this.\u0275cmp=rn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&fr(o,bJ,5),2&i){let s;Yn(s=Xn())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Un("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[at],ngContentSelectors:vJ,decls:2,vars:0,template:function(i,r){1&i&&(Wr(_J),Xt(0),Xt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),EJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[Mr,Mr]})}return n})();function IJ(n,e){if(1&n){const t=jo();z(0,"mat-toolbar")(1,"span")(2,"a",5),ht(3,"img",6),K()(),ht(4,"span",7),z(5,"span",8),fe(6,' "Post with Purpose, Earn with Pride | Join Earn2Post" '),K(),ht(7,"span",7),z(8,"span")(9,"form"),ht(10,"input",9),K()(),z(11,"span")(12,"button",10),rt("click",function(){At(t);const r=$e();return Mt(r.opened=!r.opened)}),K()()()}}const xJ=["*"];let JC=(()=>{class n{constructor(){this.opened=!1,this.visible=!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["app-header"]],inputs:{opened:"opened",visible:"visible"},ngContentSelectors:xJ,decls:30,vars:6,consts:[[4,"ngIf"],["autosize",""],["mode","over","position","end",3,"opened","openedChange"],["routerLink","/profile"],["routerLink","/clicker"],["routerLink","/home"],["src","assets/img/header_logo.svg","alt","Earn2Post",1,"logo"],[1,"fill-remaining-space"],[1,"moto"],["type","search","placeholder","Search...","maxlength","13",1,"search"],[1,"menu_button",3,"click"]],template:function(i,r){1&i&&(Wr(),ft(0,IJ,13,0,"mat-toolbar",0),z(1,"mat-sidenav-container",1)(2,"mat-sidenav",2),rt("openedChange",function(s){return r.opened=s}),z(3,"mat-list")(4,"mat-list-item")(5,"a",3),fe(6,"Profile"),K()(),z(7,"mat-list-item")(8,"a"),fe(9,"Messages"),K()(),z(10,"mat-list-item")(11,"a",4),fe(12,"Clicker"),K()(),z(13,"mat-list-item")(14,"a"),fe(15,"Buy DeBux"),K()(),z(16,"mat-list-item")(17,"a"),fe(18,"Settings"),K()(),z(19,"mat-list-item")(20,"a"),fe(21,"Bug Reposrt"),K()(),z(22,"mat-list-item")(23,"a"),fe(24,"Switch Account"),K()(),z(25,"mat-list-item")(26,"a"),fe(27,"Log out"),K()()()(),z(28,"mat-sidenav-content"),Xt(29),K()()),2&i&&(qe("ngIf",r.visible),Ee(1),Un("login-page",!r.visible)("other-page",r.visible),Ee(1),qe("opened",r.opened))},dependencies:[oc,Ul,hL,XF,rb,v2,y2,YC,uJ,dJ,wJ],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#313131;height:90px}.logo[_ngcontent-%COMP%]{display:flex;width:90%;margin-bottom:15px;margin-left:24px}.moto[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono ExtraLight,monospace;font-size:200%;position:relative}.search[_ngcontent-%COMP%]{width:300px;height:auto;border:none;border-radius:40px;outline:none;color:#e0e1e1;font-size:170%;font-family:IBM Plex Mono ExtraLight,monospace;padding:13px 5px 13px 70px;background:#212121 url(search.ea107fff5de7e57b.svg) no-repeat;background-size:45px;background-position:4% 70%}.search[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;height:10px}.menu_button[_ngcontent-%COMP%]{background:transparent url(/assets/img/menu_icon.svg) no-repeat;background-size:65px;background-position:95% -160%;border:none;border-radius:15px;height:60px;width:60px;margin-right:20px;margin-left:30px}.menu_button[_ngcontent-%COMP%]:hover{background-color:#2d2d2d}mat-sidenav-container[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}.login-page[_ngcontent-%COMP%]{height:100%;background-color:#212121;margin:0;padding:0}.other-page[_ngcontent-%COMP%]{height:90vh;background-color:#212121;margin:0;padding:0}mat-sidenav[_ngcontent-%COMP%]{width:200px;background-color:#313131}a[_ngcontent-%COMP%]{color:#e0e1e1}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return n})();Ze(290);var fh=Ze(534);(0,fh.registerVersion)("firebase","10.5.2","app");const SJ=new class AJ extends cb{}(class DJ extends ab{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),yb=new ec("ANGULARFIRE2_VERSION");class M2{constructor(){return((n,e)=>{const t=(0,fh.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(MJ)}}const MJ="app-check";function mh(){}class R2{zone;delegate;constructor(e,t=SJ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class RJ{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mh,{},mh,mh)),t.pipe($n({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let P2=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new R2(Zone.current)),this.insideAngular=t.run(()=>new R2(Zone.current,ch)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(j(ze))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kr(n){return function NJ(n){return function(t){return(t=t.lift(new RJ(n.ngZone))).pipe(Bi(n.outsideAngular),Ei(n.insideAngular))}}(function ph(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var aa=Ze(106);aa.Z.registerVersion("firebase","10.5.2","app-compat");const VJ=["ngOnDestroy"];class N2{constructor(e){return e}}const bb=new ne("angularfire2.app.options"),wb=new ne("angularfire2.app.name");function eT(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=aa.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>aa.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;jJ("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new N2(s)}const jJ=(n,...e)=>{},zJ={provide:N2,useFactory:eT,deps:[bb,ze,[new l,wb]]};let $J=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:bb,useValue:t},{provide:wb,useValue:i}]}}constructor(t){aa.Z.registerVersion("angularfire",yb.full,"core"),aa.Z.registerVersion("angularfire",yb.full,"app-compat"),aa.Z.registerVersion("angular",bM.full,t.toString())}static \u0275fac=function(i){return new(i||n)(j(Vo))};static \u0275mod=kt({type:n});static \u0275inj=Ot({providers:[zJ]})}return n})();function O2(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function HJ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(F2("error",`${e} was already initialized on the ${t} Firebase App with different settings.${qJ?" You may need to reload as Firebase is not HMR aware.":""}`),F2("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const qJ=typeof module<"u"&&!!module.hot,F2=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class GJ extends V{constructor(e=1/0,t=1/0,i=UC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function L2(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,je({connector:()=>new GJ(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function V2(n,e){return E(e)?Je(()=>n,e):Je(()=>n)}const B2=new ne("angularfire2.auth.use-emulator"),U2=new ne("angularfire2.auth.settings"),j2=new ne("angularfire2.auth.tenant-id"),z2=new ne("angularfire2.auth.langugage-code"),$2=new ne("angularfire2.auth.use-device-language"),H2=new ne("angularfire.auth.persistence"),q2=(n,e,t,i,r,o,s,a)=>O2(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[u,h]of Object.entries(s))c.settings[u]=h;return a&&c.setPersistence(a),c},[t,i,r,o,s,a]);let gh=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,c,u,h,p,g,v){const b=new V,w=$(void 0).pipe(Ei(s.outsideAngular),Je(()=>o.runOutsideAngular(()=>Promise.resolve().then(Ze.bind(Ze,290)))),pe(()=>eT(t,o,i)),pe(I=>q2(I,o,a,u,h,p,c,g)),L2({bufferSize:1,refCount:!1}));if(Ey(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=$(null);else{w.pipe(ac()).subscribe();const I=w.pipe(Je(L=>L.getRedirectResult().then(Y=>Y,()=>null)),Kr,L2({bufferSize:1,refCount:!1})),M=w.pipe(Je(L=>new Xe(Y=>({unsubscribe:o.runOutsideAngular(()=>L.onAuthStateChanged(ce=>Y.next(ce),ce=>Y.error(ce),()=>Y.complete()))})))),A=w.pipe(Je(L=>new Xe(Y=>({unsubscribe:o.runOutsideAngular(()=>L.onIdTokenChanged(ce=>Y.next(ce),ce=>Y.error(ce),()=>Y.complete()))}))));this.authState=I.pipe(V2(M),Bi(s.outsideAngular),Ei(s.insideAngular)),this.user=I.pipe(V2(A),Bi(s.outsideAngular),Ei(s.insideAngular)),this.idToken=this.user.pipe(Je(L=>L?T(L.getIdToken()):$(null))),this.idTokenResult=this.user.pipe(Je(L=>L?T(L.getIdTokenResult()):$(null))),this.credential=W(I,b,this.authState.pipe(zn(L=>!L))).pipe(pe(L=>L?.user?L:null),Bi(s.outsideAngular),Ei(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(VJ.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(u=>t.run(()=>u)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,u)=>s.then(h=>{const p=h?.(...u);return i?.spy?.apply&&i.spy.apply(o,u,p),p})})})}))(this,w,o,{spy:{apply:(I,M,A)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&A.then(L=>b.next(L))}}})}static \u0275fac=function(i){return new(i||n)(j(bb),j(wb,8),j(Vo),j(ze),j(P2),j(B2,8),j(U2,8),j(j2,8),j(z2,8),j($2,8),j(H2,8),j(M2,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ZJ=(()=>{class n{constructor(){aa.Z.registerVersion("angularfire",yb.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=kt({type:n});static \u0275inj=Ot({providers:[gh]})}return n})();function tT(){return q((n,e)=>{let t,i=!1;n.subscribe(he(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var ve,X=Ze(861),G2=Ze(537),Is=Ze(879),en=Ze(58),KJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ko={},nT=nT||{},Qe=KJ||self;function Eb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function kp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var iT="closure_uid_"+(1e9*Math.random()>>>0),YJ=0;function XJ(n,e,t){return n.call.apply(n.bind,arguments)}function JJ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Yi(n,e,t){return(Yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?XJ:JJ).apply(null,arguments)}function Ib(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function pi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function mc(){this.s=this.s,this.o=this.o}mc.prototype.s=!1,mc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function QJ(n){Object.prototype.hasOwnProperty.call(n,iT)&&n[iT]||(n[iT]=++YJ)}(this)},mc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const W2=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rT(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Z2(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Eb(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function Xi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xi.prototype.h=function(){this.defaultPrevented=!0};var tee=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qe.addEventListener("test",()=>{},e),Qe.removeEventListener("test",()=>{},e)}catch{}return n}();function Mp(n){return/^[\s\xa0]*$/.test(n)}function xb(){var n=Qe.navigator;return n&&(n=n.userAgent)?n:""}function xs(n){return-1!=xb().indexOf(n)}function oT(n){return oT[" "](n),n}oT[" "]=function(){};var aT,n,iee=xs("Opera"),_h=xs("Trident")||xs("MSIE"),K2=xs("Edge"),sT=K2||_h,Q2=xs("Gecko")&&!(-1!=xb().toLowerCase().indexOf("webkit")&&!xs("Edge"))&&!(xs("Trident")||xs("MSIE"))&&!xs("Edge"),ree=-1!=xb().toLowerCase().indexOf("webkit")&&!xs("Edge");function Y2(){var n=Qe.document;return n?n.documentMode:void 0}e:{var cT="",lT=(n=xb(),Q2?/rv:([^\);]+)(\)|;)/.exec(n):K2?/Edge\/([\d\.]+)/.exec(n):_h?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ree?/WebKit\/(\S+)/.exec(n):iee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(lT&&(cT=lT?lT[1]:""),_h){var uT=Y2();if(null!=uT&&uT>parseFloat(cT)){aT=String(uT);break e}}aT=cT}var oee=Qe.document&&_h&&(Y2()||parseInt(aT,10))||void 0;function Rp(n,e){if(Xi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Q2){e:{try{oT(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:see[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Rp.$.h.call(this)}}pi(Rp,Xi);var see={2:"touch",3:"pen",4:"mouse"};Rp.prototype.h=function(){Rp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pp="closure_listenable_"+(1e6*Math.random()|0),aee=0;function cee(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++aee,this.fa=this.ia=!1}function Cb(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function hT(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function J2(n){const e={};for(const t in n)e[t]=n[t];return e}const eV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<eV.length;o++)t=eV[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Tb(n){this.src=n,this.g={},this.h=0}function fT(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=W2(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Cb(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mT(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Tb.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=mT(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new cee(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var pT="closure_lm_"+(1e6*Math.random()|0),gT={};function nV(n,e,t,i,r){if(i&&i.once)return rV(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)nV(n,e[o],t,i,r);return null}return t=bT(t),n&&n[Pp]?n.O(e,t,kp(i)?!!i.capture:!!i,r):iV(n,e,t,!1,i,r)}function iV(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=kp(r)?!!r.capture:!!r,a=vT(n);if(a||(n[pT]=a=new Tb(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function uee(){const e=dee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)tee||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(sV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function rV(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)rV(n,e[o],t,i,r);return null}return t=bT(t),n&&n[Pp]?n.P(e,t,kp(i)?!!i.capture:!!i,r):iV(n,e,t,!0,i,r)}function oV(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)oV(n,e[o],t,i,r);else i=kp(i)?!!i.capture:!!i,t=bT(t),n&&n[Pp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mT(o=n.g[e],t,i,r))&&(Cb(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=vT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mT(e,t,i,r)),(t=-1<n?e[n]:null)&&_T(t))}function _T(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Pp])fT(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(sV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=vT(e))?(fT(t,n),0==t.h&&(t.src=null,e[pT]=null)):Cb(n)}}}function sV(n){return n in gT?gT[n]:gT[n]="on"+n}function dee(n,e){if(n.fa)n=!0;else{e=new Rp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&_T(n),n=t.call(i,e)}return n}function vT(n){return(n=n[pT])instanceof Tb?n:null}var yT="__closure_events_fn_"+(1e9*Math.random()>>>0);function bT(n){return"function"==typeof n?n:(n[yT]||(n[yT]=function(e){return n.handleEvent(e)}),n[yT])}function gi(){mc.call(this),this.i=new Tb(this),this.S=this,this.J=null}function Mi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Xi(e,n);else if(e instanceof Xi)e.target=e.target||n;else{var r=e;tV(e=new Xi(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Db(s,i,!0,e)&&r}if(r=Db(s=e.g=n,i,!0,e)&&r,r=Db(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Db(s=e.g=t[o],i,!1,e)&&r}function Db(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&fT(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}pi(gi,mc),gi.prototype[Pp]=!0,gi.prototype.removeEventListener=function(n,e,t,i){oV(this,n,e,t,i)},gi.prototype.N=function(){if(gi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Cb(t[i]);delete n.g[e],n.h--}}this.J=null},gi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},gi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var wT=Qe.JSON.stringify;function fee(){var n=ET;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var aV=new class hee{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pee,n=>n.reset());class pee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gee(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function _ee(n){Qe.setTimeout(()=>{throw n},0)}let Np,Op=!1,ET=new class mee{constructor(){this.h=this.g=null}add(e,t){const i=aV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},cV=()=>{const n=Qe.Promise.resolve(void 0);Np=()=>{n.then(vee)}};var vee=()=>{for(var n;n=fee();){try{n.h.call(n.g)}catch(t){_ee(t)}var e=aV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Op=!1};function Ab(n,e){gi.call(this),this.h=n||1,this.g=e||Qe,this.j=Yi(this.qb,this),this.l=Date.now()}function IT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function xT(n,e,t){if("function"==typeof n)t&&(n=Yi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qe.setTimeout(n,e||0)}function lV(n){n.g=xT(()=>{n.g=null,n.i&&(n.i=!1,lV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}pi(Ab,gi),(ve=Ab.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mi(this,"tick"),this.ga&&(IT(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){Ab.$.N.call(this),IT(this),delete this.g};class yee extends mc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lV(this)}N(){super.N(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fp(n){mc.call(this),this.h=n,this.g={}}pi(Fp,mc);var uV=[];function dV(n,e,t,i){Array.isArray(t)||(t&&(uV[0]=t.toString()),t=uV);for(var r=0;r<t.length;r++){var o=nV(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function hV(n){hT(n.g,function(e,t){this.g.hasOwnProperty(t)&&_T(e)},n),n.g={}}function Sb(){this.g=!0}function vh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Iee(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return wT(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Fp.prototype.N=function(){Fp.$.N.call(this),hV(this)},Fp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sb.prototype.Ea=function(){this.g=!1},Sb.prototype.info=function(){};var Wl={},fV=null;function kb(){return fV=fV||new gi}function mV(n){Xi.call(this,Wl.Ta,n)}function Lp(n){const e=kb();Mi(e,new mV(e))}function pV(n,e){Xi.call(this,Wl.STAT_EVENT,n),this.stat=e}function yr(n){const e=kb();Mi(e,new pV(e,n))}function gV(n,e){Xi.call(this,Wl.Ua,n),this.size=e}function Vp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){n()},e)}Wl.Ta="serverreachability",pi(mV,Xi),Wl.STAT_EVENT="statevent",pi(pV,Xi),Wl.Ua="timingevent",pi(gV,Xi);var Mb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_V={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function CT(){}function yV(){}CT.prototype.h=null;var AT,Bp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function TT(){Xi.call(this,"d")}function DT(){Xi.call(this,"c")}function Rb(){}function Up(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Fp(this),this.P=xee,this.V=new Ab(n=sT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bV}function bV(){this.i=null,this.g="",this.h=!1}pi(TT,Xi),pi(DT,Xi),pi(Rb,CT),Rb.prototype.g=function(){return new XMLHttpRequest},Rb.prototype.i=function(){return{}},AT=new Rb;var xee=45e3,ST={},Pb={};function kT(n,e,t){n.L=1,n.v=Lb(ca(e)),n.s=t,n.S=!0,wV(n,null)}function wV(n,e){n.G=Date.now(),jp(n),n.A=ca(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),MV(t.i,"t",i),n.C=0,t=n.l.J,n.h=new bV,n.g=tB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new yee(Yi(n.Pa,n,n.g),n.O)),dV(n.U,n.g,"readystatechange",n.nb),e=n.I?J2(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Lp(),function bee(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var h=u[0];u=u[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+u+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function EV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function IV(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Cee(n,t),r==Pb){4==e&&(n.o=4,yr(14),i=!1),vh(n.j,n.m,null,"[Incomplete Response]");break}if(r==ST){n.o=4,yr(15),vh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}vh(n.j,n.m,r,null),MT(n,r)}EV(n)&&r!=Pb&&r!=ST&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),VT(e),e.M=!0,yr(11))):(vh(n.j,n.m,t,"[Invalid Chunked Response]"),Zl(n),zp(n))}function Cee(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Pb:(t=Number(e.substring(t,i)),isNaN(t)?ST:(i+=1)+t>e.length?Pb:(e=e.slice(i,i+t),n.C=i+t,e))}function jp(n){n.Y=Date.now()+n.P,xV(n,n.P)}function xV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vp(Yi(n.lb,n),e)}function Nb(n){n.B&&(Qe.clearTimeout(n.B),n.B=null)}function zp(n){0==n.l.H||n.J||YV(n.l,n)}function Zl(n){Nb(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,IT(n.V),hV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function MT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||RT(t.i,n)))if(!n.K&&RT(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;$b(t),jb(t)}LT(t),yr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Vp(Yi(t.ib,t),6e3));if(1>=NV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ql(t,11)}else if((n.K||t.g==n)&&$b(t),!Mp(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const h=u[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=u[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=u[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const v=n.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(PT(o,o.h),o.h=null))}if(i.F){const w=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(i.Da=w,_n(i.I,i.F,w))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=eB(i,i.J?i.pa:null,i.Y),s.K){OV(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(Nb(a),jp(a)),i.g=s}else KV(i);0<t.j.length&&zb(t)}else"stop"!=u[0]&&"close"!=u[0]||Ql(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ql(t,7):FT(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}Lp()}catch{}}function CV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Eb(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Dee(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Eb(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Tee(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Eb(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ve=Up.prototype).setTimeout=function(n){this.P=n},ve.nb=function(n){n=n.target;const e=this.M;e&&3==Cs(n)?e.l():this.Pa(n)},ve.Pa=function(n){try{if(n==this.g)e:{const h=Cs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||sT||this.g&&(this.h.h||this.g.ja()||$V(this.g)))){this.J||4!=h||7==e||Lp(),Nb(this);var t=this.g.da();this.ca=t;t:if(EV(this)){var i=$V(this.g);n="";var r=i.length,o=4==Cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zl(this),zp(this);var s="";break t}this.h.i=new Qe.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function wee(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mp(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,yr(12),Zl(this),zp(this);break e}vh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,MT(this,t)}this.S?(IV(this,h,s),sT&&this.i&&3==h&&(dV(this.U,this.V,"tick",this.mb),this.V.start())):(vh(this.j,this.m,s,null),MT(this,s)),4==h&&Zl(this),this.i&&!this.J&&(4==h?YV(this.l,this):(this.i=!1,jp(this)))}else(function qee(n){const e={};n=(n.g&&2<=Cs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Mp(n[i]))continue;var t=gee(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function lee(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),Zl(this),zp(this)}}}catch{}},ve.mb=function(){if(this.g){var n=Cs(this.g),e=this.g.ja();this.C<e.length&&(Nb(this),IV(this,n,e),this.i&&4!=n&&jp(this))}},ve.cancel=function(){this.J=!0,Zl(this)},ve.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Eee(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Lp(),yr(17)),Zl(this),this.o=2,zp(this)):xV(this,this.Y-n)};var TV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Kl){this.h=n.h,Ob(this,n.j),this.s=n.s,this.g=n.g,Fb(this,n.m),this.l=n.l;var e=n.i,t=new qp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),DV(this,t),this.o=n.o}else n&&(e=String(n).match(TV))?(this.h=!1,Ob(this,e[1]||"",!0),this.s=$p(e[2]||""),this.g=$p(e[3]||"",!0),Fb(this,e[4]),this.l=$p(e[5]||"",!0),DV(this,e[6]||"",!0),this.o=$p(e[7]||"")):(this.h=!1,this.i=new qp(null,this.h))}function ca(n){return new Kl(n)}function Ob(n,e,t){n.j=t?$p(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function DV(n,e,t){e instanceof qp?(n.i=e,function Nee(n,e){e&&!n.j&&(pc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(SV(this,i),MV(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Hp(e,Ree)),n.i=new qp(e,n.h))}function _n(n,e,t){n.i.set(e,t)}function Lb(n){return _n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $p(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,See),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function See(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Kl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Hp(e,AV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Hp(e,AV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Hp(t,"/"==t.charAt(0)?Mee:kee,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Hp(t,Pee)),n.join("")};var AV=/[#\/\?@]/g,kee=/[#\?:]/g,Mee=/[#\?]/g,Ree=/[#\?@]/g,Pee=/#/g;function qp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function pc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Aee(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function SV(n,e){pc(n),e=yh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function kV(n,e){return pc(n),e=yh(n,e),n.g.has(e)}function MV(n,e,t){SV(n,e),0<t.length&&(n.i=null,n.g.set(yh(n,e),rT(t)),n.h+=t.length)}function yh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function RV(n){this.l=n||Fee,n=Qe.PerformanceNavigationTiming?0<(n=Qe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qe.g&&Qe.g.Ka&&Qe.g.Ka()&&Qe.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=qp.prototype).add=function(n,e){pc(this),this.i=null,n=yh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ve.forEach=function(n,e){pc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ve.ta=function(){pc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ve.Z=function(n){pc(this);let e=[];if("string"==typeof n)kV(this,n)&&(e=e.concat(this.g.get(yh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ve.set=function(n,e){return pc(this),this.i=null,kV(this,n=yh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ve.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var Fee=10;function PV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function NV(n){return n.h?1:n.g?n.g.size:0}function RT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function PT(n,e){n.g?n.g.add(e):n.h=e}function OV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return rT(n.i)}RV.prototype.cancel=function(){if(this.i=FV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Lee=class{stringify(n){return Qe.JSON.stringify(n,void 0)}parse(n){return Qe.JSON.parse(n,void 0)}};function Vee(){this.g=new Lee}function Bee(n,e,t){const i=t||"";try{CV(n,function(r,o){let s=r;kp(r)&&(s=wT(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Vb(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Gp(n){this.l=n.ec||null,this.j=n.ob||!1}function Bb(n,e){gi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=NT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pi(Gp,CT),Gp.prototype.g=function(){return new Bb(this.l,this.j)},Gp.prototype.i=function(n){return function(){return n}}({}),pi(Bb,gi);var NT=0;function LV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Wp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zp(n)}function Zp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ve=Bb.prototype).open=function(n,e){if(this.readyState!=NT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Zp(this)},ve.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wp(this)),this.readyState=NT},ve.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zp(this)),this.g&&(this.readyState=3,Zp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wp(this):Zp(this),3==this.readyState&&LV(this)}},ve.Za=function(n){this.g&&(this.response=this.responseText=n,Wp(this))},ve.Ya=function(n){this.g&&(this.response=n,Wp(this))},ve.ka=function(){this.g&&Wp(this)},ve.setRequestHeader=function(n,e){this.v.append(n,e)},ve.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jee=Qe.JSON.parse;function Sn(n){gi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VV,this.L=this.M=!1}pi(Sn,gi);var VV="",zee=/^https?$/i,$ee=["POST","PUT"];function BV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,UV(n),Ub(n)}function UV(n){n.F||(n.F=!0,Mi(n,"complete"),Mi(n,"error"))}function jV(n){if(n.h&&typeof nT<"u"&&(!n.C[1]||4!=Cs(n)||2!=n.da()))if(n.v&&4==Cs(n))xT(n.La,0,n);else if(Mi(n,"readystatechange"),4==Cs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(TV)[1]||null;!r&&Qe.self&&Qe.self.location&&(r=Qe.self.location.protocol.slice(0,-1)),i=!zee.test(r?r.toLowerCase():"")}t=i}if(t)Mi(n,"complete"),Mi(n,"success");else{n.m=6;try{var o=2<Cs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",UV(n)}}finally{Ub(n)}}}function Ub(n,e){if(n.g){zV(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Mi(n,"ready");try{t.onreadystatechange=i}catch{}}}function zV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qe.clearTimeout(n.A),n.A=null)}function Cs(n){return n.g?n.g.readyState:0}function $V(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case VV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function HV(n){let e="";return hT(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function OT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=HV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_n(n,e,t))}function Kp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function qV(n){this.Ga=0,this.j=[],this.l=new Sb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Kp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Kp("baseRetryDelayMs",5e3,n),this.hb=Kp("retryDelaySeedMs",1e4,n),this.eb=Kp("forwardChannelMaxRetries",2,n),this.xa=Kp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new RV(n&&n.concurrentRequestLimit),this.Ja=new Vee,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function FT(n){if(GV(n),3==n.H){var e=n.W++,t=ca(n.I);if(_n(t,"SID",n.K),_n(t,"RID",e),_n(t,"TYPE","terminate"),Qp(n,t),(e=new Up(n,n.l,e)).L=2,e.v=Lb(ca(t)),t=!1,Qe.navigator&&Qe.navigator.sendBeacon)try{t=Qe.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Qe.Image&&((new Image).src=e.v,t=!0),t||(e.g=tB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jp(e)}JV(n)}function jb(n){n.g&&(VT(n),n.g.cancel(),n.g=null)}function GV(n){jb(n),n.u&&(Qe.clearTimeout(n.u),n.u=null),$b(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qe.clearTimeout(n.m),n.m=null)}function zb(n){if(!PV(n.i)&&!n.m){n.m=!0;var e=n.Na;Np||cV(),Op||(Np(),Op=!0),ET.add(e,n),n.C=0}}function WV(n,e){var t;t=e?e.m:n.W++;const i=ca(n.I);_n(i,"SID",n.K),_n(i,"RID",t),_n(i,"AID",n.V),Qp(n,i),n.o&&n.s&&OT(i,n.o,n.s),t=new Up(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ZV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),PT(n.i,t),kT(t,i,e)}function Qp(n,e){n.na&&hT(n.na,function(t,i){_n(e,i,t)}),n.h&&CV({},function(t,i){_n(e,i,t)})}function ZV(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Yi(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let u=r[c].g;const h=r[c].map;if(u-=o,0>u)o=Math.max(0,r[c].g-100),a=!1;else try{Bee(h,s,"req"+u+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function KV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Np||cV(),Op||(Np(),Op=!0),ET.add(e,n),n.A=0}}function LT(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Vp(Yi(n.Ma,n),XV(n,n.A)),n.A++,0))}function VT(n){null!=n.B&&(Qe.clearTimeout(n.B),n.B=null)}function QV(n){n.g=new Up(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ca(n.wa);_n(e,"RID","rpc"),_n(e,"SID",n.K),_n(e,"AID",n.V),_n(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&_n(e,"TO",n.qa),_n(e,"TYPE","xmlhttp"),Qp(n,e),n.o&&n.s&&OT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Lb(ca(e)),t.s=null,t.S=!0,wV(t,n)}function $b(n){null!=n.v&&(Qe.clearTimeout(n.v),n.v=null)}function YV(n,e){var t=null;if(n.g==e){$b(n),VT(n),n.g=null;var i=2}else{if(!RT(n.i,e))return;t=e.F,OV(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Mi(i=kb(),new gV(i,t)),zb(n)}else KV(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function Gee(n,e){return!(NV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Vp(Yi(n.Na,n,e),XV(n,n.C)),n.C++,0)))}(n,e)||2==i&&LT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Ql(n,5);break;case 4:Ql(n,10);break;case 3:Ql(n,6);break;default:Ql(n,2)}}function XV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ql(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Yi(n.pb,n);t||(t=new Kl("//www.google.com/images/cleardot.gif"),Qe.location&&"http"==Qe.location.protocol||Ob(t,"https"),Lb(t)),function Uee(n,e){const t=new Sb;if(Qe.Image){const i=new Image;i.onload=Ib(Vb,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Ib(Vb,t,i,"TestLoadImage: error",!1,e),i.onabort=Ib(Vb,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ib(Vb,t,i,"TestLoadImage: timeout",!1,e),Qe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else yr(2);n.H=0,n.h&&n.h.za(e),JV(n),GV(n)}function JV(n){if(n.H=0,n.ma=[],n.h){const e=FV(n.i);(0!=e.length||0!=n.j.length)&&(Z2(n.ma,e),Z2(n.ma,n.j),n.i.i.length=0,rT(n.j),n.j.length=0),n.h.ya()}}function eB(n,e,t){var i=t instanceof Kl?ca(t):new Kl(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Fb(i,i.m);else{var r=Qe.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Kl(null);i&&Ob(o,i),e&&(o.g=e),r&&Fb(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&_n(i,t,e),_n(i,"VER",n.ra),Qp(n,i),i}function tB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sn(t&&n.Ha&&!n.va?new Gp({ob:!0}):n.va)).Oa(n.J),e}function nB(){}function Hb(){if(_h&&!(10<=Number(oee)))throw Error("Environmental error: no available transport.")}function Qr(n,e){gi.call(this),this.g=new qV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Mp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new bh(this)}function iB(n){TT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rB(){DT.call(this),this.status=1}function bh(n){this.g=n}function Qo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function BT(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function zt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(ve=Sn.prototype).Oa=function(n){this.M=n},ve.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():AT.g(),this.C=function vV(n){return n.h||(n.h=n.i())}(this.u?this.u:AT),this.g.onreadystatechange=Yi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void BV(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Qe.FormData&&n instanceof Qe.FormData,!(0<=W2($ee,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zV(this),0<this.B&&((this.L=function Hee(n){return _h&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yi(this.ua,this)):this.A=xT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){BV(this,o)}},ve.ua=function(){typeof nT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mi(this,"timeout"),this.abort(8))},ve.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mi(this,"complete"),Mi(this,"abort"),Ub(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ub(this,!0)),Sn.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?jV(this):this.kb())},ve.kb=function(){jV(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jee(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=qV.prototype).ra=8,ve.H=1,ve.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Up(this,this.l,n);let o=this.s;if(this.U&&(o?(o=J2(o),tV(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZV(this,r,e),_n(t=ca(this.I),"RID",n),_n(t,"CVER",22),this.F&&_n(t,"X-HTTP-Session-Id",this.F),Qp(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(HV(o)))+"&"+e:this.o&&OT(t,this.o,o)),PT(this.i,r),this.bb&&_n(t,"TYPE","init"),this.P?(_n(t,"$req",e),_n(t,"SID","null"),r.aa=!0,kT(r,t,null)):kT(r,t,e),this.H=2}}else 3==this.H&&(n?WV(this,n):0==this.j.length||PV(this.i)||WV(this))},ve.Ma=function(){if(this.u=null,QV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Vp(Yi(this.jb,this),n)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yr(10),jb(this),QV(this))},ve.ib=function(){null!=this.v&&(this.v=null,jb(this),LT(this),yr(19))},ve.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yr(2)):(this.l.info("Failed to ping google.com"),yr(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=nB.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},Hb.prototype.g=function(n,e){return new Qr(n,e)},pi(Qr,gi),Qr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=eB(n,null,n.Y),zb(n)},Qr.prototype.close=function(){FT(this.g)},Qr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&zb(e)},Qr.prototype.N=function(){this.g.h=null,delete this.j,FT(this.g),delete this.g,Qr.$.N.call(this)},pi(iB,TT),pi(rB,DT),pi(bh,nB),bh.prototype.Ba=function(){Mi(this.g,"a")},bh.prototype.Aa=function(n){Mi(this.g,new iB(n))},bh.prototype.za=function(n){Mi(this.g,new rB)},bh.prototype.ya=function(){Mi(this.g,"b")},pi(Qo,function Wee(){this.blockSize=-1}),Qo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)BT(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){BT(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){BT(this,i),r=0;break}}this.h=r,this.i+=e},Qo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Zee={};function UT(n){return-128<=n&&128>n?function nee(n,e){var t=Zee;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new zt([0|e],0>e?-1:0)}):new zt([0|n],0>n?-1:0)}function Ts(n){if(isNaN(n)||!isFinite(n))return wh;if(0>n)return Ri(Ts(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=jT;return new zt(e,0)}var jT=4294967296,wh=UT(0),zT=UT(1),sB=UT(16777216);function la(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function xo(n){return-1==n.h}function Ri(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new zt(t,~n.h).add(zT)}function qb(n,e){return n.add(Ri(e))}function Gb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Yp(n,e){this.g=n,this.h=e}function Wb(n,e){if(la(e))throw Error("division by zero");if(la(n))return new Yp(wh,wh);if(xo(n))return e=Wb(Ri(n),e),new Yp(Ri(e.g),Ri(e.h));if(xo(e))return e=Wb(n,Ri(e)),new Yp(Ri(e.g),e.h);if(30<n.g.length){if(xo(n)||xo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=zT,i=e;0>=i.X(n);)t=aB(t),i=aB(i);var r=Eh(t,1),o=Eh(i,1);for(i=Eh(i,2),t=Eh(t,2);!la(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Eh(i,1),t=Eh(t,1)}return e=qb(n,r.R(e)),new Yp(r,e)}for(r=wh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Ts(t)).R(e);xo(s)||0<s.X(n);)s=(o=Ts(t-=i)).R(e);la(o)&&(o=zT),r=r.add(o),n=qb(n,s)}return new Yp(r,n)}function aB(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new zt(t,n.h)}function Eh(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new zt(r,n.h)}(ve=zt.prototype).ea=function(){if(xo(this))return-Ri(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:jT+i)*e,e*=jT}return n},ve.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(la(this))return"0";if(xo(this))return"-"+Ri(this).toString(n);for(var e=Ts(Math.pow(n,6)),t=this,i="";;){var r=Wb(t,e).g,o=((0<(t=qb(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(la(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ve.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ve.X=function(n){return xo(n=qb(this,n))?-1:la(n)?0:1},ve.abs=function(){return xo(this)?Ri(this):this},ve.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new zt(t,-2147483648&t[t.length-1]?-1:0)},ve.R=function(n){if(la(this)||la(n))return wh;if(xo(this))return xo(n)?Ri(this).R(Ri(n)):Ri(Ri(this).R(n));if(xo(n))return Ri(this.R(Ri(n)));if(0>this.X(sB)&&0>n.X(sB))return Ts(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,Gb(t,2*i+2*r),t[2*i+2*r+1]+=o*c,Gb(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Gb(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Gb(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new zt(t,0)},ve.gb=function(n){return Wb(this,n).h},ve.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new zt(t,this.h&n.h)},ve.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new zt(t,this.h|n.h)},ve.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new zt(t,this.h^n.h)},Hb.prototype.createWebChannel=Hb.prototype.g,Qr.prototype.send=Qr.prototype.u,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,Mb.NO_ERROR=0,Mb.TIMEOUT=8,Mb.HTTP_ERROR=6,_V.COMPLETE="complete",yV.EventType=Bp,Bp.OPEN="a",Bp.CLOSE="b",Bp.ERROR="c",Bp.MESSAGE="d",gi.prototype.listen=gi.prototype.O,Sn.prototype.listenOnce=Sn.prototype.P,Sn.prototype.getLastError=Sn.prototype.Sa,Sn.prototype.getLastErrorCode=Sn.prototype.Ia,Sn.prototype.getStatus=Sn.prototype.da,Sn.prototype.getResponseJson=Sn.prototype.Wa,Sn.prototype.getResponseText=Sn.prototype.ja,Sn.prototype.send=Sn.prototype.ha,Sn.prototype.setWithCredentials=Sn.prototype.Oa,Qo.prototype.digest=Qo.prototype.l,Qo.prototype.reset=Qo.prototype.reset,Qo.prototype.update=Qo.prototype.j,zt.prototype.add=zt.prototype.add,zt.prototype.multiply=zt.prototype.R,zt.prototype.modulo=zt.prototype.gb,zt.prototype.compare=zt.prototype.X,zt.prototype.toNumber=zt.prototype.ea,zt.prototype.toString=zt.prototype.toString,zt.prototype.getBits=zt.prototype.D,zt.fromNumber=Ts,zt.fromString=function oB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ri(oB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ts(Math.pow(e,8)),i=wh,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Ts(Math.pow(e,o)),i=i.R(o).add(Ts(s))):i=(i=i.R(t)).add(Ts(s))}return i};var Kee=Ko.createWebChannelTransport=function(){return new Hb},Qee=Ko.getStatEventTarget=function(){return kb()},$T=Ko.ErrorCode=Mb,Yee=Ko.EventType=_V,Xee=Ko.Event=Wl,cB=Ko.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jee=Ko.FetchXmlHttpFactory=Gp,Zb=Ko.WebChannel=yV,ete=Ko.XhrIo=Sn,tte=Ko.Md5=Qo,Ih=Ko.Integer=zt;const lB="@firebase/firestore";class _i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let xh="10.5.2";const gc=new Is.Yd("@firebase/firestore");function Ch(){return gc.logLevel}function se(n,...e){if(gc.logLevel<=Is.in.DEBUG){const t=e.map(HT);gc.debug(`Firestore (${xh}): ${n}`,...t)}}function Hn(n,...e){if(gc.logLevel<=Is.in.ERROR){const t=e.map(HT);gc.error(`Firestore (${xh}): ${n}`,...t)}}function Rr(n,...e){if(gc.logLevel<=Is.in.WARN){const t=e.map(HT);gc.warn(`Firestore (${xh}): ${n}`,...t)}}function HT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function be(n="Unexpected state"){const e=`FIRESTORE (${xh}) INTERNAL ASSERTION FAILED: `+n;throw Hn(e),new Error(e)}function Me(n,e){n||be()}function de(n,e){return n}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends en.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_i.UNAUTHENTICATED))}shutdown(){}}class ote{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ste{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let s=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ci,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,X.Z)(function*(){yield u.promise,yield o(i.currentUser)}))},c=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ci)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Me("string"==typeof i.accessToken),new uB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new _i(e)}}class ate{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cte{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ate(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me("string"==typeof t.token),this.R=t.token,new dB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ute(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class hB{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=ute(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function We(n,e){return n<e?-1:n>e?1:0}function Th(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function fB(n){return n+"\0"}class xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new xn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new xn(0,0))}static max(){return new Re(new xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xp{constructor(e,t,i){void 0===t?t=0:t>e.length&&be(),void 0===i?i=e.length-t:i>e.length-t&&be(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Xp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xt extends Xp{construct(e,t,i){return new xt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new re(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const dte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Xp{construct(e,t,i){return new vn(e,t,i)}static isValidIdentifier(e){return dte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new re(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new re(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new re(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new re(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(xt.fromString(e))}static fromName(e){return new me(xt.fromString(e).popFirst(5))}static empty(){return new me(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new xt(e.slice()))}}class Dh{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function qT(n){return n.fields.find(e=>2===e.kind)}function Yl(n){return n.fields.filter(e=>2!==e.kind)}Dh.UNKNOWN_ID=-1;class Xl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ah{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ah(0,Yr.min())}}function mB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Re.fromTimestamp(1e9===i?new xn(t+1,0):new xn(t,i));return new Yr(r,me.empty(),e)}function pB(n){return new Yr(n.readTime,n.key,-1)}class Yr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yr(Re.min(),me.empty(),-1)}static max(){return new Yr(Re.max(),me.empty(),-1)}}function GT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=me.comparator(n.documentKey,e.documentKey),0!==t?t:We(n.largestBatchId,e.largestBatchId))}const gB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _B{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _c(n){return WT.apply(this,arguments)}function WT(){return WT=(0,X.Z)(function*(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==gB)throw n;se("LocalStore","Unexpectedly lost primary lease")}),WT.apply(this,arguments)}class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new O((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof O?t:O.resolve(t)}catch(t){return O.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):O.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):O.reject(t)}static resolve(e){return new O((t,i)=>{t(e)})}static reject(e){return new O((t,i)=>{i(e)})}static waitFor(e){return new O((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=O.resolve(!1);for(const i of e)t=t.next(r=>r?O.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new O((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;t(e[u]).next(h=>{s[u]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new O((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class Kb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ci,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Jp(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=ZT(i.target.error);this.V.reject(new Jp(e,r))}}static open(e,t,i,r){try{return new Kb(t,e.transaction(r,i))}catch(o){throw new Jp(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new pte(t)}}class Yo{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===Yo.S((0,en.z$)())&&Hn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),Jl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,en.hl)())return!1;if(Yo.C())return!0;const e=(0,en.z$)(),t=Yo.S(e),i=0<t&&t<10,r=Yo.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,X.Z)(function*(){return t.db||(se("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Jp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new re(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new re(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Jp(e,a))},o.onupgradeneeded=s=>{se("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{se("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,X.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=Kb.open(o.db,e,s?"readonly":"readwrite",i),u=r(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),O.reject(h))).toPromise();return u.catch(()=>{}),yield c.m,u}catch(c){const u=c,h="FirebaseError"!==u.name&&a<3;if(se("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),o.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class mte{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Jl(this.k.delete())}}class Jp extends re{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vc(n){return"IndexedDbTransactionError"===n.name}class pte{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(se("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Jl(i)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),Jl(this.store.add(e))}get(e){return Jl(this.store.get(e)).next(t=>(void 0===t&&(t=null),se("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),Jl(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),Jl(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new O((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new O((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){se("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new O((i,r)=>{t.onerror=o=>{const s=ZT(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new O((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new mte(a),u=t(a.primaryKey,a.value,c);if(u instanceof O){const h=u.catch(p=>(c.done(),O.reject(p)));i.push(h)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>O.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jl(n){return new O((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=ZT(i.target.error);t(r)}})}let vB=!1;function ZT(n){const e=Yo.S((0,en.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vB||(vB=!0,setTimeout(()=>{throw i},0)),i}}return n}class gte{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{se("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){vc(i)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield _c(i)}yield t.ee(6e4)}))}}class _te{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return O.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return se("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(se("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=pB(o);GT(s,i)>0&&(i=s)}),new Yr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Xr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function eg(n){return null==n}function tg(n){return 0===n&&1/n==-1/0}function yB(n){return"number"==typeof n&&Number.isInteger(n)&&!tg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ji(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bB(e)),e=vte(n.get(t),e);return bB(e)}function vte(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function bB(n){return n+"\x01\x01"}function Ds(n){const e=n.length;if(Me(e>=2),2===e)return Me("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&be(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:be()}o=s+2}return new xt(i)}const wB=["userId","batchId"];function Qb(n,e){return[n,Ji(e)]}function EB(n,e,t){return[n,Ji(e),t]}const yte={},bte=["prefixPath","collectionGroup","readTime","documentId"],wte=["prefixPath","collectionGroup","documentId"],Ete=["collectionGroup","readTime","prefixPath","documentId"],Ite=["canonicalId","targetId"],xte=["targetId","path"],Cte=["path","targetId"],Tte=["collectionId","parent"],Dte=["indexId","uid"],Ate=["uid","sequenceNumber"],Ste=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kte=["indexId","uid","orderedDocumentKey"],Mte=["userId","collectionPath","documentId"],Rte=["userId","collectionPath","largestBatchId"],Pte=["userId","collectionGroup","largestBatchId"],IB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nte=[...IB,"documentOverlays"],xB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CB=xB,Ote=[...CB,"indexConfiguration","indexState","indexEntries"];class KT extends _B{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function vi(n,e){const t=de(n);return Yo.M(t.ae,e)}function TB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class cn{constructor(e,t){this.comparator=e,this.root=t||Pi.EMPTY}insert(e,t){return new cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yb(this.root,e,this.comparator,!0)}}class Yb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Pi.RED,this.left=r??Pi.EMPTY,this.right=o??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Pi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1,Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Pi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AB(this.data.getIterator())}getIteratorFrom(e){return new AB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class AB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sh(n){return n.hasNext()?n.getNext():void 0}class Pr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new Gt(vn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Th(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class SB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class li{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new SB("Invalid base64 string: "+o):o}}(e);return new li(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new li(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}li.EMPTY_BYTE_STRING=new li("");const Lte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bc(n){if(Me(!!n),"string"==typeof n){let e=0;const t=Lte.exec(n);if(Me(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kn(n.seconds),nanos:kn(n.nanos)}}function kn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ua(n){return"string"==typeof n?li.fromBase64String(n):li.fromUint8Array(n)}function Xb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Jb(n){const e=n.mapValue.fields.__previous_value__;return Xb(e)?Jb(e):e}function ng(n){const e=bc(n.mapValue.fields.__local_write_time__.timestampValue);return new xn(e.seconds,e.nanos)}class Vte{constructor(e,t,i,r,o,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class wc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}const Ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},e0={nullValue:"NULL_VALUE"};function Ic(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xb(n)?4:PB(n)?9007199254740991:10:be()}function As(n,e){if(n===e)return!0;const t=Ic(n);if(t!==Ic(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ng(n).isEqual(ng(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=bc(r.timestampValue),a=bc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,ua(n.bytesValue).isEqual(ua(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return kn(r.geoPointValue.latitude)===kn(o.geoPointValue.latitude)&&kn(r.geoPointValue.longitude)===kn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return kn(r.integerValue)===kn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=kn(r.doubleValue),a=kn(o.doubleValue);return s===a?tg(s)===tg(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Th(n.arrayValue.values||[],e.arrayValue.values||[],As);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(TB(s)!==TB(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!As(s[c],a[c])))return!1;return!0}(n,e);default:return be()}var o}function ig(n,e){return void 0!==(n.values||[]).find(t=>As(t,e))}function xc(n,e){if(n===e)return 0;const t=Ic(n),i=Ic(e);if(t!==i)return We(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=kn(o.integerValue||o.doubleValue),c=kn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return kB(n.timestampValue,e.timestampValue);case 4:return kB(ng(n),ng(e));case 5:return We(n.stringValue,e.stringValue);case 6:return function(o,s){const a=ua(o),c=ua(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=We(a[u],c[u]);if(0!==h)return h}return We(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=We(kn(o.latitude),kn(s.latitude));return 0!==a?a:We(kn(o.longitude),kn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){const h=xc(a[u],c[u]);if(h)return h}return We(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ec.mapValue&&s===Ec.mapValue)return 0;if(o===Ec.mapValue)return 1;if(s===Ec.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=We(c[p],h[p]);if(0!==g)return g;const v=xc(a[c[p]],u[h[p]]);if(0!==v)return v}return We(c.length,h.length)}(n.mapValue,e.mapValue);default:throw be()}}function kB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return We(n,e);const t=bc(n),i=bc(e),r=We(t.seconds,i.seconds);return 0!==r?r:We(t.nanos,i.nanos)}function kh(n){return QT(n)}function QT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=bc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ua(n.bytesValue).toBase64():"referenceValue"in n?me.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=QT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${QT(t.fields[s])}`;return r+"}"}(n.mapValue):be()}function eu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function YT(n){return!!n&&"integerValue"in n}function rg(n){return!!n&&"arrayValue"in n}function MB(n){return!!n&&"nullValue"in n}function RB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function n0(n){return!!n&&"mapValue"in n}function og(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=og(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=og(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bte(n){return"nullValue"in n?e0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?eu(wc.empty(),me.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:be()}function Ute(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?eu(wc.empty(),me.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ec:be()}function NB(n,e){const t=xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function OB(n,e){const t=xc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!n0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=og(t)}setAll(e){let t=vn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=og(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());n0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];n0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){yc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Ni(og(this.value))}}function FB(n){const e=[];return yc(n.fields,(t,i)=>{const r=new vn([t]);if(n0(i)){const o=FB(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Pr(e)}class yn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new yn(e,0,Re.min(),Re.min(),Re.min(),Ni.empty(),0)}static newFoundDocument(e,t,i,r){return new yn(e,1,t,Re.min(),i,r,0)}static newNoDocument(e,t){return new yn(e,2,t,Re.min(),Re.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Re.min(),Re.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cc{constructor(e,t){this.position=e,this.inclusive=t}}function LB(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?me.comparator(me.fromName(s.referenceValue),t.key):xc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function VB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!As(n.position[t],e.position[t]))return!1;return!0}class sg{constructor(e,t="asc"){this.field=e,this.dir=t}}function jte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class BB{}class wt extends BB{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new zte(e,t,i):"array-contains"===t?new qte(e,i):"in"===t?new qB(e,i):"not-in"===t?new Gte(e,i):"array-contains-any"===t?new Wte(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new $te(e,i):new Hte(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xc(t,this.value)):null!==t&&Ic(this.value)===Ic(t)&&this.matchesComparison(xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends BB{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new $t(e,t)}matches(e){return Mh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Mh(n){return"and"===n.op}function XT(n){return"or"===n.op}function JT(n){return UB(n)&&Mh(n)}function UB(n){for(const e of n.filters)if(e instanceof $t)return!1;return!0}function eD(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+kh(n.value);if(JT(n))return n.filters.map(e=>eD(e)).join(",");{const e=n.filters.map(t=>eD(t)).join(",");return`${n.op}(${e})`}}function jB(n,e){return n instanceof wt?(i=n,(r=e)instanceof wt&&i.op===r.op&&i.field.isEqual(r.field)&&As(i.value,r.value)):n instanceof $t?function(i,r){return r instanceof $t&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&jB(s,r.filters[a]),!0)}(n,e):void be();var i,r}function zB(n,e){const t=n.filters.concat(e);return $t.create(t,n.op)}function $B(n){return n instanceof wt?`${(t=n).field.canonicalString()} ${t.op} ${kh(t.value)}`:n instanceof $t?function(t){return t.op.toString()+" {"+t.getFilters().map($B).join(" ,")+"}"}(n):"Filter";var t}class zte extends wt{constructor(e,t,i){super(e,t,i),this.key=me.fromName(i.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class $te extends wt{constructor(e,t){super(e,"in",t),this.keys=HB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Hte extends wt{constructor(e,t){super(e,"not-in",t),this.keys=HB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>me.fromName(i.referenceValue))}class qte extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rg(t)&&ig(t.arrayValue,this.value)}}class qB extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ig(this.value.arrayValue,t)}}class Gte extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ig(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ig(this.value.arrayValue,t)}}class Wte extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ig(this.value.arrayValue,i))}}class Zte{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function tD(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Zte(n,e,t,i,r,o,s)}function tu(n){const e=de(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>eD(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),eg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kh(i)).join(",")),e.ce=t}return e.ce}function ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jte(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VB(n.startAt,e.startAt)&&VB(n.endAt,e.endAt)}function r0(n){return me.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function o0(n,e){return n.filters.filter(t=>t instanceof wt&&t.field.isEqual(e))}function GB(n,e,t){let i=e0,r=!0;for(const o of o0(n,e)){let s=e0,a=!0;switch(o.op){case"<":case"<=":s=Bte(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=e0}NB({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];NB({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function WB(n,e,t){let i=Ec,r=!0;for(const o of o0(n,e)){let s=Ec,a=!0;switch(o.op){case">=":case">":s=Ute(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Ec}OB({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];OB({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class da{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function ZB(n,e,t,i,r,o,s,a){return new da(n,e,t,i,r,o,s,a)}function Rh(n){return new da(n)}function KB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nD(n){return null!==n.collectionGroup}function Ph(n){const e=de(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Gt(vn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new sg(o,i))}),t.has(vn.keyField().canonicalString())||e.le.push(new sg(vn.keyField(),i))}return e.le}function br(n){const e=de(n);return e.he||(e.he=function QB(n,e){if("F"===n.limitType)return tD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new sg(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Cc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Cc(n.startAt.position,n.startAt.inclusive):null;return tD(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Ph(n))),e.he}function iD(n,e){const t=n.filters.concat([e]);return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function s0(n,e,t){return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cg(n,e){return ag(br(n),br(e))&&n.limitType===e.limitType}function YB(n){return`${tu(br(n))}|lt:${n.limitType}`}function Nh(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>$B(r)).join(", ")}]`),eg(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>kh(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>kh(r)).join(",")),`Target(${i})`}(br(n))}; limitType=${n.limitType})`}function lg(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Ph(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,c){const u=LB(s,a,c);return s.inclusive?u<=0:u<0}(i.startAt,Ph(i),r)||i.endAt&&!function(s,a,c){const u=LB(s,a,c);return s.inclusive?u>=0:u>0}(i.endAt,Ph(i),r)));var i,r}function XB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JB(n){return(e,t)=>{let i=!1;for(const r of Ph(n)){const o=Kte(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Kte(n,e,t){const i=n.field.isKeyField()?me.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),u=a.data.field(o);return null!==c&&null!==u?xc(c,u):be()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return DB(this.inner)}size(){return this.innerSize}}const Qte=new cn(me.comparator);function Nr(){return Qte}const eU=new cn(me.comparator);function ug(...n){let e=eU;for(const t of n)e=e.insert(t.key,t);return e}function tU(n){let e=eU;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ss(){return dg()}function nU(){return dg()}function dg(){return new ha(n=>n.toString(),(n,e)=>n.isEqual(e))}const Yte=new cn(me.comparator),Xte=new Gt(me.comparator);function it(...n){let e=Xte;for(const t of n)e=e.add(t);return e}const Jte=new Gt(We);function rD(){return Jte}function iU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function rU(n){return{integerValue:""+n}}function oU(n,e){return yB(e)?rU(e):iU(n,e)}class a0{constructor(){this._=void 0}}function ene(n,e,t){return n instanceof Oh?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Xb(o)&&(o=Jb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof nu?aU(n,e):n instanceof iu?cU(n,e):function(r,o){const s=sU(r,o),a=lU(s)+lU(r.Ie);return YT(s)&&YT(r.Ie)?rU(a):iU(r.serializer,a)}(n,e)}function tne(n,e,t){return n instanceof nu?aU(n,e):n instanceof iu?cU(n,e):t}function sU(n,e){return n instanceof Fh?YT(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class Oh extends a0{}class nu extends a0{constructor(e){super(),this.elements=e}}function aU(n,e){const t=uU(e);for(const i of n.elements)t.some(r=>As(r,i))||t.push(i);return{arrayValue:{values:t}}}class iu extends a0{constructor(e){super(),this.elements=e}}function cU(n,e){let t=uU(e);for(const i of n.elements)t=t.filter(r=>!As(r,i));return{arrayValue:{values:t}}}class Fh extends a0{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function lU(n){return kn(n.integerValue||n.doubleValue)}function uU(n){return rg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hg{constructor(e,t){this.field=e,this.transform=t}}class ine{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function c0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class l0{}function dU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Vh(n.key,Cn.none()):new Lh(n.key,n.data,Cn.none());{const t=n.data,i=Ni.empty();let r=new Gt(vn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new fa(n.key,i,new Pr(r.toArray()),Cn.none())}}function rne(n,e,t){n instanceof Lh?function(r,o,s){const a=r.value.clone(),c=mU(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof fa?function(r,o,s){if(!c0(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=mU(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(fU(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fg(n,e,t,i){return n instanceof Lh?function(o,s,a,c){if(!c0(o.precondition,s))return a;const u=o.value.clone(),h=pU(o.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof fa?function(o,s,a,c){if(!c0(o.precondition,s))return a;const u=pU(o.fieldTransforms,c,s),h=s.data;return h.setAll(fU(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,c0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function one(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=sU(i.transform,r||null);null!=o&&(null===t&&(t=Ni.empty()),t.set(i.field,o))}return t||null}function hU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Th(i,r,(o,s)=>function nne(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof nu&&r instanceof nu||i instanceof iu&&r instanceof iu?Th(i.elements,r.elements,As):i instanceof Fh&&r instanceof Fh?As(i.Ie,r.Ie):i instanceof Oh&&r instanceof Oh);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Lh extends l0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fa extends l0{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function mU(n,e,t){const i=new Map;Me(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,tne(s,a,t[r]))}return i}function pU(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,ene(o,s,e))}return i}class Vh extends l0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oD extends l0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sD{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&rne(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=fg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=fg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=nU();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=dU(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&Th(this.mutations,e.mutations,(t,i)=>hU(t,i))&&Th(this.baseMutations,e.baseMutations,(t,i)=>hU(t,i))}}class aD{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Me(e.mutations.length===i.length);let r=Yte;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new aD(e,t,i,r)}}class cD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ane{constructor(e,t){this.count=e,this.unchangedNames=t}}var ei,Ct;function gU(n){switch(n){default:return be();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function _U(n){if(void 0===n)return Hn("GRPC error has no .code"),U.UNKNOWN;switch(n){case ei.OK:return U.OK;case ei.CANCELLED:return U.CANCELLED;case ei.UNKNOWN:return U.UNKNOWN;case ei.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ei.INTERNAL:return U.INTERNAL;case ei.UNAVAILABLE:return U.UNAVAILABLE;case ei.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ei.NOT_FOUND:return U.NOT_FOUND;case ei.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ei.ABORTED:return U.ABORTED;case ei.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ei.DATA_LOSS:return U.DATA_LOSS;default:return be()}}(Ct=ei||(ei={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";function vU(){return new TextEncoder}const cne=new Ih([4294967295,4294967295],0);function yU(n){const e=vU().encode(n),t=new tte;return t.update(e),new Uint8Array(t.digest())}function bU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ih([t,i],0),new Ih([r,o],0)]}class lD{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new mg(`Invalid padding: ${t}`);if(i<0)throw new mg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new mg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new mg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ih.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(Ih.fromNumber(i)));return 1===r.compare(cne)&&(r=new Ih([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=yU(e),[i,r]=bU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new lD(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=yU(e),[i,r]=bU(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class mg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pg{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,gg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pg(Re.min(),r,new cn(We),Nr(),it())}}class gg{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new gg(i,t,it(),it(),it())}}class d0{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class wU{constructor(e,t){this.targetId=e,this.fe=t}}class EU{constructor(e,t,i=li.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class IU{constructor(){this.ge=0,this.pe=CU(),this.ye=li.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=it(),t=it(),i=it();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:be()}}),new gg(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=CU()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class lne{constructor(e){this.Le=e,this.ke=new Map,this.qe=Nr(),this.Qe=xU(),this.Ke=new cn(We)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(r0(o))if(0===i){const s=new me(o.path);this.We(t,s,yn.newNoDocument(s,Re.min()))}else Me(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=ua(i).toUint8Array()}catch(c){if(c instanceof SB)return Rr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new lD(s,r,o)}catch(c){return Rr(c instanceof mg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&r0(a.target)){const c=new me(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,yn.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=it();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.Ye(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new pg(e,t,this.Ke,this.qe,i);return this.qe=Nr(),this.Qe=xU(),this.Ke=new cn(We),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new IU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Gt(We),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new IU),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function xU(){return new cn(me.comparator)}function CU(){return new cn(me.comparator)}const une={asc:"ASCENDING",desc:"DESCENDING"},dne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hne={and:"AND",or:"OR"};class fne{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uD(n,e){return n.useProto3Json||eg(e)?e:{value:e}}function Bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mne(n,e){return Bh(n,e.toTimestamp())}function qn(n){return Me(!!n),Re.fromTimestamp(function(t){const i=bc(t);return new xn(i.seconds,i.nanos)}(n))}function dD(n,e){return(i=n,new xt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function DU(n){const e=xt.fromString(n);return Me(FU(e)),e}function _g(n,e){return dD(n.databaseId,e.path)}function ks(n,e){const t=DU(e);if(t.get(1)!==n.databaseId.projectId)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(SU(t))}function hD(n,e){return dD(n.databaseId,e)}function AU(n){const e=DU(n);return 4===e.length?xt.emptyPath():SU(e)}function vg(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SU(n){return Me(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kU(n,e,t){return{name:_g(n,e),fields:t.value.mapValue.fields}}function MU(n,e,t){const i=ks(n,e.name),r=qn(e.updateTime),o=e.createTime?qn(e.createTime):Re.min(),s=new Ni({mapValue:{fields:e.fields}}),a=yn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function yg(n,e){let t;if(e instanceof Lh)t={update:kU(n,e.key,e.value)};else if(e instanceof Vh)t={delete:_g(n,e.key)};else if(e instanceof fa)t={update:kU(n,e.key,e.data),updateMask:Ene(e.fieldMask)};else{if(!(e instanceof oD))return be();t={verify:_g(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Oh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof iu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fh)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw be()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:mne(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:be()),t;var o}function fD(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Cn.updateTime(qn(o.updateTime)):void 0!==o.exists?Cn.exists(o.exists):Cn.none():Cn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Me("REQUEST_TIME"===a.setToServerValue),c=new Oh):"appendMissingElements"in a?c=new nu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new iu(a.removeAllFromArray.values||[]):"increment"in a?c=new Fh(s,a.increment):be();const u=vn.fromServerFormat(a.fieldPath);return new hg(u,c)}(n,r)):[];var o;if(e.update){const r=ks(n,e.update.name),o=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Pr((e.updateMask.fieldPaths||[]).map(h=>vn.fromServerFormat(h)));return new fa(r,o,s,t,i)}return new Lh(r,o,t,i)}if(e.delete){const r=ks(n,e.delete);return new Vh(r,t)}if(e.verify){const r=ks(n,e.verify);return new oD(r,t)}return be()}function RU(n,e){return{documents:[hD(n,e.path)]}}function mD(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=hD(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hD(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return OU($t.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:Tc((p=u).field),direction:yne(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=uD(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function PU(n){let e=AU(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Me(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=NU(p);return g instanceof $t&&JT(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new sg(Uh((b=g).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,eg(g)?null:g}(t.limit));let c=null;var p;t.startAt&&(c=new Cc((p=t.startAt).values||[],!!p.before));let u=null;return t.endAt&&(u=function(p){return new Cc(p.values||[],!p.before)}(t.endAt)),ZB(e,r,s,o,a,"F",c,u)}function NU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Uh(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Uh(t.unaryFilter.field);return wt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Uh(t.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Uh(t.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):void 0!==n.fieldFilter?wt.create(Uh((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return $t.create(t.compositeFilter.filters.map(i=>NU(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be();var t}function yne(n){return une[n]}function bne(n){return dne[n]}function wne(n){return hne[n]}function Tc(n){return{fieldPath:n.canonicalString()}}function Uh(n){return vn.fromServerFormat(n.fieldPath)}function OU(n){return n instanceof wt?function(t){if("=="===t.op){if(RB(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NAN"}};if(MB(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(RB(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NOT_NAN"}};if(MB(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tc(t.field),op:bne(t.op),value:t.value}}}(n):n instanceof $t?function(t){const i=t.getFilters().map(r=>OU(r));return 1===i.length?i[0]:{compositeFilter:{op:wne(t.op),filters:i}}}(n):be()}function Ene(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ma{constructor(e,t,i,r,o=Re.min(),s=Re.min(),a=li.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LU{constructor(e){this.ut=e}}function VU(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:h0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:_g(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Bh(o,s.version.toTimestamp()),createTime:Bh(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:ru(e.version)};else{if(!e.isUnknownDocument())return be();i.unknownDocument={path:t.path.toArray(),version:ru(e.version)}}var o,s;return i}function h0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ru(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ou(n){const e=new xn(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function su(n,e){const t=(e.baseMutations||[]).map(o=>fD(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>fD(n.ut,o)),r=xn.fromMillis(e.localWriteTimeMs);return new sD(e.batchId,r,t,i)}function bg(n){const e=ou(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ou(n.lastLimboFreeSnapshotVersion):Re.min();let i;return i=void 0!==n.query.documents?(Me(1===(o=n.query).documents.length),br(Rh(AU(o.documents[0])))):function(o){return br(PU(o))}(n.query),new ma(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,li.fromBase64String(n.resumeToken));var o}function BU(n,e){const t=ru(e.snapshotVersion),i=ru(e.lastLimboFreeSnapshotVersion);let r;r=r0(e.target)?RU(n.ut,e.target):mD(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tu(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function pD(n){const e=PU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?s0(e,e.limit,"L"):e}function gD(n,e){return new cD(e.largestBatchId,fD(n.ut,e.overlayMutation))}function UU(n,e){const t=e.path.lastSegment();return[n,Ji(e.path.popLast()),t]}function jU(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ru(i.readTime),documentKey:Ji(i.documentKey.path),largestBatchId:i.largestBatchId}}class xne{getBundleMetadata(e,t){return zU(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:ou(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return zU(e).put({bundleId:(r=t).id,createTime:ru(qn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return $U(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:pD(o.bundledQuery),readTime:ou(o.readTime)};var o})}saveNamedQuery(e,t){return $U(e).put({name:(r=t).name,readTime:ru(qn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function zU(n){return vi(n,"bundles")}function $U(n){return vi(n,"namedQueries")}class f0{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new f0(e,t.uid||"")}getOverlay(e,t){return wg(e).get(UU(this.userId,t)).next(i=>i?gD(this.serializer,i):null)}getOverlays(e,t){const i=Ss();return O.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new cD(t,s);r.push(this.lt(e,a))}),O.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(Ji(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(wg(e).H("collectionPathOverlayIndex",a))}),O.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ss(),o=Ji(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return wg(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const u=gD(this.serializer,c);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ss();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wg(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,u,h)=>{const p=gD(this.serializer,u);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return wg(e).put(function(r,o,s){const[a,c,u]=UU(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:yg(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function wg(n){return vi(n,"documentOverlays")}class au{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(kn(e.integerValue));else if("doubleValue"in e){const i=kn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),tg(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(ua(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?PB(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):be()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),me.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Cne(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function HU(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Cne(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}au.St=new au;class Tne{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=HU(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=HU(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Dne{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Ane{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Eg{constructor(){this.Wt=new Tne,this.Gt=new Dne(this.Wt),this.zt=new Ane(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class cu{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new cu(this.indexId,this.documentKey,this.arrayValue,i)}}function Dc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=qU(n.arrayValue,e.arrayValue),0!==t?t:(t=qU(n.directionalValue,e.directionalValue),0!==t?t:me.comparator(n.documentKey,e.documentKey)))}function qU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class GU{constructor(e){this.Jt=new Gt((t,i)=>vn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Me(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=qT(e);if(void 0!==t&&!this.tn(t))return!1;const i=Yl(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Gt(vn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new Xl(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Xl(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Xl(i.field,"asc"===i.dir?0:1)));return new Dh(Dh.UNKNOWN_ID,this.collectionId,t,Ah.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function WU(n){var e,t;if(Me(n instanceof wt||n instanceof $t),n instanceof wt){if(n instanceof qB){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>wt.create(n.field,"==",o)))||[];return $t.create(r,"or")}return n}const i=n.filters.map(r=>WU(r));return $t.create(i,n.op)}function Sne(n){if(0===n.getFilters().length)return[];const e=yD(WU(n));return Me(ZU(e)),_D(e)||vD(e)?[e]:e.getFilters()}function _D(n){return n instanceof wt}function vD(n){return n instanceof $t&&JT(n)}function ZU(n){return _D(n)||vD(n)||function(t){if(t instanceof $t&&XT(t)){for(const i of t.getFilters())if(!_D(i)&&!vD(i))return!1;return!0}return!1}(n)}function yD(n){if(Me(n instanceof wt||n instanceof $t),n instanceof wt)return n;if(1===n.filters.length)return yD(n.filters[0]);const e=n.filters.map(i=>yD(i));let t=$t.create(e,n.op);return t=m0(t),ZU(t)?t:(Me(t instanceof $t),Me(Mh(t)),Me(t.filters.length>1),t.filters.reduce((i,r)=>bD(i,r)))}function bD(n,e){let t;return Me(n instanceof wt||n instanceof $t),Me(e instanceof wt||e instanceof $t),t=n instanceof wt?e instanceof wt?$t.create([n,e],"and"):KU(n,e):e instanceof wt?KU(e,n):function(r,o){if(Me(r.filters.length>0&&o.filters.length>0),Mh(r)&&Mh(o))return zB(r,o.getFilters());const s=XT(r)?r:o,a=XT(r)?o:r,c=s.filters.map(u=>bD(u,a));return $t.create(c,"or")}(n,e),m0(t)}function KU(n,e){if(Mh(e))return zB(e,n.getFilters());{const t=e.filters.map(i=>bD(n,i));return $t.create(t,"or")}}function m0(n){if(Me(n instanceof wt||n instanceof $t),n instanceof wt)return n;const e=n.getFilters();if(1===e.length)return m0(e[0]);if(UB(n))return n;const t=e.map(r=>m0(r)),i=[];return t.forEach(r=>{r instanceof wt?i.push(r):r instanceof $t&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:$t.create(i,n.op)}class kne{constructor(){this.on=new wD}addToCollectionParentIndex(e,t){return this.on.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(Yr.min())}updateCollectionGroup(e,t,i){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}}class wD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Gt(xt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Gt(xt.comparator)).toArray()}}const p0=new Uint8Array(0);class Mne{constructor(e,t){this.user=e,this.databaseId=t,this._n=new wD,this.an=new ha(i=>tu(i),(i,r)=>ag(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:Ji(r)};return QU(e).put(o)}return O.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[fB(t),""],!1,!0);return QU(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Ds(s.parent))}return i})}addFieldIndex(e,t){const i=Ig(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=zh(e);return o.next(a=>{s.put(jU(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=Ig(e),r=zh(e),o=jh(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Ig(e),i=jh(e),r=zh(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return O.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new GU(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=jh(e);let r=!0;const o=new Map;return O.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=it();const a=[];return O.forEach(o,(c,u)=>{var L;se("IndexedDbIndexManager",`Using index ${L=c,`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${tu(t)}`);const h=function(L,Y){const ce=qT(Y);if(void 0===ce)return null;for(const De of o0(L,ce.fieldPath))switch(De.op){case"array-contains-any":return De.value.arrayValue.values||[];case"array-contains":return[De.value]}return null}(u,c),p=function(L,Y){const ce=new Map;for(const De of Yl(Y))for(const Ge of o0(L,De.fieldPath))switch(Ge.op){case"==":case"in":ce.set(De.fieldPath.canonicalString(),Ge.value);break;case"not-in":case"!=":return ce.set(De.fieldPath.canonicalString(),Ge.value),Array.from(ce.values())}return null}(u,c),g=function(L,Y){const ce=[];let De=!0;for(const Ge of Yl(Y)){const Wt=0===Ge.kind?GB(L,Ge.fieldPath,L.startAt):WB(L,Ge.fieldPath,L.startAt);ce.push(Wt.value),De&&(De=Wt.inclusive)}return new Cc(ce,De)}(u,c),v=function(L,Y){const ce=[];let De=!0;for(const Ge of Yl(Y)){const Wt=0===Ge.kind?WB(L,Ge.fieldPath,L.endAt):GB(L,Ge.fieldPath,L.endAt);ce.push(Wt.value),De&&(De=Wt.inclusive)}return new Cc(ce,De)}(u,c),b=this.ln(c,u,g),w=this.ln(c,u,v),I=this.hn(c,u,p),M=this.Pn(c.indexId,h,b,g.inclusive,w,v.inclusive,I);return O.forEach(M,A=>i.j(A,t.limit).next(L=>{L.forEach(Y=>{const ce=me.fromSegments(Y.documentKey);s.has(ce)||(s=s.add(ce),a.push(ce))})}))}).next(()=>a)}return O.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Sne($t.create(e.filters,"and")).map(i=>tD(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),u=c/(null!=t?t.length:1),h=[];for(let p=0;p<c;++p){const g=t?this.In(t[p/u]):p0,v=this.Tn(e,g,i[p%u],r),b=this.En(e,g,o[p%u],s),w=a.map(I=>this.Tn(e,g,I,!0));h.push(...this.createRange(v,b,w))}return h}Tn(e,t,i,r){const o=new cu(e,me.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new cu(e,me.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new GU(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return O.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(c){let u=new Gt(vn.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:u=u.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new Eg;for(const r of Yl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);au.St.ht(o,s)}return i.Ut()}In(e){const t=new Eg;return au.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new Eg;return au.St.ht(eu(this.databaseId,t),i.jt(function(o){const s=Yl(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new Eg);let o=0;for(const s of Yl(e)){const a=i[o++];for(const c of r)if(this.Rn(t,s.fieldPath)&&rg(a))r=this.Vn(r,s,a);else{const u=c.jt(s.kind);au.St.ht(a,u)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new Eg;c.seed(a.Ut()),au.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof wt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Ig(e),r=zh(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return O.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const g=p?new Ah(p.sequenceNumber,new Yr(ou(p.readTime),new me(Ds(p.documentKey)),p.largestBatchId)):Ah.empty(),v=h.fields.map(([b,w])=>new Xl(vn.fromServerFormat(b),w));return new Dh(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:We(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Ig(e),o=zh(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>O.forEach(a,c=>o.put(jU(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return O.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?O.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),O.forEach(a,c=>this.gn(e,r,c).next(u=>{const h=this.pn(o,c);return u.isEqual(h)?O.resolve():this.yn(e,o,c,u,h)}))))})}wn(e,t,i,r){return jh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return jh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=jh(e);let o=new Gt(Dc);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new cu(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new Gt(Dc);const r=this.dn(t,e);if(null==r)return i;const o=qT(t);if(null!=o){const s=e.data.field(o.fieldPath);if(rg(s))for(const a of s.arrayValue.values||[])i=i.add(new cu(t.indexId,e.key,this.In(a),r))}else i=i.add(new cu(t.indexId,e.key,p0,r));return i}yn(e,t,i,r,o){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,u,h,p,g){const v=c.getIterator(),b=u.getIterator();let w=Sh(v),I=Sh(b);for(;w||I;){let M=!1,A=!1;if(w&&I){const L=h(w,I);L<0?A=!0:L>0&&(M=!0)}else null!=w?A=!0:M=!0;M?(p(I),I=Sh(b)):A?(g(w),w=Sh(v)):(w=Sh(v),I=Sh(b))}}(r,o,Dc,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),O.waitFor(s)}fn(e){let t=1;return zh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>Dc(s,a)).filter((s,a,c)=>!a||0!==Dc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=Dc(s,e),c=Dc(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,p0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,p0,[]]))}return o}bn(e,t){return Dc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(YU)}getMinOffset(e,t){return O.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||be())).next(YU)}}function QU(n){return vi(n,"collectionParents")}function jh(n){return vi(n,"indexEntries")}function Ig(n){return vi(n,"indexConfiguration")}function zh(n){return vi(n,"indexState")}function YU(n){Me(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;GT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Yr(e.readTime,e.documentKey,t)}const XU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class er{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function JU(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(c.next(()=>{Me(1===a)}));const u=[];for(const h of t.mutations){const p=EB(e,h.key.path,t.batchId);o.push(r.delete(p)),u.push(h.key)}return O.waitFor(o).next(()=>u)}function g0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw be();e=n.noDocument}return JSON.stringify(e).length}er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(41943040,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);class _0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){Me(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new _0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ac(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=$h(e),s=Ac(e);return s.add({}).next(a=>{Me("number"==typeof a);const c=new sD(a,t,i,r),u=function(v,b,w){const I=w.baseMutations.map(A=>yg(v.ut,A)),M=w.mutations.map(A=>yg(v.ut,A));return{userId:b,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:I,mutations:M}}(this.serializer,this.userId,c),h=[];let p=new Gt((g,v)=>We(g.canonicalString(),v.canonicalString()));for(const g of r){const v=EB(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(u)),h.push(o.put(v,yte))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),O.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return Ac(e).get(t).next(i=>i?(Me(i.userId===this.userId),su(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?O.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ac(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Me(a.batchId>=i),o=su(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ac(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ac(e).W("userMutationsIndex",t).next(i=>i.map(r=>su(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Qb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return $h(e).Y({range:r},(s,a,c)=>{const[u,h,p]=s,g=Ds(h);if(u===this.userId&&t.path.isEqual(g))return Ac(e).get(p).next(v=>{if(!v)throw be();Me(v.userId===this.userId),o.push(su(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Gt(We);const r=[];return t.forEach(o=>{const s=Qb(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=$h(e).Y({range:a},(u,h,p)=>{const[g,v,b]=u,w=Ds(v);g===this.userId&&o.path.isEqual(w)?i=i.add(b):p.done()});r.push(c)}),O.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=Qb(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Gt(We);return $h(e).Y({range:s},(c,u,h)=>{const[p,g,v]=c,b=Ds(g);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Ac(e).get(o).next(s=>{if(null===s)throw be();Me(s.userId===this.userId),i.push(su(this.serializer,s))}))}),O.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return JU(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),O.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return O.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return $h(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Ds(o[1]);r.push(c)}else a.done()}).next(()=>{Me(0===r.length)})})}containsKey(e,t){return e4(e,this.userId,t)}Mn(e){return t4(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function e4(n,e,t){const i=Qb(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return $h(n).Y({range:o,J:!0},(a,c,u)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),u.done()}).next(()=>s)}function Ac(n){return vi(n,"mutations")}function $h(n){return vi(n,"documentMutations")}function t4(n){return vi(n,"mutationQueues")}class lu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new lu(0)}static Nn(){return new lu(-1)}}class Rne{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new lu(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Re.fromTimestamp(new xn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Me(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Hh(e).Y((s,a)=>{const c=bg(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>O.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Hh(e).Y((i,r)=>{const o=bg(r);t(o)})}Bn(e){return n4(e).get("targetGlobalKey").next(t=>(Me(null!==t),t))}Ln(e,t){return n4(e).put("targetGlobalKey",t)}kn(e,t){return Hh(e).put(BU(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=tu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Hh(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const u=bg(a);ag(t,u.target)&&(o=u,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Sc(e);return t.forEach(s=>{const a=Ji(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),O.waitFor(r)}removeMatchingKeys(e,t,i){const r=Sc(e);return O.forEach(t,o=>{const s=Ji(o.path);return O.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Sc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Sc(e);let o=it();return r.Y({range:i,J:!0},(s,a,c)=>{const u=Ds(s[1]),h=new me(u);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=Ji(t.path),r=IDBKeyRange.bound([i],[fB(i)],!1,!0);let o=0;return Sc(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}_t(e,t){return Hh(e).get(t).next(i=>i?bg(i):null)}}function Hh(n){return vi(n,"targets")}function n4(n){return vi(n,"targetGlobal")}function Sc(n){return vi(n,"targetDocuments")}function i4([n,e],[t,i]){const r=We(n,t);return 0===r?We(e,i):r}class Pne{constructor(e){this.Qn=e,this.buffer=new Gt(i4),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();i4(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class r4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){vc(i)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield _c(i)}yield t.Gn(3e5)}))}}class Nne{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return O.resolve(Xr._e);const i=new Pne(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(XU)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XU):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(u=Date.now(),Ch()<=Is.in.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(u-c)+`ms\nTotal Duration: ${u-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class One{constructor(e,t){this.db=e,this.garbageCollector=function o4(n,e){return new Nne(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return v0(e,i)}removeReference(e,t,i){return v0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return v0(e,t)}Xn(e,t){return function(r,o){let s=!1;return t4(r).Z(a=>e4(r,a,o).next(c=>(c&&(s=!0),O.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(u=>{if(!u)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Re.min()),Sc(e).delete([0,Ji(s.path)])))});r.push(c)}}).next(()=>O.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return v0(e,t)}Zn(e,t){const i=Sc(e);let r,o=Xr._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:u})=>{0===s?(o!==Xr._e&&t(new me(Ds(r)),o),o=u,r=c):o=Xr._e}).next(()=>{o!==Xr._e&&t(new me(Ds(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function v0(n,e){return Sc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ji(e.path),sequenceNumber:r}));var r}class s4{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?O.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return uu(e).put(i)}removeEntry(e,t,i){return uu(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],h0(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=yn.newInvalidDocument(t);return uu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(xg(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:yn.newInvalidDocument(t)};return uu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(xg(t))},(r,o)=>{i={document:this.tr(t,o),size:g0(o)}}).next(()=>i)}getEntries(e,t){let i=Nr();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Nr(),r=new cn(me.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,g0(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return O.resolve();let r=new Gt(u4);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(xg(r.first()),xg(r.last())),s=r.getIterator();let a=s.getNext();return uu(e).Y({index:"documentKeyIndex",range:o},(c,u,h)=>{const p=me.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&u4(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,u),a=s.hasNext()?s.getNext():null),a?h.U(xg(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),h0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uu(e).W(IDBKeyRange.bound(a,c,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let h=Nr();for(const p of u){const g=this.tr(me.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(lg(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Nr();const s=l4(t,i),a=l4(t,Yr.max());return uu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,u,h)=>{const p=this.tr(me.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Lne(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return c4(e).get("remoteDocumentGlobalKey").next(t=>(Me(!!t),t))}er(e,t){return c4(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function Ine(n,e){let t;if(e.document)t=MU(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=me.fromSegments(e.noDocument.path),r=ou(e.noDocument.readTime);t=yn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return be();{const i=me.fromSegments(e.unknownDocument.path),r=ou(e.unknownDocument.version);t=yn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new xn(r[0],r[1]);return Re.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Re.min()))return i}return yn.newInvalidDocument(e)}}function a4(n){return new Fne(n)}class Lne extends s4{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ha(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Gt((o,s)=>We(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=VU(this._r.serializer,s);r=r.add(o.path.popLast());const u=g0(c);i+=u-a.size,t.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=VU(this._r.serializer,s.convertToNoDocument(Re.min()));t.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),O.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function c4(n){return vi(n,"remoteDocumentGlobal")}function uu(n){return vi(n,"remoteDocumentsV14")}function xg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function l4(n,e){const t=e.documentKey.path.toArray();return[n,h0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function u4(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=We(t[o],i[o]),r)return r;return r=We(t.length,i.length),r||(r=We(t[t.length-2],i[i.length-2]),r||We(t[t.length-1],i[i.length-1]))}class Vne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class d4{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&fg(i.mutation,r,Pr.empty(),xn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,it()).next(()=>i))}getLocalViewOfDocuments(e,t,i=it()){const r=Ss();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=ug();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ss();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,it()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Nr();const s=dg(),a=dg();return t.forEach((c,u)=>{const h=i.get(u.key);r.has(u.key)&&(void 0===h||h.mutation instanceof fa)?o=o.insert(u.key,u):void 0!==h?(s.set(u.key,h.mutation.getFieldMask()),fg(h.mutation,u,h.mutation.getFieldMask(),xn.now())):s.set(u.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new Vne(h,null!==(p=s.get(u))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=dg();let r=new cn((s,a)=>s-a),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=t.get(c);if(null===u)return;let h=i.get(c)||Pr.empty();h=a.applyToLocalView(u,h),i.set(c,h);const p=(r.get(a.batchId)||it()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,p=nU();h.forEach(g=>{if(!o.has(g)){const v=dU(t.get(g),i.get(g));null!==v&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return O.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return me.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):nD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):O.resolve(Ss());let a=-1,c=o;return s.next(u=>O.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,it())).next(h=>({batchId:a,changes:tU(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next(i=>{let r=ug();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=ug();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,c=>{const u=(p=t,g=c.child(o),new da(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,u)=>{const h=u.getKey();null===s.get(h)&&(s=s.insert(h,yn.newInvalidDocument(h)))});let a=ug();return s.forEach((c,u)=>{const h=o.get(c);void 0!==h&&fg(h.mutation,u,Pr.empty(),xn.now()),lg(t,u)&&(a=a.insert(c,u))}),a})}}class Bne{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return O.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:qn(r.createTime)}),O.resolve();var r}getNamedQuery(e,t){return O.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:pD(r.bundledQuery),readTime:qn(r.readTime)}),O.resolve();var r}}class Une{constructor(){this.overlays=new cn(me.comparator),this.lr=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ss();return O.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),O.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),O.resolve()}getOverlaysForCollection(e,t,i){const r=Ss(),o=t.length+1,s=new me(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return O.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new cn((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=o.get(u.largestBatchId);null===h&&(h=Ss(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ss(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return O.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new cD(t,i));let o=this.lr.get(t);void 0===o&&(o=it(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class ED{constructor(){this.hr=new Gt(yi.Pr),this.Ir=new Gt(yi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new yi(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new yi(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new me(new xt([])),i=new yi(t,e),r=new yi(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new me(new xt([])),i=new yi(t,e),r=new yi(t,e+1);let o=it();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new yi(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class yi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return me.comparator(e.key,t.key)||We(e.gr,t.gr)}static Tr(e,t){return We(e.gr,t.gr)||me.comparator(e.key,t.key)}}class jne{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Gt(yi.Pr)}checkEmpty(e){return O.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new sD(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new yi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new yi(t,0),r=new yi(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Gt(We);return t.forEach(r=>{const o=new yi(r,0),s=new yi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),O.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;me.isDocumentKey(o)||(o=o.child(""));const s=new yi(new me(o),0);let a=new Gt(We);return this.yr.forEachWhile(c=>{const u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.gr)),!0)},s),O.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Me(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return O.forEach(t.mutations,r=>{const o=new yi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new yi(t,0),r=this.yr.firstAfterOrEqual(i);return O.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return O.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zne{constructor(e){this.Cr=e,this.docs=new cn(me.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return O.resolve(i?i.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let i=Nr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():yn.newInvalidDocument(r))}),O.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Nr();const s=t.path,a=new me(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||GT(pB(h),i)<=0||(r.has(h.key)||lg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,t,i,r){be()}vr(e,t){return O.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $ne(this)}getSize(e){return O.resolve(this.size)}}class $ne extends s4{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),O.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Hne{constructor(e){this.persistence=e,this.Fr=new ha(t=>tu(t),ag),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ED,this.targetCount=0,this.Nr=lu.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),O.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new lu(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.kn(t),O.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),O.waitFor(o).next(()=>r)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return O.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),O.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),O.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return O.resolve(i)}containsKey(e,t){return O.resolve(this.Or.containsKey(t))}}class ID{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Xr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Hne(this),this.indexManager=new kne,this.remoteDocumentCache=new zne(i=>this.referenceDelegate.Qr(i)),this.serializer=new LU(t),this.Kr=new Bne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Une,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new jne(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("MemoryPersistence","Starting transaction:",e);const r=new qne(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return O.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class qne extends _B{constructor(e){super(),this.currentSequenceNumber=e}}class y0{constructor(e){this.persistence=e,this.Gr=new ED,this.zr=null}static jr(e){return new y0(e)}get Hr(){if(this.zr)return this.zr;throw be()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),O.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),O.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Hr,i=>{const r=me.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Re.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return O.or([()=>O.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Gne{constructor(e){this.serializer=e}N(e,t,i,r){const o=new Kb("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wB,{unique:!0}),c.createObjectStore("documentMutations"),h4(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=O.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),h4(e)),s=s.next(()=>function(c){const u=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,u){return u.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wB,{unique:!0});const p=u.store("mutations"),g=h.map(v=>p.put(v));return O.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const u=c.createObjectStore("documentOverlays",{keyPath:Mte});u.createIndex("collectionPathOverlayIndex",Rte,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Pte,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:bte});u.createIndex("documentKeyIndex",wte),u.createIndex("collectionGroupIndex",Ete)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Dte}).createIndex("sequenceNumberIndex",Ate,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Ste}).createIndex("documentKeyIndex",kte,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=g0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>O.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>O.forEach(a,c=>{Me(c.userId===o.userId);const u=su(this.serializer,c);return JU(e,o.userId,u).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new xt(s),u=[0,Ji(c)];o.push(t.get(u).next(h=>h?O.resolve():t.put({targetId:0,path:Ji(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>O.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Tte});const i=t.store("collectionParents"),r=new wD,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:Ji(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new xt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],u)=>{const h=Ds(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=bg(r),s=BU(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(p=s,p.document?new me(xt.fromString(p.document.name).popFirst(5)):p.noDocument?me.fromSegments(p.noDocument.path):p.unknownDocument?me.fromSegments(p.unknownDocument.path):be()).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(u))}).next(()=>O.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=a4(this.serializer),o=new ID(y0.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var u;let h=null!==(u=a.get(c.userId))&&void 0!==u?u:it();su(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),O.forEach(a,(c,u)=>{const h=new _i(u),p=f0.ct(this.serializer,h),g=o.getIndexManager(h),v=_0.ct(h,this.serializer,g,o.referenceDelegate);return new d4(r,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new KT(t,Xr._e),c).next()})})}}function h4(n){n.createObjectStore("targetDocuments",{keyPath:xte}).createIndex("documentTargetsIndex",Cte,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ite,{unique:!0}),n.createObjectStore("targetGlobal")}const xD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CD{constructor(e,t,i,r,o,s,a,c,u,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=u,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!CD.D())throw new re(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new One(this,r),this.Ii=t+"main",this.serializer=new LU(c),this.Ti=new Yo(this.Ii,this.ai,new Gne(this.serializer)),this.qr=new Rne(this.referenceDelegate,this.serializer),this.remoteDocumentCache=a4(this.serializer),this.Kr=new xne,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Hn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(U.FAILED_PRECONDITION,xD);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Xr(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,X.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,X.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>w0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(vc(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Cg(e).get("owner").next(t=>O.resolve(this.wi(t)))}Si(e){return w0(e).delete(this.clientId)}bi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=vi(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return O.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?O.resolve(!0):Cg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new re(U.FAILED_PRECONDITION,xD);return!1}}return!(!this.networkEnabled||!this.inForeground)||w0(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new KT(t,Xr._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>w0(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return _0.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mne(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return f0.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){se("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ai)?Ote:14===c?CB:13===c?xB:12===c?Nte:11===c?IB:void be();var c;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new KT(a,this.Lr?this.Lr.next():Xr._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw Hn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new re(U.FAILED_PRECONDITION,gB);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return Cg(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(U.FAILED_PRECONDITION,xD)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cg(e).put("owner",t)}static D(){return Yo.D()}pi(e){const t=Cg(e);return t.get("owner").next(i=>this.wi(i)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):O.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(Hn(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,en.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return se("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Hn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Hn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cg(n){return vi(n,"owner")}function w0(n){return vi(n,"clientMetadata")}function TD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class DD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=it(),r=it();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new DD(e,t.fromCache,i,r)}}class Wne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class f4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Wne;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(Ch()<=Is.in.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Nh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),O.resolve()):(Ch()<=Is.in.DEBUG&&se("QueryEngine","Query:",Nh(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Ch()<=Is.in.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Nh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(t))):O.resolve())}zi(e,t){if(KB(t))return O.resolve(null);let i=br(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=s0(t,null,"F"),i=br(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=it(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const u=this.Yi(t,a);return this.Zi(t,u,s,c.readTime)?this.zi(e,s0(t,null,"F")):this.Xi(e,u,t,c)}))})))}ji(e,t,i,r){return KB(t)||r.isEqual(Re.min())?O.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?O.resolve(null):(Ch()<=Is.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nh(t)),this.Xi(e,s,t,mB(r,-1)).next(a=>a))})}Yi(e,t){let i=new Gt(JB(e));return t.forEach((r,o)=>{lg(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return Ch()<=Is.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Nh(t)),this.Gi.getDocumentsMatchingQuery(e,t,Yr.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Zne{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new cn(We),this.ns=new ha(o=>tu(o),ag),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function m4(n,e,t,i){return new Zne(n,e,t,i)}function p4(n,e){return AD.apply(this,arguments)}function AD(){return AD=(0,X.Z)(function*(n,e){const t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=it();for(const u of r){s.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}),AD.apply(this,arguments)}function g4(n){const e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function _4(n,e,t){let i=it(),r=it();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Nr();return t.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:s,cs:r}})}function Yne(n,e){const t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function qh(n,e){const t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,O.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new ma(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function Gh(n,e,t){return SD.apply(this,arguments)}function SD(){return SD=(0,X.Z)(function*(n,e,t){const i=de(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!vc(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),SD.apply(this,arguments)}function E0(n,e,t){const i=de(n);let r=Re.min(),o=it();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,h){const p=de(c),g=p.ns.get(h);return void 0!==g?O.resolve(p.ts.get(g)):p.qr.getTargetData(u,h)}(i,s,br(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Re.min(),t?o:it())).next(a=>(b4(i,XB(e),a),{documents:a,ls:o})))}function v4(n,e){const t=de(n),i=de(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function y4(n,e){const t=de(n),i=t.rs.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,mB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(b4(t,e,r),r))}function b4(n,e,t){let i=n.rs.get(e)||Re.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function kD(){return kD=(0,X.Z)(function*(n,e,t,i){const r=de(n);let o=it(),s=Nr();for(const u of t){const h=e.hs(u.metadata.name);u.document&&(o=o.add(h));const p=e.Ps(u);p.setReadTime(e.Is(u.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield qh(r,(h=i,br(Rh(xt.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",u=>_4(u,a,s).next(h=>(a.apply(u),h)).next(h=>r.qr.removeMatchingKeysForTargetId(u,c.targetId).next(()=>r.qr.addMatchingKeys(u,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,h.us,h.cs)).next(()=>h.us)))}),kD.apply(this,arguments)}function Jne(n,e){return MD.apply(this,arguments)}function MD(){return MD=(0,X.Z)(function*(n,e,t=it()){const i=yield qh(n,br(pD(e.bundledQuery))),r=de(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=qn(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(li.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),MD.apply(this,arguments)}function w4(n,e){return`firestore_clients_${n}_${e}`}function E4(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function RD(n,e){return`firestore_targets_${n}_${e}`}class I0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new re(r.error.code,r.error.message))),s?new I0(e,t,r.state,o):(Hn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tg{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new re(i.error.code,i.error.message))),o?new Tg(e,i.state,r):(Hn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class x0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=rD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=yB(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new x0(e,o):(Hn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class PD{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new PD(t.clientId,t.onlineState):(Hn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ND{constructor(){this.activeTargetIds=rD()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new cn(We),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=w4(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new ND),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(w4(e.persistenceKey,r));if(o){const s=x0.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(RD(this.persistenceKey,e));if(i){const r=Tg.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(RD(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se("SharedClientState","READ",e,t),t}setItem(e,t){se("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(se("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Hn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=Xr._e;if(null!=s)try{const c=JSON.parse(s);Me("number"==typeof c),a=c}catch(c){Hn("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==Xr._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new I0(this.currentUser,e,t,i),o=E4(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=E4(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=RD(this.persistenceKey,e),o=new Tg(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return x0.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return I0.Ts(new _i(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return Tg.Ts(r,t)}Ms(e){return PD.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=rD();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class I4{constructor(){this.eo=new ND,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ND,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eie{ro(e){}shutdown(){}}class x4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let C0=null;function FD(){return null===C0?C0=268435456+Math.round(2147483648*Math.random()):C0++,"0x"+C0.toString(16)}const tie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nie{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const tr="WebChannelConnection";class iie extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=FD(),c=this.So(t,i);se("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(t,c,u,r).then(h=>(se("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Rr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+xh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${tie[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=FD();return new Promise((s,a)=>{const c=new ete;c.setWithCredentials(!0),c.listenOnce(Yee.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $T.NO_ERROR:const h=c.getResponseJson();se(tr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case $T.TIMEOUT:se(tr,`RPC '${e}' ${o} timed out`),a(new re(U.DEADLINE_EXCEEDED,"Request time out"));break;case $T.HTTP_ERROR:const p=c.getStatus();if(se(tr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const b=function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(M)>=0?M:U.UNKNOWN}(v.status);a(new re(b,v.message))}else a(new re(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new re(U.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{se(tr,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(r);se(tr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",u,i,15)})}vo(e,t,i){const r=FD(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Kee(),a=Qee(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Jee({})),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=o.join("");se(tr,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=s.createWebChannel(h,c);let g=!1,v=!1;const b=new nie({co:I=>{v?se(tr,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(g||(se(tr,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),se(tr,`RPC '${e}' stream ${r} sending:`,I),p.send(I))},lo:()=>p.close()}),w=(I,M,A)=>{I.listen(M,L=>{try{A(L)}catch(Y){setTimeout(()=>{throw Y},0)}})};return w(p,Zb.EventType.OPEN,()=>{v||se(tr,`RPC '${e}' stream ${r} transport opened.`)}),w(p,Zb.EventType.CLOSE,()=>{v||(v=!0,se(tr,`RPC '${e}' stream ${r} transport closed`),b.Ro())}),w(p,Zb.EventType.ERROR,I=>{v||(v=!0,Rr(tr,`RPC '${e}' stream ${r} transport errored:`,I),b.Ro(new re(U.UNAVAILABLE,"The operation could not be completed")))}),w(p,Zb.EventType.MESSAGE,I=>{var M;if(!v){const A=I.data[0];Me(!!A);const Y=A.error||(null===(M=A[0])||void 0===M?void 0:M.error);if(Y){se(tr,`RPC '${e}' stream ${r} received error:`,Y);const ce=Y.status;let De=function(Ir){const Or=ei[Ir];if(void 0!==Or)return _U(Or)}(ce),Ge=Y.message;void 0===De&&(De=U.INTERNAL,Ge="Unknown error status: "+ce+" with message "+Y.message),v=!0,b.Ro(new re(De,Ge)),p.close()}else se(tr,`RPC '${e}' stream ${r} received:`,A),b.Vo(A)}}),w(a,Xee.STAT_EVENT,I=>{I.stat===cB.PROXY?se(tr,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===cB.NOPROXY&&se(tr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function C4(){return typeof window<"u"?window:null}function T0(){return typeof document<"u"?document:null}function Dg(n){return new fne(n,!0)}class LD{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class T4{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new LD(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,X.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,X.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,X.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Hn(t.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===U.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new re(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,X.Z)(function*(){e.state=0,e.start()}))}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rie extends T4{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function gne(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:be(),r=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Me(void 0===h||"string"==typeof h),li.fromBase64String(h||"")):(Me(void 0===h||h instanceof Uint8Array),li.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=void 0===u.code?U.UNKNOWN:_U(u.code);return new re(h,u.message||"")}(s);t=new EU(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=ks(n,i.document.name),o=qn(i.document.updateTime),s=i.document.createTime?qn(i.document.createTime):Re.min(),a=new Ni({mapValue:{fields:i.document.fields}}),c=yn.newFoundDocument(r,o,s,a);t=new d0(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=ks(n,i.document),o=i.readTime?qn(i.readTime):Re.min(),s=yn.newNoDocument(r,o);t=new d0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=ks(n,i.document);t=new d0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return be();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new ane(r,o);t=new wU(i.targetId,s)}}var u;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Re.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Re.min():s.readTime?qn(s.readTime):Re.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=vg(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=r0(c)?{documents:RU(o,c)}:{query:mD(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=TU(o,s.resumeToken);const u=uD(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Re.min())>0){a.readTime=Bh(o,s.snapshotVersion.toTimestamp());const u=uD(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const i=function vne(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=vg(this.serializer),t.removeTarget=e,this.e_(t)}}class oie extends T4{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function _ne(n,e){return n&&n.length>0?(Me(void 0!==e),n.map(t=>function(r,o){let s=qn(r.updateTime?r.updateTime:o);return s.isEqual(Re.min())&&(s=qn(o)),new ine(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=qn(e.commitTime);return this.listener.I_(i,t)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=vg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>yg(this.serializer,i))};this.e_(t)}}class sie extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new re(U.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(U.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class cie{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Hn(t),this.f_=!1):se("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class lie{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,X.Z)(function*(){var c;kc(s)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,X.Z)(function*(h){const p=de(h);p.C_.add(4),yield Wh(p),p.M_.set("Unknown"),p.C_.delete(4),yield Ag(p)}),function u(h){return c.apply(this,arguments)})(s))}))}),this.M_=new cie(i,r)}}function Ag(n){return BD.apply(this,arguments)}function BD(){return BD=(0,X.Z)(function*(n){if(kc(n))for(const e of n.v_)yield e(!0)}),BD.apply(this,arguments)}function Wh(n){return UD.apply(this,arguments)}function UD(){return UD=(0,X.Z)(function*(n){for(const e of n.v_)yield e(!1)}),UD.apply(this,arguments)}function D0(n,e){const t=de(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),$D(t)?zD(t):Kh(t).Ho()&&jD(t,e))}function Sg(n,e){const t=de(n),i=Kh(t);t.D_.delete(e),i.Ho()&&D4(t,e),0===t.D_.size&&(i.Ho()?i.Zo():kc(t)&&t.M_.set("Unknown"))}function jD(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kh(n).u_(e)}function D4(n,e){n.x_.Oe(e),Kh(n).c_(e)}function zD(n){n.x_=new lne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Kh(n).start(),n.M_.g_()}function $D(n){return kc(n)&&!Kh(n).jo()&&n.D_.size>0}function kc(n){return 0===de(n).C_.size}function A4(n){n.x_=void 0}function uie(n){return HD.apply(this,arguments)}function HD(){return HD=(0,X.Z)(function*(n){n.D_.forEach((e,t)=>{jD(n,e)})}),HD.apply(this,arguments)}function die(n,e){return qD.apply(this,arguments)}function qD(){return qD=(0,X.Z)(function*(n,e){A4(n),$D(n)?(n.M_.w_(e),zD(n)):n.M_.set("Unknown")}),qD.apply(this,arguments)}function hie(n,e,t){return GD.apply(this,arguments)}function GD(){return GD=(0,X.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof EU&&2===e.state&&e.cause)try{yield(i=(0,X.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield A0(n,i)}else if(e instanceof d0?n.x_.$e(e):e instanceof wU?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Re.min()))try{const i=yield g4(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(u);h&&o.D_.set(u,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(li.EMPTY_BYTE_STRING,h.snapshotVersion)),D4(o,c);const p=new ma(h.target,c,u,h.sequenceNumber);jD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){se("RemoteStore","Failed to raise snapshot:",i),yield A0(n,i)}var i}),GD.apply(this,arguments)}function A0(n,e,t){return WD.apply(this,arguments)}function WD(){return WD=(0,X.Z)(function*(n,e,t){if(!vc(e))throw e;n.C_.add(1),yield Wh(n),n.M_.set("Offline"),t||(t=()=>g4(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Ag(n)}))}),WD.apply(this,arguments)}function S4(n,e){return e().catch(t=>A0(n,t,e))}function Zh(n){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,X.Z)(function*(n){const e=de(n),t=Mc(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;fie(e);)try{const r=yield Yne(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,mie(e,r)}catch(r){yield A0(e,r)}k4(e)&&M4(e)}),ZD.apply(this,arguments)}function fie(n){return kc(n)&&n.b_.length<10}function mie(n,e){n.b_.push(e);const t=Mc(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function k4(n){return kc(n)&&!Mc(n).jo()&&n.b_.length>0}function M4(n){Mc(n).start()}function pie(n){return KD.apply(this,arguments)}function KD(){return KD=(0,X.Z)(function*(n){Mc(n).E_()}),KD.apply(this,arguments)}function gie(n){return QD.apply(this,arguments)}function QD(){return QD=(0,X.Z)(function*(n){const e=Mc(n);for(const t of n.b_)e.P_(t.mutations)}),QD.apply(this,arguments)}function _ie(n,e,t){return YD.apply(this,arguments)}function YD(){return YD=(0,X.Z)(function*(n,e,t){const i=n.b_.shift(),r=aD.from(i,e,t);yield S4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Zh(n)}),YD.apply(this,arguments)}function vie(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,X.Z)(function*(n,e){var t;e&&Mc(n).h_&&(yield(t=(0,X.Z)(function*(r,o){if(gU(a=o.code)&&a!==U.ABORTED){const s=r.b_.shift();Mc(r).Yo(),yield S4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Zh(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),k4(n)&&M4(n)}),XD.apply(this,arguments)}function R4(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,X.Z)(function*(n,e){const t=de(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const i=kc(t);t.C_.add(3),yield Wh(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Ag(t)}),JD.apply(this,arguments)}function eA(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,X.Z)(function*(n,e){const t=de(n);e?(t.C_.delete(2),yield Ag(t)):e||(t.C_.add(2),yield Wh(t),t.M_.set("Unknown"))}),tA.apply(this,arguments)}function Kh(n){return n.O_||(n.O_=function(t,i,r){const o=de(t);return o.A_(),new rie(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:uie.bind(null,n),Io:die.bind(null,n),a_:hie.bind(null,n)}),n.v_.push(function(){var e=(0,X.Z)(function*(t){t?(n.O_.Yo(),$D(n)?zD(n):n.M_.set("Unknown")):(yield n.O_.stop(),A4(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Mc(n){return n.N_||(n.N_=function(t,i,r){const o=de(t);return o.A_(),new oie(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:pie.bind(null,n),Io:vie.bind(null,n),T_:gie.bind(null,n),I_:_ie.bind(null,n)}),n.v_.push(function(){var e=(0,X.Z)(function*(t){t?(n.N_.Yo(),yield Zh(n)):(yield n.N_.stop(),n.b_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class nA{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new nA(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qh(n,e){if(Hn("AsyncQueue",`${e}: ${n}`),vc(n))return new re(U.UNAVAILABLE,`${e}: ${n}`);throw n}class Yh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||me.comparator(t.key,i.key):(t,i)=>me.comparator(t.key,i.key),this.keyedMap=ug(),this.sortedSet=new cn(this.comparator)}static emptySet(e){return new Yh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Yh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class P4{constructor(){this.B_=new cn(me.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):be():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Xh{constructor(e,t,i,r,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Xh(e,t,Yh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class yie{constructor(){this.k_=void 0,this.listeners=[]}}class bie{constructor(){this.queries=new ha(e=>YB(e),cg),this.onlineState="Unknown",this.q_=new Set}}function iA(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,X.Z)(function*(n,e){const t=de(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new yie),r)try{o.k_=yield t.onListen(i)}catch(s){const a=Qh(s,`Initialization of query '${Nh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&aA(t)}),rA.apply(this,arguments)}function oA(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,X.Z)(function*(n,e){const t=de(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),sA.apply(this,arguments)}function wie(n,e){const t=de(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&aA(t)}function Eie(n,e,t){const i=de(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function aA(n){n.q_.forEach(e=>{e.next()})}class cA{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Xh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Xh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Iie{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class N4{constructor(e){this.serializer=e}hs(e){return ks(this.serializer,e)}Ps(e){return e.metadata.exists?MU(this.serializer,e.document,!1):yn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return qn(e)}}class xie{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=O4(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=xt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new N4(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||it()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function Xne(n,e,t,i){return kD.apply(this,arguments)}(e.localStore,new N4(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield Jne(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function O4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class F4{constructor(e){this.key=e}}class L4{constructor(e){this.key=e}}class V4{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=it(),this.mutatedKeys=it(),this._a=JB(e),this.aa=new Yh(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new P4,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),v=lg(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let I=!1;g&&v?g.data.isEqual(v.data)?b!==w&&(i.track({type:3,doc:v}),I=!0):this.ha(g,v)||(i.track({type:2,doc:v}),I=!0,(c&&this._a(v,c)>0||u&&this._a(v,u)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),I=!0):g&&!v&&(i.track({type:1,doc:g}),I=!0,(c||u)&&(a=!0)),I&&(v?(s=s.add(v),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,h)=>function(g,v){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return b(g)-b(v)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Xh(this.query,e.aa,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new P4,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=it(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new L4(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new F4(i))}),t}da(e){this.ia=e.ls,this.oa=it();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Xh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Cie{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Tie{constructor(e){this.key=e,this.Ra=!1}}class Die{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ha(a=>YB(a),cg),this.fa=new Map,this.ga=new Set,this.pa=new cn(me.comparator),this.ya=new Map,this.wa=new ED,this.Sa={},this.ba=new Map,this.Da=lu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Aie(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,X.Z)(function*(n,e){const t=RA(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield qh(t.localStore,br(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield uA(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&D0(t.remoteStore,s)}return r}),lA.apply(this,arguments)}function uA(n,e,t,i,r){return dA.apply(this,arguments)}function dA(){return dA=(0,X.Z)(function*(n,e,t,i,r){n.va=(p,g,v)=>{return(b=(0,X.Z)(function*(I,M,A,L){let Y=M.view.ca(A);Y.Zi&&(Y=yield E0(I.localStore,M.query,!1).then(({documents:Ge})=>M.view.ca(Ge,Y)));const ce=L&&L.targetChanges.get(M.targetId),De=M.view.applyChanges(Y,I.isPrimaryClient,ce);return wA(I,M.targetId,De.Ta),De.snapshot}),function w(I,M,A,L){return b.apply(this,arguments)})(n,p,g,v);var b};const o=yield E0(n.localStore,e,!0),s=new V4(e,o.ls),a=s.ca(o.documents),c=gg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),u=s.applyChanges(a,n.isPrimaryClient,c);wA(n,t,u.Ta);const h=new Cie(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}),dA.apply(this,arguments)}function Sie(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,X.Z)(function*(n,e){const t=de(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!cg(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Gh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Sg(t.remoteStore,i.targetId),Jh(t,i.targetId)}).catch(_c))):(Jh(t,i.targetId),yield Gh(t.localStore,i.targetId,!0))}),hA.apply(this,arguments)}function fA(){return fA=(0,X.Z)(function*(n,e,t){const i=PA(n);try{const r=yield function(s,a){const c=de(s),u=xn.now(),h=a.reduce((v,b)=>v.add(b.key),it());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Nr(),w=it();return c.ss.getEntries(v,h).next(I=>{b=I,b.forEach((M,A)=>{A.isValidDocument()||(w=w.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(I=>{p=I;const M=[];for(const A of a){const L=one(A,p.get(A.key).overlayedDocument);null!=L&&M.push(new fa(A.key,L,FB(L.value.mapValue),Cn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,M,a)}).next(I=>{g=I;const M=I.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(v,I.batchId,M)})}).then(()=>({batchId:g.batchId,changes:tU(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let u=s.Sa[s.currentUser.toKey()];u||(u=new cn(We)),u=u.insert(a,c),s.Sa[s.currentUser.toKey()]=u}(i,r.batchId,t),yield pa(i,r.changes),yield Zh(i.remoteStore)}catch(r){const o=Qh(r,"Failed to persist write");t.reject(o)}}),fA.apply(this,arguments)}function B4(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,X.Z)(function*(n,e){const t=de(n);try{const i=yield function Qne(n,e){const t=de(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);var w,I,M;null!==e.targetMismatches.get(p)?v=v.withResumeToken(li.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),I=v,M=h,(0===(w=g).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,v))});let c=Nr(),u=it();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(_4(o,s,e.documentUpdates).next(h=>{c=h.us,u=h.cs})),!i.isEqual(Re.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Me(s.Ra):r.removedDocuments.size>0&&(Me(s.Ra),s.Ra=!1))}),yield pa(t,i,e)}catch(i){yield _c(i)}}),mA.apply(this,arguments)}function U4(n,e,t){const i=de(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=de(s);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(u=!0)}),u&&aA(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Mie(n,e,t){return pA.apply(this,arguments)}function pA(){return pA=(0,X.Z)(function*(n,e,t){const i=de(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new cn(me.comparator);s=s.insert(o,yn.newNoDocument(o,Re.min()));const a=it().add(o),c=new pg(Re.min(),new Map,new cn(We),s,a);yield B4(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),EA(i)}else yield Gh(i.localStore,e,!1).then(()=>Jh(i,e,t)).catch(_c)}),pA.apply(this,arguments)}function Rie(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,X.Z)(function*(n,e){const t=de(n),i=e.batch.batchId;try{const r=yield function Kne(n,e){const t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const p=u.batch,g=p.keys();let v=O.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(c,b)).next(w=>{const I=u.docVersions.get(b);Me(null!==I),w.version.compareTo(I)<0&&(p.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=it();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);bA(t,i,null),yA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield pa(t,r)}catch(r){yield _c(r)}}),gA.apply(this,arguments)}function Pie(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,X.Z)(function*(n,e,t){const i=de(n);try{const r=yield function(s,a){const c=de(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Me(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(i.localStore,e);bA(i,e,t),yA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield pa(i,r)}catch(r){yield _c(r)}}),_A.apply(this,arguments)}function vA(){return vA=(0,X.Z)(function*(n,e){const t=de(n);kc(t.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=de(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=Qh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),vA.apply(this,arguments)}function yA(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function bA(n,e,t){const i=de(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Jh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||j4(n,i)})}function j4(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Sg(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),EA(n))}function wA(n,e,t){for(const i of t)i instanceof F4?(n.wa.addReference(i.key,e),Oie(n,i)):i instanceof L4?(se("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||j4(n,i.key)):be()}function Oie(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(se("SyncEngine","New document in limbo: "+t),n.ga.add(i),EA(n))}function EA(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new me(xt.fromString(e)),i=n.Da.next();n.ya.set(i,new Tie(t)),n.pa=n.pa.insert(t,i),D0(n.remoteStore,new ma(br(Rh(t.path)),i,"TargetPurposeLimboResolution",Xr._e))}}function pa(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,X.Z)(function*(n,e,t){const i=de(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(u=>{if((u||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){r.push(u);const h=DD.Qi(c.targetId,u);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,X.Z)(function*(u,h){const p=de(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>O.forEach(h,v=>O.forEach(v.ki,b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b)).next(()=>O.forEach(v.qi,b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))}catch(g){if(!vc(g))throw g;se("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.ts.get(v),I=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ts=p.ts.insert(v,I)}}}),function c(u,h){return a.apply(this,arguments)})(i.localStore,o))}),IA.apply(this,arguments)}function Fie(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,X.Z)(function*(n,e){const t=de(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const i=yield p4(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new re(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield pa(t,i._s)}var o}),xA.apply(this,arguments)}function Lie(n,e){const t=de(n),i=t.ya.get(e);if(i&&i.Ra)return it().add(i.key);{let r=it();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function Vie(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,X.Z)(function*(n,e){const t=de(n),i=yield E0(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&wA(t,e.targetId,r.Ta),r}),CA.apply(this,arguments)}function Bie(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,X.Z)(function*(n,e){const t=de(n);return y4(t.localStore,e).then(i=>pa(t,i))}),TA.apply(this,arguments)}function Uie(n,e,t,i){return DA.apply(this,arguments)}function DA(){return DA=(0,X.Z)(function*(n,e,t,i){const r=de(n),o=yield function(a,c){const u=de(a),h=de(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(g=>g?u.localDocuments.getDocuments(p,g):O.resolve(null)))}(r.localStore,e);var c;null!==o?("pending"===t?yield Zh(r.remoteStore):"acknowledged"===t||"rejected"===t?(bA(r,e,i||null),yA(r,e),c=e,de(de(r.localStore).mutationQueue).Fn(c)):be(),yield pa(r,o)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}),DA.apply(this,arguments)}function AA(){return AA=(0,X.Z)(function*(n,e){const t=de(n);if(RA(t),PA(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield z4(t,i.toArray());t.Ca=!0,yield eA(t.remoteStore,!0);for(const o of r)D0(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Jh(t,s),Gh(t.localStore,s,!0))),Sg(t.remoteStore,s)}),yield r,yield z4(t,i),function(s){const a=de(s);a.ya.forEach((c,u)=>{Sg(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new cn(me.comparator)}(t),t.Ca=!1,yield eA(t.remoteStore,!1)}}),AA.apply(this,arguments)}function z4(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,X.Z)(function*(n,e,t){const i=de(n),r=[],o=[];for(const s of e){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield qh(i.localStore,br(c[0]));for(const u of c){const h=i.ma.get(u),p=yield Vie(i,h);p.snapshot&&o.push(p.snapshot)}}else{const u=yield v4(i.localStore,s);a=yield qh(i.localStore,u),yield uA(i,$4(u),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),SA.apply(this,arguments)}function $4(n){return ZB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function zie(n){return t=de(n).localStore,de(de(t).persistence).Bi();var t}function $ie(n,e,t,i){return kA.apply(this,arguments)}function kA(){return kA=(0,X.Z)(function*(n,e,t,i){const r=de(n);if(r.Ca)return void se("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield y4(r.localStore,XB(o[0])),a=pg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,li.EMPTY_BYTE_STRING);yield pa(r,s,a);break}case"rejected":yield Gh(r.localStore,e,!0),Jh(r,e,i);break;default:be()}}),kA.apply(this,arguments)}function Hie(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,X.Z)(function*(n,e,t){const i=RA(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){se("SyncEngine","Adding an already active target "+r);continue}const o=yield v4(i.localStore,r),s=yield qh(i.localStore,o);yield uA(i,$4(o),s.targetId,!1,s.resumeToken),D0(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield Gh(i.localStore,r,!1).then(()=>{Sg(i.remoteStore,r),Jh(i,r)}).catch(_c))}}),MA.apply(this,arguments)}function RA(n){const e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=B4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mie.bind(null,e),e.Va.a_=wie.bind(null,e.eventManager),e.Va.Fa=Eie.bind(null,e.eventManager),e}function PA(n){const e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pie.bind(null,e),e}class kg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.serializer=Dg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return m4(this.persistence,new f4,e.initialUser,this.serializer)}createPersistence(e){return new ID(y0.jr,this.serializer)}createSharedClientState(e){return new I4}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class NA extends kg{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield PA(i.xa.syncEngine),yield Zh(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return m4(this.persistence,new f4,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new r4(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new _te(t,this.persistence);return new gte(e.asyncQueue,i)}createPersistence(e){const t=TD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new CD(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,C4(),T0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new I4}}class H4 extends NA{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof OD&&(i.sharedClientState.syncEngine={Ys:Uie.bind(null,r),Zs:$ie.bind(null,r),Xs:Hie.bind(null,r),Bi:zie.bind(null,r),Js:Bie.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,X.Z)(function*(s){yield function jie(n,e){return AA.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=C4();if(!OD.D(t))throw new re(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=TD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new OD(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ef{initialize(e,t){var i=this;return(0,X.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>U4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Fie.bind(null,i.syncEngine),yield eA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bie}createDatastore(e){const t=Dg(e.databaseInfo.databaseId),i=new iie(e.databaseInfo);return new sie(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>U4(this.syncEngine,t,0),a=x4.D()?new x4:new eie,new lie(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,c,u,h){const p=new Die(r,o,s,a,c,u);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(i){const r=de(i);se("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Wh(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function q4(n,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class S0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Hn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Wie{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new ci,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,X.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new Iie(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,X.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,X.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Zie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new re(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,X.Z)(function*(s,a){const c=de(s),u=vg(c.serializer)+"/documents",h={documents:a.map(b=>_g(c.serializer,b))},p=yield c.Co("BatchGetDocuments",u,h,a.length),g=new Map;p.forEach(b=>{const w=function pne(n,e){return"found"in e?function(i,r){Me(!!r.found);const o=ks(i,r.found.name),s=qn(r.found.updateTime),a=r.found.createTime?qn(r.found.createTime):Re.min(),c=new Ni({mapValue:{fields:r.found.fields}});return yn.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(i,r){Me(!!r.missing),Me(!!r.readTime);const o=ks(i,r.missing),s=qn(r.readTime);return yn.newNoDocument(o,s)}(n,e):be()}(c.serializer,b);g.set(w.key.toString(),w)});const v=[];return a.forEach(b=>{const w=g.get(b.toString());Me(!!w),v.push(w)}),v}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=me.fromPath(r);e.mutations.push(new oD(o,e.precondition(o)))}),yield(i=(0,X.Z)(function*(o,s){const a=de(o),c=vg(a.serializer)+"/documents",u={writes:s.map(h=>yg(a.serializer,h))};yield a.wo("Commit",c,u)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw be();t=Re.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new re(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?Cn.exists(!1):Cn.updateTime(t):Cn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new re(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cn.updateTime(t)}return Cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Kie{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new LD(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,X.Z)(function*(){const t=new Zie(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!eg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!gU(t)}return!1}}class Qie{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=_i.UNAUTHENTICATED,this.clientId=hB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,X.Z)(function*(a){se("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(se("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Qh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function k0(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,X.Z)(function*(o){i.isEqual(o)||(yield p4(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),OA.apply(this,arguments)}function FA(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield VA(n);se("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>R4(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>R4(e.remoteStore,o)),n._onlineComponents=e}),LA.apply(this,arguments)}function G4(n){return"FirebaseError"===n.name?n.code===U.FAILED_PRECONDITION||n.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function VA(n){return BA.apply(this,arguments)}function BA(){return BA=(0,X.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield k0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!G4(t))throw t;Rr("Error using user provided cache. Falling back to memory cache: "+t),yield k0(n,new kg)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield k0(n,new kg);return n._offlineComponents}),BA.apply(this,arguments)}function M0(n){return UA.apply(this,arguments)}function UA(){return UA=(0,X.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield FA(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield FA(n,new ef))),n._onlineComponents}),UA.apply(this,arguments)}function W4(n){return VA(n).then(e=>e.persistence)}function tf(n){return VA(n).then(e=>e.localStore)}function Z4(n){return M0(n).then(e=>e.remoteStore)}function jA(n){return M0(n).then(e=>e.syncEngine)}function nf(n){return zA.apply(this,arguments)}function zA(){return zA=(0,X.Z)(function*(n){const e=yield M0(n),t=e.eventManager;return t.onListen=Aie.bind(null,e.syncEngine),t.onUnlisten=Sie.bind(null,e.syncEngine),t}),zA.apply(this,arguments)}function Q4(n,e,t={}){const i=new ci;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(o,s,a,c,u){const h=new S0({next:g=>{s.enqueueAndForget(()=>oA(o,p));const v=g.docs.has(a);!v&&g.fromCache?u.reject(new re(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&"server"===c.source?u.reject(new re(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new cA(Rh(a.path),h,{includeMetadataChanges:!0,J_:!0});return iA(o,p)}(yield nf(n),n.asyncQueue,e,t,i)})),i.promise}function Y4(n,e,t={}){const i=new ci;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(o,s,a,c,u){const h=new S0({next:g=>{s.enqueueAndForget(()=>oA(o,p)),g.fromCache&&"server"===c.source?u.reject(new re(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new cA(a,h,{includeMetadataChanges:!0,J_:!0});return iA(o,p)}(yield nf(n),n.asyncQueue,e,t,i)})),i.promise}function X4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const J4=new Map;function $A(n,e,t){if(!t)throw new re(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ej(n,e,t,i){if(!0===e&&!0===i)throw new re(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tj(n){if(!me.isDocumentKey(n))throw new re(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nj(n){if(me.isDocumentKey(n))throw new re(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function R0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":be()}function _t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=R0(n);throw new re(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ij(n,e){if(e<=0)throw new re(U.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class rj{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new re(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ej("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=X4(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rj(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new rte;switch(i.type){case"firstParty":return new cte(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new re(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=J4.get(t);i&&(se("ComponentProvider","Removing Datastore"),J4.delete(t),i.terminate())}(this),Promise.resolve()}}class Oi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class bn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Ms extends Oi{constructor(e,t,i){super(e,t,Rh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new me(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function sj(n,e,...t){if(n=(0,en.m9)(n),$A("collection","path",e),n instanceof Mg){const i=xt.fromString(e,...t);return nj(i),new Ms(n,null,i)}{if(!(n instanceof bn||n instanceof Ms))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return nj(i),new Ms(n.firestore,null,i)}}function P0(n,e,...t){if(n=(0,en.m9)(n),1===arguments.length&&(e=hB.newId()),$A("doc","path",e),n instanceof Mg){const i=xt.fromString(e,...t);return tj(i),new bn(n,null,new me(i))}{if(!(n instanceof bn||n instanceof Ms))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return tj(i),new bn(n.firestore,n instanceof Ms?n.converter:null,new me(i))}}function aj(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),(n instanceof bn||n instanceof Ms)&&(e instanceof bn||e instanceof Ms)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function HA(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),n instanceof Oi&&e instanceof Oi&&n.firestore===e.firestore&&cg(n._query,e._query)&&n.converter===e.converter}class cre{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new LD(this,"async_queue_retry"),this.iu=()=>{const t=T0();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=T0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=T0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new ci;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,X.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!vc(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Hn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=nA.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&be()}verifyOperationInProgress(){}uu(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function qA(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class lre{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ln extends Mg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new cre,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cj(this),this._firestoreClient.terminate()}}function Mn(n){return n._firestoreClient||cj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cj(n){var e,t,i;const r=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Vte(n._databaseId,c,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,X4(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new Qie(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function lj(n,e,t){const i=new ci;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield k0(n,t),yield FA(n,e),i.resolve()}catch(r){const o=r;if(!G4(o))throw o;Rr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function uj(n){if(n._initialized||n._terminated)throw new re(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(li.fromBase64String(e))}catch(t){throw new re(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rs(li.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ga{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class du{constructor(e){this._methodName=e}}class N0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}const bre=/^__.*__$/;class wre{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lh(e,this.data,t,this.fieldTransforms)}}class dj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class O0{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new O0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return V0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(hj(this.Iu)&&bre.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Ere{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Dg(e)}pu(e,t,i,r=!1){return new O0({Iu:e,methodName:t,gu:i,path:vn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hu(n){const e=n._freezeSettings(),t=Dg(n._databaseId);return new Ere(n._databaseId,!!e.ignoreUndefinedProperties,t)}function F0(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);KA("Data must be an object, but it was:",s,i);const a=pj(i,s);let c,u;if(o.merge)c=new Pr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=Ng(e,p,t);if(!s.contains(g))throw new re(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_j(h,g)||h.push(g)}c=new Pr(h),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new wre(new Ni(a),c,u)}class Pg extends du{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pg}}function fj(n,e,t){return new O0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class GA extends du{_toFieldTransform(e){return new hg(e.path,new Oh)}isEqual(e){return e instanceof GA}}class Ire extends du{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=fj(this,e,!0),i=this.yu.map(o=>fu(o,t)),r=new nu(i);return new hg(e.path,r)}isEqual(e){return this===e}}class xre extends du{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=fj(this,e,!0),i=this.yu.map(o=>fu(o,t)),r=new iu(i);return new hg(e.path,r)}isEqual(e){return this===e}}class Cre extends du{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Fh(e.serializer,oU(e.serializer,this.wu));return new hg(e.path,t)}isEqual(e){return this===e}}function WA(n,e,t,i){const r=n.pu(1,e,t);KA("Data must be an object, but it was:",r,i);const o=[],s=Ni.empty();yc(i,(c,u)=>{const h=L0(e,c,t);u=(0,en.m9)(u);const p=r.Ru(h);if(u instanceof Pg)o.push(h);else{const g=fu(u,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new Pr(o);return new dj(s,a,r.fieldTransforms)}function ZA(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[Ng(e,i,t)],c=[r];if(o.length%2!=0)throw new re(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Ng(e,o[g])),c.push(o[g+1]);const u=[],h=Ni.empty();for(let g=a.length-1;g>=0;--g)if(!_j(u,a[g])){const v=a[g];let b=c[g];b=(0,en.m9)(b);const w=s.Ru(v);if(b instanceof Pg)u.push(v);else{const I=fu(b,w);null!=I&&(u.push(v),h.set(v,I))}}const p=new Pr(u);return new dj(h,p,s.fieldTransforms)}function mj(n,e,t,i=!1){return fu(t,n.pu(i?4:3,e))}function fu(n,e){if(gj(n=(0,en.m9)(n)))return KA("Unsupported field value:",e,n),pj(n,e);if(n instanceof du)return function(i,r){if(!hj(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=fu(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,en.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return oU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=xn.fromDate(i);return{timestampValue:Bh(r.serializer,o)}}if(i instanceof xn){const o=new xn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bh(r.serializer,o)}}if(i instanceof N0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Rs)return{bytesValue:TU(r.serializer,i._byteString)};if(i instanceof bn){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dD(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${R0(i)}`)}(n,e)}function pj(n,e){const t={};return DB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yc(n,(i,r)=>{const o=fu(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function gj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof N0||n instanceof Rs||n instanceof bn||n instanceof du)}function KA(n,e,t){if(!gj(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=R0(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Ng(n,e,t){if((e=(0,en.m9)(e))instanceof ga)return e._internalPath;if("string"==typeof e)return L0(n,e);throw V0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Tre=new RegExp("[~\\*/\\[\\]]");function L0(n,e,t){if(e.search(Tre)>=0)throw V0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ga(...e.split("."))._internalPath}catch{throw V0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function V0(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new re(U.INVALID_ARGUMENT,a+n+c)}function _j(n,e){return n.some(t=>t.isEqual(e))}class Og{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(B0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dre extends Og{data(){return super.data()}}function B0(n,e){return"string"==typeof e?L0(n,e):e instanceof ga?e._internalPath:e._delegate._internalPath}function vj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new re(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QA{}class Fg extends QA{}function Rc(n,e,...t){let i=[];e instanceof QA&&i.push(e),i=i.concat(t),function(o){const s=o.filter(c=>c instanceof rf).length,a=o.filter(c=>c instanceof Lg).length;if(s>1||s>0&&a>0)throw new re(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Lg extends Fg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Lg(e,t,i)}_apply(e){const t=this._parse(e);return Ej(e._query,t),new Oi(e.firestore,e.converter,iD(e._query,t))}_parse(e){const t=hu(e.firestore);return function(o,s,a,c,u,h,p){let g;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new re(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){wj(p,h);const v=[];for(const b of p)v.push(bj(c,o,b));g={arrayValue:{values:v}}}else g=bj(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||wj(p,h),g=mj(a,"where",p,"in"===h||"not-in"===h);return wt.create(u,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class rf extends QA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:$t.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)Ej(s,c),s=iD(s,c)}(e._query,t),new Oi(e.firestore,e.converter,iD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class YA extends Fg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new YA(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new re(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new re(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sg(o,s)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new da(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class U0 extends Fg{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new U0(e,t,i)}_apply(e){return new Oi(e.firestore,e.converter,s0(e._query,this._limit,this._limitType))}}class j0 extends Fg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new j0(e,t,i)}_apply(e){const t=yj(e,this.type,this._docOrFields,this._inclusive);return new Oi(e.firestore,e.converter,(o=t,new da((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class z0 extends Fg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new z0(e,t,i)}_apply(e){const t=yj(e,this.type,this._docOrFields,this._inclusive);return new Oi(e.firestore,e.converter,(o=t,new da((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function yj(n,e,t,i){if(t[0]=(0,en.m9)(t[0]),t[0]instanceof Og)return function(o,s,a,c,u){if(!c)throw new re(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of Ph(o))if(p.field.isKeyField())h.push(eu(s,c.key));else{const g=c.data.field(p.field);if(Xb(g))throw new re(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const v=p.field.canonicalString();throw new re(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new Cc(h,u)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=hu(n.firestore);return function(s,a,c,u,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new re(U.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const w=h[b];if(g[b].field.isKeyField()){if("string"!=typeof w)throw new re(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!nD(s)&&-1!==w.indexOf("/"))throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const I=s.path.child(xt.fromString(w));if(!me.isDocumentKey(I))throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const M=new me(I);v.push(eu(a,M))}else{const I=mj(c,u,w);v.push(I)}}return new Cc(v,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function bj(n,e,t){if("string"==typeof(t=(0,en.m9)(t))){if(""===t)throw new re(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nD(e)&&-1!==t.indexOf("/"))throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xt.fromString(t));if(!me.isDocumentKey(i))throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return eu(n,new me(i))}if(t instanceof bn)return eu(n,t._key);throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${R0(t)}.`)}function wj(n,e){if(!Array.isArray(n)||0===n.length)throw new re(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ej(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new re(U.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class XA{convertValue(e,t="none"){switch(Ic(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return yc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new N0(kn(e.latitude),kn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ng(e));default:return null}}convertTimestamp(e){const t=bc(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xt.fromString(e);Me(FU(i));const r=new wc(i.get(1),i.get(3)),o=new me(i.popFirst(5));return r.isEqual(t)||Hn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function $0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Fre extends XA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}class mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends Og{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(B0("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Vg extends _a{data(e={}){return super.data(e)}}class Pc{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Vg(this._firestore,this._userDataWriter,i.key,i,new mu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Vg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new mu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new Vg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new mu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Vre(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}function xj(n,e){return n instanceof _a&&e instanceof _a?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Pc&&e instanceof Pc&&n._firestore===e._firestore&&HA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Nc extends XA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}function Cj(n,e,t){n=_t(n,bn);const i=_t(n.firestore,ln),r=$0(n.converter,e,t);return sf(i,[F0(hu(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Cn.none())])}function Tj(n,e,t,...i){n=_t(n,bn);const r=_t(n.firestore,ln),o=hu(r);let s;return s="string"==typeof(e=(0,en.m9)(e))||e instanceof ga?ZA(o,"updateDoc",n._key,e,t,i):WA(o,"updateDoc",n._key,e),sf(r,[s.toMutation(n._key,Cn.exists(!0))])}function Dj(n,...e){var t,i,r;n=(0,en.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||qA(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(qA(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,u,h;if(n instanceof bn)u=_t(n.firestore,ln),h=Rh(n._key.path),c={next:p=>{e[s]&&e[s](JA(u,n,p))},error:e[s+1],complete:e[s+2]};else{const p=_t(n,Oi);u=_t(p.firestore,ln),h=p._query;const g=new Nc(u);c={next:v=>{e[s]&&e[s](new Pc(u,g,p,v))},error:e[s+1],complete:e[s+2]},vj(n._query)}return function(g,v,b,w){const I=new S0(w),M=new cA(v,I,b);return g.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return iA(yield nf(g),M)})),()=>{I.Na(),g.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return oA(yield nf(g),M)}))}}(Mn(u),h,a,c)}function sf(n,e){return function(i,r){const o=new ci;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function kie(n,e,t){return fA.apply(this,arguments)}(yield jA(i),r,o)})),o.promise}(Mn(n),e)}function JA(n,e,t){const i=t.docs.get(e._key),r=new Nc(n);return new _a(n,r,e._key,i,new mu(t.hasPendingWrites,t.fromCache),e.converter)}const noe={maxAttempts:5};class Aj{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hu(e)}set(e,t,i){this._verifyNotCommitted();const r=Oc(e,this._firestore),o=$0(r.converter,t,i),s=F0(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Cn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Oc(e,this._firestore);let s;return s="string"==typeof(t=(0,en.m9)(t))||t instanceof ga?ZA(this._dataReader,"WriteBatch.update",o._key,t,i,r):WA(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Oc(e,this._firestore);return this._mutations=this._mutations.concat(new Vh(t._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oc(n,e){if((n=(0,en.m9)(n)).firestore!==e)throw new re(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ioe extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=hu(t)}get(t){const i=Oc(t,this._firestore),r=new Fre(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return be();const s=o[0];if(s.isFoundDocument())return new Og(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new Og(this._firestore,r,i._key,null,i.converter);throw be()})}set(t,i,r){const o=Oc(t,this._firestore),s=$0(o.converter,i,r),a=F0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=Oc(t,this._firestore);let a;return a="string"==typeof(i=(0,en.m9)(i))||i instanceof ga?ZA(this._dataReader,"Transaction.update",s._key,i,r,o):WA(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=Oc(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Oc(e,this._firestore),i=new Nc(this._firestore);return super.get(e).then(r=>new _a(this._firestore,i,t._key,r._document,new mu(!1,!1),t.converter))}}function tS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Rj(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function Pj(){if(!function Fte(){return typeof atob<"u"}())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){xh=fh.SDK_VERSION,(0,fh._registerComponent)(new G2.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new ln(new ste(i.getProvider("auth-internal")),new lte(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(u.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,fh.registerVersion)(lB,"4.3.2",e),(0,fh.registerVersion)(lB,"4.3.2","esm2017")}();class Bg{constructor(e){this._delegate=e}static fromBase64String(e){return Pj(),new Bg(Rs.fromBase64String(e))}static fromUint8Array(e){return Rj(),new Bg(Rs.fromUint8Array(e))}toBase64(){return Pj(),this._delegate.toBase64()}toUint8Array(){return Rj(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nS(n){return function foe(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class moe{enableIndexedDbPersistence(e,t){return function dre(n,e){uj(n=_t(n,ln));const t=Mn(n);if(t._uninitializedComponentsProvider)throw new re(U.FAILED_PRECONDITION,"SDK cache is already specified.");Rr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new ef;return lj(t,r,new NA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function hre(n){uj(n=_t(n,ln));const e=Mn(n);if(e._uninitializedComponentsProvider)throw new re(U.FAILED_PRECONDITION,"SDK cache is already specified.");Rr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new ef;return lj(e,i,new H4(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function fre(n){if(n._initialized&&!n._terminated)throw new re(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(r){if(!Yo.D())return Promise.resolve();const o=r+"main";yield Yo.delete(o)}),function i(r){return t.apply(this,arguments)})(TD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Nj{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof wc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Rr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function oj(n,e,t,i={}){var r;const o=(n=_t(n,Mg))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=_i.MOCK_USER;else{a=(0,en.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new re(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new _i(u)}n._authCredentials=new ote(new uB(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function pre(n){return function Yie(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield W4(n),t=yield Z4(n);return e.setNetworkEnabled(!0),function(r){const o=de(r);return o.C_.delete(0),Ag(o)}(t)}))}(Mn(n=_t(n,ln)))}(this._delegate)}disableNetwork(){return function gre(n){return function Xie(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield W4(n),t=yield Z4(n);return e.setNetworkEnabled(!1),(i=(0,X.Z)(function*(o){const s=de(o);s.C_.add(0),yield Wh(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}(Mn(n=_t(n,ln)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,ej("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function mre(n){return function(t){const i=new ci;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function Nie(n,e){return vA.apply(this,arguments)}(yield jA(t),i)})),i.promise}(Mn(n=_t(n,ln)))}(this._delegate)}onSnapshotsInSync(e){return function Wre(n,e){return function tre(n,e){const t=new S0(e);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield nf(n),o=t,de(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield nf(n),o=t,void de(r).q_.delete(o);var r,o}))}}(Mn(n=_t(n,ln)),qA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new af(this,sj(this._delegate,e))}catch(t){throw wr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Co(this,P0(this._delegate,e))}catch(t){throw wr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Er(this,function are(n,e){if(n=_t(n,Mg),$A("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(n,null,(i=e,new da(xt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw wr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function roe(n,e,t){n=_t(n,ln);const i=Object.assign(Object.assign({},noe),t);return function(o){if(o.maxAttempts<1)throw new re(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new ci;return o.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const u=yield function K4(n){return M0(n).then(e=>e.datastore)}(o);new Kie(o.asyncQueue,u,a,s,c).run()})),c.promise}(Mn(n),r=>e(new ioe(n,r)),i)}(this._delegate,t=>e(new Oj(this,t)))}batch(){return Mn(this._delegate),new Fj(new Aj(this._delegate,e=>sf(this._delegate,e)))}loadBundle(e){return function _re(n,e){const t=Mn(n=_t(n,ln)),i=new lre;return function nre(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?vU().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return q4(h,p);if(h instanceof ArrayBuffer)return q4(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Wie(h,a);var h}(t,Dg(e));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function qie(n,e,t){const i=de(n);var r;(r=(0,X.Z)(function*(s,a,c){try{const u=yield a.getMetadata();if(yield function(b,w){const I=de(b),M=qn(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",A=>I.Kr.getBundleMetadata(A,w.id)).then(A=>!!A&&A.createTime.compareTo(M)>=0)}(s.localStore,u))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=u).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(O4(u));const h=new xie(u,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const g=yield h.complete();return yield pa(s,g.ra,void 0),yield function(b,w){const I=de(b);return I.persistence.runTransaction("Save bundle","readwrite",M=>I.Kr.saveBundleMetadata(M,w))}(s.localStore,u),c._completeWith(g.progress),Promise.resolve(g.na)}catch(u){return Rr("SyncEngine",`Loading bundle failed with ${u}`),c._failWith(u),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield jA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function vre(n,e){return function ire(n,e){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(i,r){const o=de(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield tf(n),e)}))}(Mn(n=_t(n,ln)),e).then(t=>t?new Oi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Er(this,t):null)}}class q0 extends XA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bg(new Rs(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Co.forKey(t,this.firestore,null)}}class Oj{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new q0(e)}get(e){const t=gu(e);return this._delegate.get(t).then(i=>new Ug(this._firestore,new _a(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=gu(e);return i?(tS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=gu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=gu(e);return this._delegate.delete(t),this}}class Fj{constructor(e){this._delegate=e}set(e,t,i){const r=gu(e);return i?(tS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=gu(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=gu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pu{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Vg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jg(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=pu.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new pu(e,new q0(e),t),r.set(t,o)),o}}pu.INSTANCES=new WeakMap;class Co{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new q0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Co(t,new bn(t._delegate,i,new me(e)))}static forKey(e,t,i){return new Co(t,new bn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new af(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new af(this.firestore,sj(this._delegate,e))}catch(t){throw wr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,en.m9)(e))instanceof bn&&aj(this._delegate,e)}set(e,t){t=tS("DocumentReference.set",t);try{return t?Cj(this._delegate,e,t):Cj(this._delegate,e)}catch(i){throw wr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Tj(this._delegate,e):Tj(this._delegate,e,t,...i)}catch(r){throw wr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function qre(n){return sf(_t(n.firestore,ln),[new Vh(n._key,Cn.none())])}(this._delegate)}onSnapshot(...e){const t=Lj(e),i=Vj(e,r=>new Ug(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Dj(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Ure(n){n=_t(n,bn);const e=_t(n.firestore,ln),t=Mn(e),i=new Nc(e);return function Jie(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(o,s,a){try{const c=yield function(h,p){const g=de(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new re(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const u=Qh(c,`Failed to get document '${s} from cache`);a.reject(u)}}),function r(o,s,a){return i.apply(this,arguments)})(yield tf(n),e,t);var i})),t.promise}(t,n._key).then(r=>new _a(e,i,n._key,r,new mu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function jre(n){n=_t(n,bn);const e=_t(n.firestore,ln);return Q4(Mn(e),n._key,{source:"server"}).then(t=>JA(e,n,t))}(this._delegate):function Bre(n){n=_t(n,bn);const e=_t(n.firestore,ln);return Q4(Mn(e),n._key).then(t=>JA(e,n,t))}(this._delegate),t.then(i=>new Ug(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Co(this.firestore,this._delegate.withConverter(e?pu.getInstance(this.firestore,e):null))}}function wr(n,e,t){return n.message=n.message.replace(e,t),n}function Lj(n){for(const e of n)if("object"==typeof e&&!nS(e))return e;return{}}function Vj(n,e){var t,i;let r;return r=nS(n[0])?n[0]:nS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ug{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Co(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xj(this._delegate,e._delegate)}}class jg extends Ug{data(e){const t=this._delegate.data(e);return function ite(n,e){n||be()}(void 0!==t),t}}class Er{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new q0(e)}where(e,t,i){try{return new Er(this.firestore,Rc(this._delegate,function Are(n,e,t){const i=e,r=B0("where",n);return Lg._create(r,i,t)}(e,t,i)))}catch(r){throw wr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Er(this.firestore,Rc(this._delegate,function Sre(n,e="asc"){const t=e,i=B0("orderBy",n);return YA._create(i,t)}(e,t)))}catch(i){throw wr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Er(this.firestore,Rc(this._delegate,function kre(n){return ij("limit",n),U0._create("limit",n,"F")}(e)))}catch(t){throw wr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Er(this.firestore,Rc(this._delegate,function Mre(n){return ij("limitToLast",n),U0._create("limitToLast",n,"L")}(e)))}catch(t){throw wr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Er(this.firestore,Rc(this._delegate,function Rre(...n){return j0._create("startAt",n,!0)}(...e)))}catch(t){throw wr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Er(this.firestore,Rc(this._delegate,function Pre(...n){return j0._create("startAfter",n,!1)}(...e)))}catch(t){throw wr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Er(this.firestore,Rc(this._delegate,function Nre(...n){return z0._create("endBefore",n,!1)}(...e)))}catch(t){throw wr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Er(this.firestore,Rc(this._delegate,function Ore(...n){return z0._create("endAt",n,!0)}(...e)))}catch(t){throw wr(t,"endAt()","Query.endAt()")}}isEqual(e){return HA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function $re(n){n=_t(n,Oi);const e=_t(n.firestore,ln),t=Mn(e),i=new Nc(e);return function ere(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(o,s,a){try{const c=yield E0(o,s,!0),u=new V4(s,c.ls),h=u.ca(c.documents),p=u.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const u=Qh(c,`Failed to execute query '${s} against cache`);a.reject(u)}}),function r(o,s,a){return i.apply(this,arguments)})(yield tf(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Pc(e,i,n,r))}(this._delegate):"server"===e?.source?function Hre(n){n=_t(n,Oi);const e=_t(n.firestore,ln),t=Mn(e),i=new Nc(e);return Y4(t,n._query,{source:"server"}).then(r=>new Pc(e,i,n,r))}(this._delegate):function zre(n){n=_t(n,Oi);const e=_t(n.firestore,ln),t=Mn(e),i=new Nc(e);return vj(n._query),Y4(t,n._query).then(r=>new Pc(e,i,n,r))}(this._delegate),t.then(i=>new iS(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Lj(e),i=Vj(e,r=>new iS(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Dj(this._delegate,t,i)}withConverter(e){return new Er(this.firestore,this._delegate.withConverter(e?pu.getInstance(this.firestore,e):null))}}class goe{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Er(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new goe(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new jg(this._firestore,i))})}isEqual(e){return xj(this._delegate,e._delegate)}}class af extends Er{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Co(this.firestore,e):null}doc(e){try{return new Co(this.firestore,void 0===e?P0(this._delegate):P0(this._delegate,e))}catch(t){throw wr(t,"doc()","CollectionReference.doc()")}}add(e){return function Gre(n,e){const t=_t(n.firestore,ln),i=P0(n),r=$0(n.converter,e);return sf(t,[F0(hu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Cn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Co(this.firestore,t))}isEqual(e){return aj(this._delegate,e._delegate)}withConverter(e){return new af(this.firestore,this._delegate.withConverter(e?pu.getInstance(this.firestore,e):null))}}function gu(n){return _t(n,bn)}class rS{constructor(...e){this._delegate=new ga(...e)}static documentId(){return new rS(vn.keyField().canonicalString())}isEqual(e){return(e=(0,en.m9)(e))instanceof ga&&this._delegate._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._delegate=e}static serverTimestamp(){const e=function soe(){return new GA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new _u(e)}static delete(){const e=function ooe(){return new Pg("deleteField")}();return e._methodName="FieldValue.delete",new _u(e)}static arrayUnion(...e){const t=function aoe(...n){return new Ire("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new _u(t)}static arrayRemove(...e){const t=function coe(...n){return new xre("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new _u(t)}static increment(e){const t=function loe(n){return new Cre("increment",n)}(e);return t._methodName="FieldValue.increment",new _u(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _oe={Firestore:Nj,GeoPoint:N0,Timestamp:xn,Blob:Bg,Transaction:Oj,WriteBatch:Fj,DocumentReference:Co,DocumentSnapshot:Ug,Query:Er,QueryDocumentSnapshot:jg,QuerySnapshot:iS,CollectionReference:af,FieldPath:rS,FieldValue:_u,setLogLevel:function poe(n){!function nte(n){gc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Bj(n,e){return function boe(n,e=ch){return new Xe(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function oS(n,e){return Bj(n,e).pipe(pe(t=>({payload:t,type:"query"})))}!function yoe(n){(function voe(n,e){n.INTERNAL.registerComponent(new G2.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},_oe)))})(n,(e,t)=>new Nj(e,t,new moe)),n.registerVersion("@firebase/firestore-compat","0.3.21")}(aa.Z);class Uj{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=Gj(i,t);return new $j(r,o,this.afs)}snapshotChanges(){return function woe(n,e){return Bj(n,e).pipe(Ll(void 0),tT(),pe(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr)}valueChanges(e={}){return this.snapshotChanges().pipe(pe(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return T(this.ref.get(e)).pipe(Kr)}}function G0(n,e){return oS(n,e).pipe(Ll(void 0),tT(),pe(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const u=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function jj(n,e,t){return G0(n,t).pipe(ky((i,r)=>function Eoe(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Ioe(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return sS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Qt(),pe(i=>i.map(r=>({type:r.type,payload:r}))))}function sS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function zj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $j{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=G0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(pe(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ll(void 0),tT(),zn(([i,r])=>r.length>0||!i),pe(([,i])=>i),Kr)}auditTrail(e){return this.stateChanges(e).pipe(ky((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=zj(e);return jj(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr)}valueChanges(e={}){return oS(this.query,this.afs.schedulers.outsideAngular).pipe(pe(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),Kr)}get(e){return T(this.query.get(e)).pipe(Kr)}add(e){return this.ref.add(e)}doc(e){return new Uj(this.ref.doc(e),this.afs)}}class xoe{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?G0(this.query,this.afs.schedulers.outsideAngular).pipe(pe(t=>t.filter(i=>e.indexOf(i.type)>-1)),zn(t=>t.length>0),Kr):G0(this.query,this.afs.schedulers.outsideAngular).pipe(Kr)}auditTrail(e){return this.stateChanges(e).pipe(ky((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=zj(e);return jj(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr)}valueChanges(e={}){return oS(this.query,this.afs.schedulers.outsideAngular).pipe(pe(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),Kr)}get(e){return T(this.query.get(e)).pipe(Kr)}}const Hj=new ne("angularfire2.enableFirestorePersistence"),qj=new ne("angularfire2.firestore.persistenceSettings"),Coe=new ne("angularfire2.firestore.settings"),Toe=new ne("angularfire2.firestore.use-emulator");function Gj(n,e=(t=>t)){return{query:e(n),ref:n}}let W0=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,c,u,h,p,g,v,b,w,I,M,A){this.schedulers=c;const L=eT(t,a,i),Y=h;p&&q2(L,a,g,b,w,I,v,M),[this.firestore,this.persistenceEnabled$]=O2(`${L.name}.firestore`,"AngularFirestore",L.name,()=>{const ce=a.runOutsideAngular(()=>L.firestore());if(o&&ce.settings(o),Y&&ce.useEmulator(...Y),r&&!Ey(s)){const De=()=>{try{return T(ce.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(Ge){return typeof console<"u"&&console.warn(Ge),$(!1)}};return[ce,a.runOutsideAngular(De)]}return[ce,$(!1)]},[o,Y,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=Gj(r,i),a=this.schedulers.ngZone.run(()=>o);return new $j(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new xoe(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new Uj(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(j(bb),j(wb,8),j(Hj,8),j(Coe,8),j(Vo),j(ze),j(P2),j(qj,8),j(Toe,8),j(gh,8),j(B2,8),j(U2,8),j(j2,8),j(z2,8),j($2,8),j(H2,8),j(M2,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Doe=(()=>{class n{constructor(){aa.Z.registerVersion("angularfire",yb.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Hj,useValue:!0},{provide:qj,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=kt({type:n});static \u0275inj=Ot({providers:[W0]})}return n})(),Wj=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.db=r,this.loginFailedSubject=new V,this.loginFailed$=this.loginFailedSubject.asObservable()}register(t,i,r){this.afAuth.createUserWithEmailAndPassword(t,i).then(o=>{if(o.user){const s=o.user.uid,a={displayName:r};o.user.updateProfile({displayName:r}).then(()=>{console.log("Display name set successfully")}).catch(c=>{console.error("Error setting display name:",c)}),o.user.sendEmailVerification().then(()=>{alert("A verification email has been sent to your email address. Please verify your email before logging in."),this.db.collection("User").doc(s).set(a),this.router.navigate(["/login"])}).catch(c=>{console.error("Error sending email verification:",c),alert("An error occurred while sending the verification email. Please try again.")})}else console.error("User is null"),alert("An error occurred during registration. Please try again.")}).catch(o=>{console.error("Registration error:",o),alert("An error has occurred during registration. Please try again.")})}login(t,i){this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{if(r.user){r.user.emailVerified?(alert(r.user.displayName),this.router.navigate(["/home"])):alert("Please verify your email before logging in.")}else console.error("User is null"),alert("An error occurred during login. Please try again.")}).catch(r=>{console.error("Login error:",r),this.loginFailedSubject.next(!0)})}logout(){this.afAuth.signOut().then(()=>{localStorage.removeItem("rememberedToken")}).catch(t=>{})}sendPasswordResetEmail(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{alert("A password reset email has been sent to your email address. Please check your email to reset your password."),this.router.navigate(["/login"])}).catch(i=>{console.error("Error sending password reset email:",i),alert("An error occurred while sending the password reset email. Please try again.")})}autoLogin(){localStorage.getItem("rememberedToken")&&this.router.navigate(["/home"])}static#e=this.\u0275fac=function(i){return new(i||n)(j(gh),j(_r),j(W0))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Aoe(n,e){if(1&n){const t=jo();z(0,"div",4),ht(1,"img",5),z(2,"p",1),fe(3),K(),z(4,"p",2),fe(5),K(),ht(6,"hr"),z(7,"p",1),fe(8),K(),ht(9,"img",6),z(10,"p",7),fe(11),K(),z(12,"p",8),fe(13),K(),ht(14,"br")(15,"br")(16,"hr"),z(17,"img",9),rt("click",function(){const o=At(t).index;return Mt($e().toggleLike(o))}),K(),ht(18,"img",10)(19,"textarea",11,12),z(21,"img",13),rt("click",function(){const o=At(t).index,s=Uo(20);return $e().postComment(o),Mt(s.value=" ")}),K()()}if(2&n){const t=e.$implicit;Ee(1),Vd("src",t[6],Cm),Ee(2),ki(t[0]),Ee(2),ki(t[1]),Ee(3),ki(t[4]),Ee(1),Vd("src",t[5],Cm),Vd("alt",t[5]),Ee(2),Kv("",t[2]," ",1==t[2]?"like":"likes",""),Ee(2),Kv("",t[3]," ",1==t[3]?"comment":"comments",""),Ee(4),Vd("src",1==t[7]?"assets/img/like_active.svg":"assets/img/like_inactive.svg",Cm)}}let Soe=(()=>{class n{constructor(){this.username="Silver",this.totalPosts=2,this.allPosts=[["Silver","11. Oktoober kell 19:46",128,95,"pange saun sooja, Silver tuleb rekordeid purustama","https://media.discordapp.net/attachments/1146094400666091524/1161706521235832994/IMG_2645.jpg","https://media.discordapp.net/attachments/1149290454819553420/1164864763105390592/b61f156cac360ab208b71ce5102ee9c5_400x400.png",!1],["Rasmus","11. Oktoober kell 21:25",84,52,"Uued keycapsid!","https://ptpimg.me/y8v9a5.png","https://ptpimg.me/8n699g.jpg",!0]]}toggleLike(t){!0===this.allPosts[t][7]?(this.allPosts[t][7]=!1,this.allPosts[t][2]-=1):(this.allPosts[t][7]=!0,this.allPosts[t][2]+=1)}postComment(t){this.allPosts[t][3]+=1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["app-post"]],decls:7,vars:3,consts:[["src",""],[1,"mainText"],[1,"subText"],["class","post",4,"ngFor","ngForOf"],[1,"post"],["alt","Avatar",1,"avatar",3,"src"],[1,"center",2,"max-height","420px",3,"src","alt"],[1,"subText",2,"float","left"],[1,"subText",2,"float","right"],[1,"icons",2,"float","left",3,"src","click"],["src","assets/img/share.svg",1,"icons",2,"float","left"],["type","text",1,"commentText"],["commentText",""],["src","assets/img/send.svg",1,"icons",2,"float","right",3,"click"]],template:function(i,r){1&i&&(ht(0,"img",0),z(1,"h1",1),fe(2),K(),z(3,"h3",2),fe(4),K(),z(5,"ul"),ft(6,Aoe,22,11,"div",3),K()),2&i&&(Ee(2),Js("Currently logged in as: ",r.username,""),Ee(2),Js("Total posts on the backend: ",r.totalPosts,""),Ee(2),qe("ngForOf",r.allPosts))},dependencies:[Rx],styles:[".post[_ngcontent-%COMP%]{color:#fff;width:880px;background:#313131;border-radius:40px;padding:40px;margin-top:10px;margin-bottom:40px}.mainText[_ngcontent-%COMP%]{color:#fff;font-size:40px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.subText[_ngcontent-%COMP%]{color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:auto}.avatar[_ngcontent-%COMP%]{vertical-align:middle;width:80px;height:80px;border-radius:50%;float:left;margin-right:20px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.icons[_ngcontent-%COMP%]{max-height:65px;padding:5px}.commentText[_ngcontent-%COMP%]{width:73%;height:75px;padding:15px 20px;box-sizing:border-box;border:2px solid #878787;border-radius:37.5px;background-color:#212121;resize:none;color:#fff;font-size:25px;font-family:IBM Plex Mono;font-weight:400;word-wrap:break-word;margin:0 0 0 10px}"]})}return n})(),koe=(()=>{class n{constructor(t,i){this.headerComponent=t,this.authService=i,this.headerComponent.visible=!0}logout(){this.authService.logout()}static#e=this.\u0275fac=function(i){return new(i||n)(N(JC),N(Wj))};static#t=this.\u0275cmp=rn({type:n,selectors:[["app-home"]],decls:5,vars:1,consts:[[1,"center-container"],[1,"center-element"],[3,"routerLink","click"]],template:function(i,r){1&i&&(z(0,"div",0)(1,"div",1)(2,"button",2),rt("click",function(){return r.logout()}),fe(3," PREMIUM Sign out Button!"),K(),ht(4,"app-post"),K()()),2&i&&(Ee(2),qe("routerLink",""))},dependencies:[Ul,Soe],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#6a5988}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{color:#fff}"]})}return n})();function Moe(n,e){1&n&&(z(0,"p",18),fe(1,"Check your email"),K())}function Roe(n,e){1&n&&(z(0,"p",18),fe(1,"Check your password"),K())}function Poe(n,e){if(1&n){const t=jo();z(0,"div",8)(1,"div",9)(2,"h1"),fe(3,"Log in"),K(),z(4,"input",10),rt("ngModelChange",function(r){return At(t),Mt($e().email=r)})("keyup.enter",function(){return At(t),Mt(Uo(9).focus())}),K(),ft(5,Moe,2,0,"p",11),z(6,"h1"),fe(7,"Enter password"),K(),z(8,"input",12,13),rt("ngModelChange",function(r){return At(t),Mt($e().password=r)})("keyup.enter",function(){return At(t),Mt($e().login())}),K(),ft(10,Roe,2,0,"p",11),z(11,"div",14)(12,"div")(13,"a",15),rt("click",function(){return At(t),Mt($e().isPage="forgot")}),fe(14,"Forgot password?"),K()(),z(15,"span",16),fe(16,"Don't have an account? "),z(17,"a",15),rt("click",function(){return At(t),Mt($e().isPage="register")}),fe(18,"Sign up here"),K()()(),z(19,"button",17),rt("click",function(){return At(t),Mt($e().login())}),z(20,"span"),fe(21,"Sign in"),K(),ht(22,"i"),K()()()}if(2&n){const t=$e();Ee(4),qe("ngModel",t.email),Ee(1),qe("ngIf",t.loginFailed),Ee(3),qe("ngModel",t.password),Ee(2),qe("ngIf",t.loginFailed)}}function Noe(n,e){if(1&n){const t=jo();z(0,"div",8)(1,"div",9)(2,"h1"),fe(3,"Register"),K(),z(4,"input",19),rt("ngModelChange",function(r){return At(t),Mt($e().displayName=r)})("keyup.enter",function(){return At(t),Mt(Uo(8).focus())}),K(),z(5,"h1"),fe(6,"Email"),K(),z(7,"input",20,21),rt("ngModelChange",function(r){return At(t),Mt($e().email=r)})("keyup.enter",function(){return At(t),Mt(Uo(12).focus())}),K(),z(9,"h1"),fe(10,"Enter password"),K(),z(11,"input",22,13),rt("ngModelChange",function(r){return At(t),Mt($e().password=r)})("keyup.enter",function(){return At(t),Mt($e().register())}),K(),z(13,"div",14)(14,"div")(15,"a",15),rt("click",function(){return At(t),Mt($e().isPage="forgot")}),fe(16,"Forgot password?"),K()(),z(17,"span",16),fe(18,"Have an account? "),z(19,"a",15),rt("click",function(){return At(t),Mt($e().isPage="login")}),fe(20,"Sign in here"),K()()(),z(21,"button",23),rt("click",function(){return At(t),Mt($e().register())}),z(22,"span"),fe(23,"Sign up"),K(),ht(24,"i"),K()()()}if(2&n){const t=$e();Ee(4),qe("ngModel",t.displayName),Ee(3),qe("ngModel",t.email),Ee(4),qe("ngModel",t.password)}}function Ooe(n,e){if(1&n){const t=jo();z(0,"div",8)(1,"div",9)(2,"h1"),fe(3,"Enter email"),K(),z(4,"input",24,13),rt("ngModelChange",function(r){return At(t),Mt($e().email=r)})("keyup.enter",function(){return At(t),Mt($e().register())}),K(),z(6,"div",14)(7,"span",16),fe(8,"Oops still remember? "),z(9,"a",15),rt("click",function(){return At(t),Mt($e().isPage="login")}),fe(10,"Sign in here"),K()()(),z(11,"button",25),rt("click",function(){return At(t),Mt($e().forgot())}),z(12,"span"),fe(13,"Send verification"),K(),ht(14,"i"),K()()()}if(2&n){const t=$e();Ee(4),qe("ngModel",t.email)}}let Foe=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.headerComponent=r,this.email="",this.password="",this.displayName="",this.isPage="login",this.loginFailed=!1,this.headerComponent.visible=!1}login(){"admin"==this.password&&"admin"==this.email?this.router.navigate(["/admin"]):(this.authService.login(this.email,this.password),this.authService.loginFailed$.subscribe(t=>{this.loginFailed=t}))}register(){const t=[];if(this.password.length<8&&t.push("at least 8 characters"),/[A-Z]/.test(this.password)||t.push("at least one uppercase letter"),/[a-z]/.test(this.password)||t.push("at least one lowercase letter"),/[!@#$%^&*]/.test(this.password)||t.push("at least one special character (!@#$%^&*)."),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.email)||alert("Email you entered is not correct"),0===t.length)this.authService.register(this.email,this.password,this.displayName);else{const i=`Password should meet the following requirements: ${t.join(", ")}`;alert(i)}}forgot(){this.authService.sendPasswordResetEmail(this.email)}ngOnInit(){this.authService.autoLogin()}static#e=this.\u0275fac=function(i){return new(i||n)(N(Wj),N(_r),N(JC))};static#t=this.\u0275cmp=rn({type:n,selectors:[["app-login"]],decls:14,vars:3,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"container"],[1,"logo-side"],[1,"logo-text"],[2,"color","#2c2c2c","font-size","35px","font-weight","400","padding-left","10px"],[1,"big-logo"],["src","assets/img/login_logo_big.svg","alt","Login Logo","width","400","height","400",1,"responsive"],["class","input-side",4,"ngIf"],[1,"input-side"],[1,"input-container"],["type","text","placeholder","Enter email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["style","color:red; font-size: 15px; text-align: left; font-weight: 20; margin: 0px",4,"ngIf"],["type","password","placeholder","Enter password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["passwordInput",""],[1,"anchors"],[3,"click"],[2,"color","#707070","font-family","'IBM Plex Mono', monospace"],[2,"--clr","#7d64bd",3,"click"],[2,"color","red","font-size","15px","text-align","left","font-weight","20","margin","0px"],["type","text","placeholder","Enter your display name",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","Enter new email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],["usernameInput",""],["type","password","placeholder","Enter new password",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","#00ff00",3,"click"],["type","text","placeholder","Enter your email",1,"input-box",3,"ngModel","ngModelChange","keyup.enter"],[2,"--clr","red",3,"click"]],template:function(i,r){1&i&&(z(0,"html")(1,"head"),ht(2,"meta",0),K(),z(3,"body")(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1",4),fe(8,"Earn2Post"),K()(),z(9,"div",5),ht(10,"img",6),K()(),ft(11,Poe,23,4,"div",7),ft(12,Noe,25,3,"div",7),ft(13,Ooe,15,1,"div",7),K()()()),2&i&&(Ee(11),qe("ngIf","login"===r.isPage),Ee(1),qe("ngIf","register"===r.isPage),Ee(1),qe("ngIf","forgot"===r.isPage))},dependencies:[oc,Wy,YF,PC],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0;overflow:hidden;background:#212121}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-start;height:100%}.logo-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:50%;height:100%;background:#6A5988}.logo-text[_ngcontent-%COMP%]{width:100%}.responsive[_ngcontent-%COMP%]{width:40%;height:auto}.big-logo[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}.input-side[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%;flex-direction:column;justify-content:center;align-items:center}.input-container[_ngcontent-%COMP%]{background-color:#212121;display:flex;width:50%;height:auto;align-items:center;flex-direction:column;padding:30px;border-width:1px;border-style:solid;border-color:#6a5988;border-radius:20px;transition:all .5s ease-in-out}.input-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}h1[_ngcontent-%COMP%]{text-align:left;font-size:30px;color:#fff;font-family:IBM Plex Mono,monospace;font-weight:400}a[_ngcontent-%COMP%]{padding-top:10px;color:#6a5988;pointer-events:auto;-webkit-user-select:text;user-select:text}.anchors[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;justify-content:left}span[_ngcontent-%COMP%]{-webkit-user-select:auto;user-select:auto}.input-box[_ngcontent-%COMP%]{width:100%;height:auto;background:#313131;border:none;border-radius:20px;color:#fff;font-size:20px;padding:10px}.phone-text[_ngcontent-%COMP%]{padding-bottom:30px}@media (max-width: 767px){.logo-side[_ngcontent-%COMP%]{display:none}.input-side[_ngcontent-%COMP%]{height:100%;background-image:url(login_logo_big.926dafe5cf3fb7c6.svg);background-repeat:no-repeat;background-position:center center;background-size:contain}h1[_ngcontent-%COMP%]{font-size:20px}}button[_ngcontent-%COMP%]{position:relative;background:#444;color:#fff;text-decoration:none;border:none;letter-spacing:.1rem;font-size:1rem;padding:1rem 3rem;transition:.2s;margin-top:20px;font-family:IBM Plex Mono,monospace}button[_ngcontent-%COMP%]:hover{letter-spacing:.2rem;padding:1.1rem 3.1rem;background:var(--clr);color:var(--clr);animation:_ngcontent-%COMP%_box 3s infinite}button[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:2px;background:#212121}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:2px;left:80%;top:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:before{width:15px;left:20%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:2px;left:20%;bottom:-2px;border:2px solid var(--clr);background:#272822;transition:.2s}button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:after{width:15px;left:80%;animation:_ngcontent-%COMP%_move 3s infinite}button[_ngcontent-%COMP%]:focus{background-color:green}@keyframes _ngcontent-%COMP%_move{0%{transform:translate(0)}50%{transform:translate(5px)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_box{0%{box-shadow:#27272c}50%{box-shadow:0 0 25px var(--clr)}to{box-shadow:#27272c}}']})}return n})(),Loe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=rn({type:n,selectors:[["app-admin"]],decls:4,vars:1,consts:[[3,"routerLink"]],template:function(i,r){1&i&&(z(0,"h1"),fe(1,"You're logged in as an admin"),K(),z(2,"button",0),fe(3," Sign out"),K()),2&i&&(Ee(2),qe("routerLink",""))},dependencies:[Ul]})}return n})();let aS=(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.debuxValue=0,this.saveInterval=6e4,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r,r&&this.startAutosave()})}addDebux(t){this.debuxValue=t}startAutosave(){zC(0,this.saveInterval).pipe(Je(()=>this.autosave()),function Boe(n,e=ch,t){const i=zC(n,e);return function Voe(n,e){return q((t,i)=>{const{leading:r=!0,trailing:o=!1}=e??{};let s=!1,a=null,c=null,u=!1;const h=()=>{c?.unsubscribe(),c=null,o&&(v(),u&&i.complete())},p=()=>{c=null,u&&i.complete()},g=b=>c=En(n(b)).subscribe(he(i,h,p)),v=()=>{if(s){s=!1;const b=a;a=null,i.next(b),!u&&g(b)}};t.subscribe(he(i,b=>{s=!0,a=b,(!c||c.closed)&&(r?v():g(b))},()=>{u=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}(()=>i,t)}(this.saveInterval)).subscribe()}autosave(){return this.user&&this.debuxValue>0?T(this.db.doc(`User/${this.user.uid}`).update({Debux:this.debuxValue})).pipe(pe(()=>{this.debuxValue=0})):$(void 0)}getDebux(){return this.authState$.pipe(Je(t=>this.user?this.db.doc(`User/${this.user.uid}`).valueChanges().pipe(pe(i=>i?i.Debux:void 0)):(console.warn("User not authenticated."),$(void 0))))}static#e=this.\u0275fac=function(i){return new(i||n)(j(W0),j(gh))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uoe(n,e){if(1&n&&(z(0,"p",21),fe(1),K()),2&n){const t=$e();Ee(1),Js("DeBux: ",t.debux,"")}}function joe(n,e){1&n&&(z(0,"p",22),fe(1,"Loading Debuxes"),K())}function zoe(n,e){if(1&n&&(z(0,"div",23)(1,"p"),fe(2," Logged in as: "),z(3,"span",24),fe(4),K()()()),2&n){const t=$e();Ee(4),ki(t.service.user.displayName)}}function $oe(n,e){if(1&n){const t=jo();z(0,"div",26),rt("click",function(){At(t);const r=$e().$implicit;return Mt($e().buyUpgrade(r))}),z(1,"div",27)(2,"p"),fe(3),K(),z(4,"h4"),fe(5),K(),z(6,"div",28)(7,"h4"),fe(8),K()()(),z(9,"div",29)(10,"h4"),fe(11),K()()()}if(2&n){const t=$e().$implicit;Un("box-disabled",!t.affordable),Ee(3),ki(t.name),Ee(2),ki(t.description),Ee(3),Js("Cost: ",t.cost,"DB"),Ee(3),ki(t.purchased)}}function Hoe(n,e){if(1&n&&(Fd(0),ft(1,$oe,12,6,"div",25),Ld()),2&n){const t=e.index;Ee(1),qe("ngIf",t<6)}}function qoe(n,e){if(1&n){const t=jo();z(0,"div",26),rt("click",function(){At(t);const r=$e().$implicit;return Mt($e().buyUpgrade(r))}),z(1,"div",27)(2,"p"),fe(3),K(),z(4,"h4"),fe(5),K(),z(6,"div",28)(7,"h4"),fe(8),K()()(),z(9,"div",29)(10,"h4"),fe(11),K()()()}if(2&n){const t=$e().$implicit;Un("box-disabled",!t.affordable),Ee(3),ki(t.name),Ee(2),ki(t.description),Ee(3),Js("Cost: ",t.cost,"DB"),Ee(3),ki(t.purchased)}}function Goe(n,e){if(1&n&&(Fd(0),ft(1,qoe,12,6,"div",25),Ld()),2&n){const t=e.index;Ee(1),qe("ngIf",6<=t&&t<11)}}function Woe(n,e){if(1&n){const t=jo();z(0,"div",26),rt("click",function(){At(t);const r=$e().$implicit;return Mt($e().buyUpgrade(r))}),z(1,"div",27)(2,"p"),fe(3),K(),z(4,"h4"),fe(5),K(),z(6,"div",28)(7,"h4"),fe(8),K()()(),z(9,"div",29)(10,"h4"),fe(11),K()()()}if(2&n){const t=$e().$implicit;Un("box-disabled",!t.affordable),Ee(3),ki(t.name),Ee(2),ki(t.description),Ee(3),Js("Cost: ",t.cost,"DB"),Ee(3),ki(t.purchased)}}function Zoe(n,e){if(1&n&&(Fd(0),ft(1,Woe,12,6,"div",25),Ld()),2&n){const t=e.index;Ee(1),qe("ngIf",11<=t)}}let Koe=(()=>{class n{constructor(t){this.service=t,this.upgrades=[{name:"Multithreading",cost:10,debuxPerSec:1,affordable:!1,purchased:0,description:"Increase processing power by utilizing multiple threads."},{name:"Optimization Algorithms",cost:100,debuxPerSec:1,affordable:!1,purchased:0,description:"Enhance efficiency through advanced code optimization techniques."},{name:"Parallel Processing",cost:1e3,debuxPerSec:1,affordable:!1,purchased:0,description:"Enable simultaneous execution for faster processing."},{name:"Overclocking",cost:1e4,debuxPerSec:1,affordable:!1,purchased:0,description:"Push the CPU to run faster, boosting processing power."},{name:"Hardware Upgrades",cost:1e5,debuxPerSec:1,affordable:!1,purchased:0,description:"Install better processors or RAM to increase overall performance."},{name:"Cooling Systems",cost:1e6,debuxPerSec:1,affordable:!1,purchased:0,description:"Optimize cooling mechanisms to sustain higher processing speeds."},{name:"Syntax Highlighting",cost:1,debuxPerSec:1,affordable:!1,purchased:0,description:"Boost click effectiveness with highlighted code segments."},{name:"Code Formatting",cost:10,debuxPerSec:1,affordable:!1,purchased:0,description:"Improve the appearance of code to enhance click impact."},{name:"Auto-Completion",cost:100,debuxPerSec:1,affordable:!1,purchased:0,description:"Increase code suggestion accuracy to amplify your clicks."},{name:"GUI Enhancements",cost:1e3,debuxPerSec:1,affordable:!1,purchased:0,description:"Upgrade the interface for a more responsive and impactful clicking experience."},{name:"Mouse Acceleration",cost:1e4,debuxPerSec:1,affordable:!1,purchased:0,description:"Improve click effectiveness by enhancing mouse sensitivity."},{name:"ChatGPT Evolution",cost:1e3,debuxPerSec:1,affordable:!1,purchased:0,description:"Upgrade ChatGPT to a more advanced version, increasing its problem-solving capabilities and assistance in debugging."},{name:"Automated Testing",cost:1e4,debuxPerSec:1,affordable:!1,purchased:0,description:"Develop a robust automated testing system that quickly identifies and reports bugs, making debugging more efficient."},{name:"Code Refactoring AI",cost:1e5,debuxPerSec:1,affordable:!1,purchased:0,description:"Integrate AI-driven code refactoring to automatically improve code structure and readability during the debugging process."},{name:"Codebase Analysis",cost:1e6,debuxPerSec:1,affordable:!1,purchased:0,description:"Unlock in-depth analysis tools that provide insights into code quality, performance, and potential issues, aiding in targeted debugging efforts."},{name:"Tabnine",cost:1e7,debuxPerSec:1,affordable:!1,purchased:0,description:"Upgrade Tabnine's capabilities, allowing it to suggest code snippets and completions at an accelerated rate, improving coding speed and accuracy."}],this.debux=0,this.loading=!1}ngOnInit(){this.service.authState$.subscribe(t=>{t&&(this.loading=!0,this.service.getDebux().subscribe(i=>{this.debux=i||0,this.updateAffordability(),this.loading=!1}))})}addDebux(){this.debux=this.debux+1,this.updateAffordability(),this.service.addDebux(this.debux)}updateAffordability(){this.upgrades.forEach(t=>{t.affordable=t.cost<=this.debux})}buyUpgrade(t){t.affordable&&this.debux-t.cost<t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,t.affordable=!1,this.service.addDebux(this.debux)):t.affordable&&this.debux-t.cost>=t.cost?(this.debux-=t.cost,t.cost+=5,t.purchased+=1,this.service.addDebux(this.debux)):console.log("Not enough DeBux for this upgrade."),this.updateAffordability()}static#e=this.\u0275fac=function(i){return new(i||n)(N(aS))};static#t=this.\u0275cmp=rn({type:n,selectors:[["app-clicker"]],decls:42,vars:6,consts:[[1,"top"],[1,"credit"],["id","debux",4,"ngIf"],["id","debux","class","loading-text",4,"ngIf"],[1,"clicker"],["id","debug",3,"click"],["class","profile",4,"ngIf"],[1,"bottom"],[1,"title"],[1,"upgrades"],[1,"first"],[1,"sideName"],["src","/assets/img/arch.svg"],[1,"sideContent"],[4,"ngFor","ngForOf"],[1,"second"],[1,"middleName"],["src","/assets/img/ubuntu.svg"],[1,"middleContent"],[1,"third"],["src","/assets/img/tux.svg"],["id","debux"],["id","debux",1,"loading-text"],[1,"profile"],[2,"color","#6A5988"],["class","box",3,"box-disabled","click",4,"ngIf"],[1,"box",3,"click"],[1,"box-text"],[1,"cost"],[1,"bought"]],template:function(i,r){1&i&&(z(0,"div",0)(1,"div",1),ft(2,Uoe,2,1,"p",2),ft(3,joe,2,0,"p",3),K(),z(4,"div",4)(5,"button",5),rt("click",function(){return r.addDebux()}),K()(),ft(6,zoe,5,1,"div",6),K(),z(7,"div",7)(8,"div",8)(9,"H1"),fe(10,"Upgrades"),K()(),z(11,"div",9)(12,"div",10)(13,"div",11),ht(14,"img",12),z(15,"div")(16,"p"),fe(17,"Processing Power"),K(),z(18,"h4"),fe(19,"Per/Sec"),K()()(),z(20,"div",13),ft(21,Hoe,2,1,"ng-container",14),K()(),z(22,"div",15)(23,"div",16),ht(24,"img",17),z(25,"div")(26,"p"),fe(27,"Click Impact"),K(),z(28,"h4"),fe(29,"Per/Click"),K()()(),z(30,"div",18),ft(31,Goe,2,1,"ng-container",14),K()(),z(32,"div",19)(33,"div",11),ht(34,"img",20),z(35,"div")(36,"p"),fe(37,"Advanced Algorithms"),K(),z(38,"h4"),fe(39,"Specials"),K()()(),z(40,"div",13),ft(41,Zoe,2,1,"ng-container",14),K()()()()),2&i&&(Ee(2),qe("ngIf",!r.loading),Ee(1),qe("ngIf",r.loading),Ee(3),qe("ngIf",r.service.user),Ee(15),qe("ngForOf",r.upgrades),Ee(10),qe("ngForOf",r.upgrades),Ee(10),qe("ngForOf",r.upgrades))},dependencies:[Rx,oc],styles:[".top[_ngcontent-%COMP%]{margin-top:40px;text-align:center;margin-bottom:40px}.credit[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.loading-text[_ngcontent-%COMP%]{color:#b7514c}.clicker[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:600px;background:#313131;border-radius:40px;padding:20px;margin-left:100px;margin-right:100px}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent url(/assets/img/clicker_icon_with_text.svg) no-repeat;background-size:100%;height:125px;width:200px;border:none;cursor:pointer}.clicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}.profile[_ngcontent-%COMP%]{display:inline-block;color:#e0e1e1;width:440px;background:#313131;border-radius:40px}.bottom[_ngcontent-%COMP%]{color:#e0e1e1;text-align:center}.title[_ngcontent-%COMP%]{background:#6A5988;font-size:22px;width:100%;border-top-left-radius:30px;border-top-right-radius:30px;padding-top:1px;padding-bottom:1px}.upgrades[_ngcontent-%COMP%]{display:flex}.first[_ngcontent-%COMP%], .second[_ngcontent-%COMP%], .third[_ngcontent-%COMP%]{width:calc(100% / 3)}.sideName[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;height:85px;background:#313131}.sideName[_ngcontent-%COMP%]{border-bottom:thin solid #E37A70;border-top:thin solid #E37A70}.middleName[_ngcontent-%COMP%]{border:thin solid #E37A70}.sideName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .middleName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;margin:15px 0 0}.sideContent[_ngcontent-%COMP%], .middleContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1px;background-color:#212121;height:100%}.middleContent[_ngcontent-%COMP%]{border-left:thin solid #E37A70;border-right:thin solid #E37A70}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;border-radius:20px;margin-top:30px;cursor:pointer;-webkit-user-select:none;user-select:none}.box[_ngcontent-%COMP%]:hover{box-shadow:0 0 50px #6a5988}.box[_ngcontent-%COMP%]:active{transform:scale(.95)}.box-disabled[_ngcontent-%COMP%]{filter:blur(4px)}.box-disabled[_ngcontent-%COMP%]:hover{cursor:auto;box-shadow:none}.box-disabled[_ngcontent-%COMP%]:active{transform:none}.box-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:start;background:#313131;border-top-left-radius:20px;border-bottom-left-radius:20px;width:480px;padding-left:20px}.box-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;margin-top:5px}h4[_ngcontent-%COMP%]{color:#a1a1a1;margin:0 0 10px;font-family:IBM Plex Mono ExtraLight,monospace}.cost[_ngcontent-%COMP%]{text-align:center}.cost[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;font-family:IBM Plex Mono,monospace;font-size:18px;font-weight:lighter}.bought[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;background:#6A5988;border-top-right-radius:20px;border-bottom-right-radius:20px;width:70px}.bought[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e1e1;margin:0;font-size:25px}"]})}return n})();function Qoe(n,e){1&n&&(z(0,"h3"),fe(1,"<"),z(2,"span",9),fe(3,"Loading"),K(),fe(4,"> DB"),K())}function Yoe(n,e){if(1&n&&(z(0,"h3"),fe(1,"<"),z(2,"span",10),fe(3),K(),fe(4,"> DB"),K()),2&n){const t=$e();Ee(3),ki(t.debux)}}let Xoe=(()=>{class n{constructor(t){this.clickerService=t,this.debux=0,this.loading=!0}ngOnInit(){this.loading=!0,this.clickerService.getDebux().subscribe(t=>{this.debux=t||0,this.loading=!1})}static#e=this.\u0275fac=function(i){return new(i||n)(N(aS))};static#t=this.\u0275cmp=rn({type:n,selectors:[["app-credit-box"]],decls:19,vars:2,consts:[[1,"box"],[1,"header"],["src","assets/img/bank.svg","alt",""],[1,"field"],[1,"debux"],[4,"ngIf"],[1,"per-second"],[1,"transaction"],["src","assets/img/card_with_text.svg","alt",""],[2,"color","rgba(172,39,39,0.34)"],[2,"color","#7D93DF"]],template:function(i,r){1&i&&(z(0,"div",0)(1,"div",1),ht(2,"img",2),z(3,"h2"),fe(4,"Your credit"),K()(),z(5,"div",3)(6,"p"),fe(7,"Current"),K(),z(8,"div",4),ft(9,Qoe,5,0,"h3",5),ft(10,Yoe,5,1,"h3",5),K()(),z(11,"div",3)(12,"p"),fe(13,"Per second:"),K(),z(14,"div",6)(15,"h3"),fe(16,"+40 DB/s"),K()()(),z(17,"div",7),ht(18,"img",8),K()()),2&i&&(Ee(9),qe("ngIf",r.loading),Ee(1),qe("ngIf",!r.loading))},dependencies:[oc],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#313131;border-radius:20px}h2[_ngcontent-%COMP%]{font-size:40px;margin:0}h3[_ngcontent-%COMP%]{font-size:36px;font-weight:200;margin:10px}p[_ngcontent-%COMP%]{margin:5px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70;background-color:#6a5988;padding-bottom:10px;padding-top:10px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-left:5%}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:5px}.debux[_ngcontent-%COMP%], .per-second[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#212121;border-radius:20px;margin:0}.transaction[_ngcontent-%COMP%]{margin:10px}"]})}return n})();const Joe=[{path:"",component:Foe},{path:"home",component:koe},{path:"admin",component:Loe},{path:"clicker",component:Koe},{path:"profile",component:(()=>{class n{constructor(t,i){this.db=t,this.afAuth=i,this.user=null,this.authState$=this.afAuth.authState,this.authState$.subscribe(r=>{this.user=r})}static#e=this.\u0275fac=function(i){return new(i||n)(N(W0),N(gh))};static#t=this.\u0275cmp=rn({type:n,selectors:[["app-profile"]],decls:41,vars:1,consts:[["name","viewport","content","width=device-width, initial-scale=1"],[1,"columns"],[1,"left-side"],["routerLink","/clicker"],["src","/assets/img/clicker_icon_with_text.svg","alt","Debug clicker"],[1,"profile"],[1,"header"],[1,"picture"],["src","path/to/profile-pic.jpg","alt","Profile picture","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Pan_Blue_Circle.png/480px-Pan_Blue_Circle.png'"],[1,"info"],[2,"color","#E37A70"],[1,"follows"],[1,"add-friend"],["src","assets/img/user_settings.svg","alt","Change settings"],[1,"images"],["src","path/to/image1.jpg","alt","Image 1","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image2.jpg","alt","Image 2","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 3","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 4","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 5","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 6","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 7","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],["src","path/to/image3.jpg","alt","Image 8","onerror","this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/681px-Placeholder_view_vector.svg.png'"],[1,"right-side"],[1,"add-friends-overlay"],["src","/assets/img/add_friends.svg","alt","Add friends"]],template:function(i,r){1&i&&(z(0,"html")(1,"head"),ht(2,"meta",0),K(),z(3,"body")(4,"div",1)(5,"div",2),ht(6,"app-credit-box"),z(7,"a",3),ht(8,"img",4),K()(),z(9,"div",5)(10,"div",6)(11,"div",7),ht(12,"img",8),K(),z(13,"div",9)(14,"h2"),fe(15),K(),z(16,"p",10),fe(17,"50 Followers"),K(),z(18,"div",11)(19,"p"),fe(20,"30 Following"),K(),z(21,"p"),fe(22,"13 Friends"),K()()(),z(23,"div",12),ht(24,"img",13),K()(),z(25,"div",14),ht(26,"img",15)(27,"img",16)(28,"img",17)(29,"img",18)(30,"img",19)(31,"img",20)(32,"img",21)(33,"img",22),K()(),z(34,"div",23)(35,"h2"),fe(36,"Here is friends list"),K(),z(37,"div",24),ht(38,"img",25),z(39,"h2"),fe(40,"Add friends"),K()()()()()()),2&i&&(Ee(15),ki(null==r.user?null:r.user.displayName))},dependencies:[Ul,Xoe],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;padding:0}h2[_ngcontent-%COMP%]{font-size:50px;margin:5px}p[_ngcontent-%COMP%]{margin:5px}.columns[_ngcontent-%COMP%]{margin-top:3%;display:flex;justify-content:space-around}.left-side[_ngcontent-%COMP%], .right-side[_ngcontent-%COMP%]{width:20%;text-align:center}.left-side[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:20%;width:50%}.profile[_ngcontent-%COMP%]{text-align:center;width:40%;height:100%;background-color:#313131;border-radius:30px}.header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;align-items:center;background-color:#6a5988;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom:thin solid #E37A70}.follows[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.images[_ngcontent-%COMP%]{margin:20px;display:grid;grid-template-columns:repeat(3,1fr);gap:5px;background-color:#313131}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:8px}.picture[_ngcontent-%COMP%], .add-friend[_ngcontent-%COMP%]{width:40%}.picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.info[_ngcontent-%COMP%]{width:100%;padding-bottom:10px}.add-friends-overlay[_ngcontent-%COMP%]{margin-top:30%;position:relative;display:inline-block;width:30%}.add-friends-overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.add-friends-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:30px;transform:translate(-50%,-100%);text-align:center;text-shadow:2px 2px 4px #212121;white-space:nowrap}"]})}return n})()}];let ese=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[IF.forRoot(Joe,{useHash:!0}),IF]})}return n})(),tse=(()=>{class n{constructor(t){this.router=t,this.visible=!1,this.title="earn2post"}static#e=this.\u0275fac=function(i){return new(i||n)(N(_r))};static#t=this.\u0275cmp=rn({type:n,selectors:[["app-root"]],inputs:{visible:"visible"},decls:2,vars:0,template:function(i,r){1&i&&(z(0,"app-header"),ht(1,"router-outlet"),K())},dependencies:[hC,JC],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;overflow:auto}"],changeDetection:0})}return n})();function Zj(n){return new P(3e3,!1)}function Fc(n){switch(n.length){case 0:return new Sp;case 1:return n[0];default:return new m2(n)}}function Kj(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const u=c.get("offset"),h=u==s,p=h&&a||new Map;c.forEach((g,v)=>{let b=v,w=g;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),w){case"!":w=t.get(v);break;case sa:w=i.get(v);break;default:w=n.normalizeStyleValue(v,b,w,r)}p.set(b,w)}),h||o.push(p),a=p,s=u}),r.length)throw function xse(n){return new P(3502,!1)}();return o}function cS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&lS(t,"start",n)));break;case"done":n.onDone(()=>i(t&&lS(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&lS(t,"destroy",n)))}}function lS(n,e,t){const o=uS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function uS(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Jr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Qj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Fse=(()=>typeof document>"u"?null:document.documentElement)();function dS(n){const e=n.parentNode||n.host||null;return e===Fse?null:e}let vu=null,Yj=!1;function Xj(n,e){for(;e;){if(e===n)return!0;e=dS(e)}return!1}function Jj(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let e3=(()=>{class n{validateStyleProperty(t){return function Vse(n){vu||(vu=function Bse(){return typeof document<"u"?document.body:null}()||{},Yj=!!vu.style&&"WebkitAppearance"in vu.style);let e=!0;return vu.style&&!function Lse(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in vu.style,!e&&Yj&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in vu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Xj(t,i)}getParentElement(t){return dS(t)}query(t,i,r){return Jj(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Sp(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),hS=(()=>{class n{static#e=this.NOOP=new e3}return n})();const Use=1e3,fS="ng-enter",Z0="ng-leave",K0="ng-trigger",Q0=".ng-trigger",n3="ng-animating",mS=".ng-animating";function va(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pS(parseFloat(e[1]),e[2])}function pS(n,e){return"s"===e?n*Use:n}function Y0(n,e,t){return n.hasOwnProperty("duration")?n:function zse(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Zj()),{duration:0,delay:0,easing:""};r=pS(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=pS(parseFloat(c),a[4]));const u=a[5];u&&(s=u)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function nse(){return new P(3100,!1)}()),a=!0),o<0&&(e.push(function ise(){return new P(3101,!1)}()),a=!0),a&&e.splice(c,0,Zj())}return{duration:r,delay:o,easing:s}}(n,e,t)}function zg(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function r3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Lc(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Ps(n,e,t){e.forEach((i,r)=>{const o=_S(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function yu(n,e){e.forEach((t,i)=>{const r=_S(i);n.style[r]=""})}function $g(n){return Array.isArray(n)?1==n.length?n[0]:d2(n):n}const gS=new RegExp("{{\\s*(.+?)\\s*}}","g");function s3(n){let e=[];if("string"==typeof n){let t;for(;t=gS.exec(n);)e.push(t[1]);gS.lastIndex=0}return e}function Hg(n,e,t){const i=n.toString(),r=i.replace(gS,(o,s)=>{let a=e[s];return null==a&&(t.push(function ose(n){return new P(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function X0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const qse=/-+([a-z0-9])/g;function _S(n){return n.replace(qse,(...e)=>e[1].toUpperCase())}function eo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function sse(n){return new P(3004,!1)}()}}function a3(n,e){return window.getComputedStyle(n)[e]}const J0="*";function Zse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Kse(n,e,t){if(":"==n[0]){const c=function Qse(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function bse(n){return new P(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function yse(n){return new P(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(c3(r,s));"<"==o[0]&&!(r==J0&&s==J0)&&e.push(c3(s,r))}(i,t,e)):t.push(n),t}const ew=new Set(["true","1"]),tw=new Set(["false","0"]);function c3(n,e){const t=ew.has(n)||tw.has(n),i=ew.has(e)||tw.has(e);return(r,o)=>{let s=n==J0||n==r,a=e==J0||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?ew.has(n):tw.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?ew.has(e):tw.has(e)),s&&a}}const Yse=new RegExp("s*:selfs*,?","g");function vS(n,e,t,i){return new Xse(n).build(e,t,i)}class Xse{constructor(e){this._driver=e}build(e,t,i){const r=new tae(t);return this._resetContextStyleTimingState(r),eo(this,$g(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function cse(){return new P(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=u}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function lse(){return new P(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{s3(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&(X0(o.values()),t.errors.push(function use(n,e){return new P(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=eo(this,$g(e.animation),t);return{type:1,matchers:Zse(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:bu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>eo(this,i,t)),options:bu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=eo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:bu(e.options)}}visitAnimate(e,t){const i=function iae(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yS(Y0(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=yS(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Y0(t,e);return yS(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:gb({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=gb(u)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===sa?i.push(a):t.errors.push(new P(3002,!1)):i.push(r3(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(c);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function hse(n,e,t,i,r){return new P(3010,!1)}()),p=!1),o=h.startTime),p&&u.set(c,{startTime:o,endTime:r}),t.options&&function Hse(n,e,t){const i=e.params||{},r=s3(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function rse(n){return new P(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function fse(){return new P(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,u=0;const h=e.steps.map(M=>{const A=this._makeStyleAst(M,t);let L=null!=A.offset?A.offset:function nae(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(A.styles),Y=0;return null!=L&&(o++,Y=A.offset=L),c=c||Y<0||Y>1,a=a||Y<u,u=Y,s.push(Y),A});c&&t.errors.push(function mse(){return new P(3012,!1)}()),a&&t.errors.push(function pse(){return new P(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function gse(){return new P(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,b=t.currentTime,w=t.currentAnimateTimings,I=w.duration;return h.forEach((M,A)=>{const L=g>0?A==v?1:g*A:s[A],Y=L*I;t.currentTime=b+w.delay+Y,w.duration=Y,this._validateStyleAst(M,t),M.offset=L,i.styles.push(M)}),i}visitReference(e,t){return{type:8,animation:eo(this,$g(e.animation),t),options:bu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:bu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:bu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Jse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Yse,"")),n=n.replace(/@\*/g,Q0).replace(/@\w+/g,t=>Q0+"-"+t.slice(1)).replace(/:animating/g,mS),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Jr(t.collectedStyles,t.currentQuerySelector,new Map);const a=eo(this,$g(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:bu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function _se(){return new P(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Y0(e.timings,t.errors,!0);return{type:12,animation:eo(this,$g(e.animation),t),timings:i,options:null}}}class tae{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bu(n){return n?(n=zg(n)).params&&(n.params=function eae(n){return n?zg(n):null}(n.params)):n={},n}function yS(n,e,t){return{duration:n,delay:e,easing:t}}function bS(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class nw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const sae=new RegExp(":enter","g"),cae=new RegExp(":leave","g");function wS(n,e,t,i,r,o=new Map,s=new Map,a,c,u=[]){return(new lae).buildKeyframes(n,e,t,i,r,o,s,a,c,u)}class lae{buildKeyframes(e,t,i,r,o,s,a,c,u,h=[]){u=u||new nw;const p=new ES(e,t,u,r,o,h,[]);p.options=c;const g=c.delay?va(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),eo(this,i,p);const v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let w=v.length-1;w>=0;w--){const I=v[w];if(I.element===t){b=I;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[bS(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:va(Hg(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?va(i.duration):null,a=null!=i.delay?va(i.delay):null;return 0!==s&&e.forEach(c=>{const u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),eo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=iw);const s=va(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>eo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?va(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),eo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Y0(t.params?Hg(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?va(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=iw);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,u);o&&p.delayNextStep(o),u===t.element&&(c=p.currentTimeline),eo(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const p=h.currentTime;eo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const iw={};class ES{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new rw(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=va(i.duration)),null!=i.delay&&(r.delay=va(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Hg(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new ES(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=iw,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new uae(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(sae,"."+this._enterClassName)).replace(cae,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(function vse(n){return new P(3014,!1)}()),a}}class rw{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||sa),this._currentKeyframe.set(t,sa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function dae(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,sa)}else Lc(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const u=Hg(c,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??sa),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const u=Lc(a,new Map,this._backFill);u.forEach((h,p)=>{"!"===h?e.add(p):h===sa&&t.add(p)}),i||u.set("offset",c/this.duration),r.push(u)});const o=e.size?X0(e.values()):[],s=t.size?X0(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return bS(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class uae extends rw{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=Lc(e[0]);c.set("offset",0),o.push(c);const u=Lc(e[0]);u.set("offset",d3(a)),o.push(u);const h=e.length-1;for(let p=1;p<=h;p++){let g=Lc(e[p]);const v=g.get("offset");g.set("offset",d3((t+v*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return bS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function d3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class IS{}const hae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fae extends IS{normalizePropertyName(e,t){return _S(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(hae.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function ase(n,e){return new P(3005,!1)}())}return s+o}}function h3(n,e,t,i,r,o,s,a,c,u,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:h,totalTime:p,errors:g}}const xS={};class f3{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function mae(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,u,h){const p=[],g=this.ast.options&&this.ast.options.params||xS,b=this.buildStyles(i,a&&a.params||xS,p),w=c&&c.params||xS,I=this.buildStyles(r,w,p),M=new Set,A=new Map,L=new Map,Y="void"===r,ce={params:pae(w,g),delay:this.ast.options?.delay},De=h?[]:wS(e,t,this.ast.animation,o,s,b,I,ce,u,p);let Ge=0;if(De.forEach(Ir=>{Ge=Math.max(Ir.duration+Ir.delay,Ge)}),p.length)return h3(t,this._triggerName,i,r,Y,b,I,[],[],A,L,Ge,p);De.forEach(Ir=>{const Or=Ir.element,mw=Jr(A,Or,new Set);Ir.preStyleProps.forEach(Iu=>mw.add(Iu));const Kg=Jr(L,Or,new Set);Ir.postStyleProps.forEach(Iu=>Kg.add(Iu)),Or!==t&&M.add(Or)});const Wt=X0(M.values());return h3(t,this._triggerName,i,r,Y,b,I,De,Wt,A,L,Ge)}}function pae(n,e){const t=zg(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class gae{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=zg(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Hg(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class vae{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new gae(r.style,r.options&&r.options.params||{},i))}),m3(this.states,"true","1"),m3(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new f3(e,r,this.states))}),this.fallbackTransition=function yae(n,e,t){return new f3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function m3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const bae=new nw;class wae{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=vS(this._driver,t,i,[]);if(i.length)throw function Cse(n){return new P(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=Kj(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=wS(this._driver,t,o,fS,Z0,new Map,new Map,i,bae,r),s.forEach(h=>{const p=Jr(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function Tse(){return new P(3300,!1)}()),s=[]),r.length)throw function Dse(n){return new P(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(p,v,sa))})});const u=Fc(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ase(n){return new P(3301,!1)}();return t}listen(e,t,i,r){const o=uS(t,"","","");return cS(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const p3="ng-animate-queued",CS="ng-animate-disabled",Tae=[],g3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Dae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xo="__ng_removed";class TS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Mae(n){return n??null}(i?e.value:e),i){const o=zg(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const qg="void",DS=new TS(qg);class Aae{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,To(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Sse(n,e){return new P(3302,!1)}();if(null==i||0==i.length)throw function kse(n){return new P(3303,!1)}();if(!function Rae(n){return"start"==n||"done"==n}(i))throw function Mse(n,e){return new P(3400,!1)}();const o=Jr(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Jr(this._engine.statesByElement,e,new Map);return a.has(t)||(To(e,K0),To(e,K0+"-"+t),a.set(t,DS)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Rse(n){return new P(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new AS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(To(e,K0),To(e,K0+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const u=new TS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=DS),u.value!==qg&&c.value===u.value){if(!function Oae(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,u.params)){const w=[],I=o.matchStyles(c.value,c.params,w),M=o.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{yu(e,I),Ps(e,M)})}return}const g=Jr(this._engine.playersByElement,e,[]);g.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let v=o.matchTransition(c.value,u.value,e,u.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:u,player:s,isFallbackTransition:b}),b||(To(e,p3),s.onStart(()=>{cf(e,p3)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);const I=this._engine.playersByElement.get(e);if(I){let M=I.indexOf(s);M>=0&&I.splice(M,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Q0,!0);i.forEach(r=>{if(r[Xo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){const h=this.trigger(e,u,qg,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Fc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,u=i.get(s)||DS,h=new TS(qg),p=new AS(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Xo];(!o||o===g3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){To(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=uS(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,cS(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Sae{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Aae(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const u=i.indexOf(c);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(ow(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!ow(t))return;const o=t[Xo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),To(e,CS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cf(e,CS))}removeNode(e,t,i){if(ow(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Xo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return ow(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Q0,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,mS,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xo];if(t&&t.setForRemoval){if(e[Xo]=g3,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(CS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)To(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Fc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Pse(n){return new P(3402,!1)}()}_flushAnimations(e,t){const i=new nw,r=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(Ae=>{h.add(Ae);const Pe=this.driver.query(Ae,".ng-animate-queued",!0);for(let Be=0;Be<Pe.length;Be++)h.add(Pe[Be])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=y3(g,this.collectedEnterElements),b=new Map;let w=0;v.forEach((Ae,Pe)=>{const Be=fS+w++;b.set(Pe,Be),Ae.forEach(St=>To(St,Be))});const I=[],M=new Set,A=new Set;for(let Ae=0;Ae<this.collectedLeaveElements.length;Ae++){const Pe=this.collectedLeaveElements[Ae],Be=Pe[Xo];Be&&Be.setForRemoval&&(I.push(Pe),M.add(Pe),Be.hasAnimation?this.driver.query(Pe,".ng-star-inserted",!0).forEach(St=>M.add(St)):A.add(Pe))}const L=new Map,Y=y3(g,Array.from(M));Y.forEach((Ae,Pe)=>{const Be=Z0+w++;L.set(Pe,Be),Ae.forEach(St=>To(St,Be))}),e.push(()=>{v.forEach((Ae,Pe)=>{const Be=b.get(Pe);Ae.forEach(St=>cf(St,Be))}),Y.forEach((Ae,Pe)=>{const Be=L.get(Pe);Ae.forEach(St=>cf(St,Be))}),I.forEach(Ae=>{this.processLeaveNode(Ae)})});const ce=[],De=[];for(let Ae=this._namespaceList.length-1;Ae>=0;Ae--)this._namespaceList[Ae].drainQueuedTransitions(t).forEach(Be=>{const St=Be.player,bi=Be.element;if(ce.push(St),this.collectedEnterElements.length){const nr=bi[Xo];if(nr&&nr.setForMove){if(nr.previousTriggersValues&&nr.previousTriggersValues.has(Be.triggerName)){const xu=nr.previousTriggersValues.get(Be.triggerName),Do=this.statesByElement.get(Be.element);if(Do&&Do.has(Be.triggerName)){const pw=Do.get(Be.triggerName);pw.value=xu,Do.set(Be.triggerName,pw)}}return void St.destroy()}}const Os=!p||!this.driver.containsElement(p,bi),to=L.get(bi),Uc=b.get(bi),Dn=this._buildInstruction(Be,i,Uc,to,Os);if(Dn.errors&&Dn.errors.length)return void De.push(Dn);if(Os)return St.onStart(()=>yu(bi,Dn.fromStyles)),St.onDestroy(()=>Ps(bi,Dn.toStyles)),void r.push(St);if(Be.isFallbackTransition)return St.onStart(()=>yu(bi,Dn.fromStyles)),St.onDestroy(()=>Ps(bi,Dn.toStyles)),void r.push(St);const Q3=[];Dn.timelines.forEach(nr=>{nr.stretchStartingKeyframe=!0,this.disabledNodes.has(nr.element)||Q3.push(nr)}),Dn.timelines=Q3,i.append(bi,Dn.timelines),s.push({instruction:Dn,player:St,element:bi}),Dn.queriedElements.forEach(nr=>Jr(a,nr,[]).push(St)),Dn.preStyleProps.forEach((nr,xu)=>{if(nr.size){let Do=c.get(xu);Do||c.set(xu,Do=new Set),nr.forEach((pw,LS)=>Do.add(LS))}}),Dn.postStyleProps.forEach((nr,xu)=>{let Do=u.get(xu);Do||u.set(xu,Do=new Set),nr.forEach((pw,LS)=>Do.add(LS))})});if(De.length){const Ae=[];De.forEach(Pe=>{Ae.push(function Nse(n,e){return new P(3505,!1)}())}),ce.forEach(Pe=>Pe.destroy()),this.reportError(Ae)}const Ge=new Map,Wt=new Map;s.forEach(Ae=>{const Pe=Ae.element;i.has(Pe)&&(Wt.set(Pe,Pe),this._beforeAnimationBuild(Ae.player.namespaceId,Ae.instruction,Ge))}),r.forEach(Ae=>{const Pe=Ae.element;this._getPreviousPlayers(Pe,!1,Ae.namespaceId,Ae.triggerName,null).forEach(St=>{Jr(Ge,Pe,[]).push(St),St.destroy()})});const Ir=I.filter(Ae=>w3(Ae,c,u)),Or=new Map;v3(Or,this.driver,A,u,sa).forEach(Ae=>{w3(Ae,c,u)&&Ir.push(Ae)});const Kg=new Map;v.forEach((Ae,Pe)=>{v3(Kg,this.driver,new Set(Ae),c,"!")}),Ir.forEach(Ae=>{const Pe=Or.get(Ae),Be=Kg.get(Ae);Or.set(Ae,new Map([...Pe?.entries()??[],...Be?.entries()??[]]))});const Iu=[],Z3=[],K3={};s.forEach(Ae=>{const{element:Pe,player:Be,instruction:St}=Ae;if(i.has(Pe)){if(h.has(Pe))return Be.onDestroy(()=>Ps(Pe,St.toStyles)),Be.disabled=!0,Be.overrideTotalTime(St.totalTime),void r.push(Be);let bi=K3;if(Wt.size>1){let to=Pe;const Uc=[];for(;to=to.parentNode;){const Dn=Wt.get(to);if(Dn){bi=Dn;break}Uc.push(to)}Uc.forEach(Dn=>Wt.set(Dn,bi))}const Os=this._buildAnimation(Be.namespaceId,St,Ge,o,Kg,Or);if(Be.setRealPlayer(Os),bi===K3)Iu.push(Be);else{const to=this.playersByElement.get(bi);to&&to.length&&(Be.parentPlayer=Fc(to)),r.push(Be)}}else yu(Pe,St.fromStyles),Be.onDestroy(()=>Ps(Pe,St.toStyles)),Z3.push(Be),h.has(Pe)&&r.push(Be)}),Z3.forEach(Ae=>{const Pe=o.get(Ae.element);if(Pe&&Pe.length){const Be=Fc(Pe);Ae.setRealPlayer(Be)}}),r.forEach(Ae=>{Ae.parentPlayer?Ae.syncPlayerEvents(Ae.parentPlayer):Ae.destroy()});for(let Ae=0;Ae<I.length;Ae++){const Pe=I[Ae],Be=Pe[Xo];if(cf(Pe,Z0),Be&&Be.hasAnimation)continue;let St=[];if(a.size){let Os=a.get(Pe);Os&&Os.length&&St.push(...Os);let to=this.driver.query(Pe,mS,!0);for(let Uc=0;Uc<to.length;Uc++){let Dn=a.get(to[Uc]);Dn&&Dn.length&&St.push(...Dn)}}const bi=St.filter(Os=>!Os.destroyed);bi.length?Pae(this,Pe,bi):this.processLeaveNode(Pe)}return I.length=0,Iu.forEach(Ae=>{this.players.push(Ae),Ae.onDone(()=>{Ae.destroy();const Pe=this.players.indexOf(Ae);this.players.splice(Pe,1)}),Ae.play()}),Iu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==qg;a.forEach(u=>{u.queued||!c&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const u=c.element,h=u!==o,p=Jr(i,u,[]);this._getPreviousPlayers(u,h,s,a,t.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}yu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,u=[],h=new Set,p=new Set,g=t.timelines.map(b=>{const w=b.element;h.add(w);const I=w[Xo];if(I&&I.removedBeforeQueried)return new Sp(b.duration,b.delay);const M=w!==c,A=function Nae(n){const e=[];return b3(n,e),e}((i.get(w)||Tae).map(Ge=>Ge.getRealPlayer())).filter(Ge=>!!Ge.element&&Ge.element===w),L=o.get(w),Y=s.get(w),ce=Kj(this._normalizer,b.keyframes,L,Y),De=this._buildPlayer(b,ce,A);if(b.subTimeline&&r&&p.add(w),M){const Ge=new AS(e,a,w);Ge.setRealPlayer(De),u.push(Ge)}return De});u.forEach(b=>{Jr(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function kae(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>To(b,n3));const v=Fc(g);return v.onDestroy(()=>{h.forEach(b=>cf(b,n3)),Ps(c,t.toStyles)}),p.forEach(b=>{Jr(r,b,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Sp(e.duration,e.delay)}}class AS{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Sp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>cS(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Jr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ow(n){return n&&1===n.nodeType}function _3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function v3(n,e,t,i,r){const o=[];t.forEach(c=>o.push(_3(c)));const s=[];i.forEach((c,u)=>{const h=new Map;c.forEach(p=>{const g=e.computeStyle(u,p,r);h.set(p,g),(!g||0==g.length)&&(u[Xo]=Dae,s.push(u))}),n.set(u,h)});let a=0;return t.forEach(c=>_3(c,o[a++])),s}function y3(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const u=a.parentNode;return c=t.has(u)?u:r.has(u)?1:s(u),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function To(n,e){n.classList?.add(e)}function cf(n,e){n.classList?.remove(e)}function Pae(n,e,t){Fc(t).onDone(()=>n.processLeaveNode(e))}function b3(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof m2?b3(i.players,e):e.push(i)}}function w3(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class sw{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Sae(e,t,i),this._timelineEngine=new wae(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],h=vS(this._driver,o,c,[]);if(c.length)throw function Ise(n,e){return new P(3404,!1)}();a=function _ae(n,e,t){return new vae(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=Qj(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=Qj(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Lae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ps(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ps(this._element,this._initialStyles),this._endStyles&&(Ps(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yu(this._element,this._endStyles),this._endStyles=null),Ps(this._element,this._initialStyles),this._state=3)}}return n})();function SS(n){let e=null;return n.forEach((t,i)=>{(function Vae(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class E3{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:a3(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Bae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Xj(e,t)}getParentElement(e){return dS(e)}query(e,t,i){return Jj(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const u=new Map,h=s.filter(v=>v instanceof E3);(function Gse(n,e){return 0===n||0===e})(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((b,w)=>u.set(w,b))});let p=function $se(n){return n.length?n[0]instanceof Map?n:n.map(e=>r3(e)):[]}(t).map(v=>Lc(v));p=function Wse(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,a3(n,a)))}}return e}(e,p,u);const g=function Fae(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=SS(e[0]),e.length>1&&(i=SS(e[e.length-1]))):e instanceof Map&&(t=SS(e)),t||i?new Lae(n,t,i):null}(e,p);return new E3(e,p,c,g)}}let Uae=(()=>{class n extends l2{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:si.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?d2(t):t;return I3(this._renderer,null,i,"register",[r]),new jae(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(j(km),j(Lt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class jae extends EX{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new zae(this._id,e,t||{},this._renderer)}}class zae{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return I3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function I3(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const x3="@.disabled";let $ae=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new C3("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=h=>{Array.isArray(h)?h.forEach(c):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(c),new Hae(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(j(km),j(sw),j(ze))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class C3{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==x3?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Hae extends C3{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==x3?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function qae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Gae(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Wae=(()=>{class n extends sw{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(j(Lt),j(hS),j(IS),j(Nl))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const T3=[{provide:l2,useClass:Uae},{provide:IS,useFactory:function Zae(){return new fae}},{provide:sw,useClass:Wae},{provide:km,useFactory:function Kae(n,e,t){return new $ae(n,e,t)},deps:[qx,sw,ze]}],kS=[{provide:hS,useFactory:()=>new Bae},{provide:bd,useValue:"BrowserAnimations"},...T3],D3=[{provide:hS,useClass:e3},{provide:bd,useValue:"NoopAnimations"},...T3];let Qae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?D3:kS}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({providers:kS,imports:[dO]})}return n})(),Jae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[Mr,c2,Mr]})}return n})();class cw{}class lw{}class Ns{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ns?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ns;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ns?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ece{encodeKey(e){return A3(e)}encodeValue(e){return A3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const nce=/%(\d[a-f0-9])/gi,ice={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function A3(n){return encodeURIComponent(n).replace(nce,(e,t)=>ice[t]??e)}function uw(n){return`${n}`}class Vc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ece,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tce(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(uw):[uw(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Vc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(uw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(uw(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rce{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function S3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function k3(n){return typeof Blob<"u"&&n instanceof Blob}function M3(n){return typeof FormData<"u"&&n instanceof FormData}class Gg{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function oce(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ns),this.context||(this.context=new rce),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Vc,this.urlWithParams=t}serializeBody(){return null===this.body?null:S3(this.body)||k3(this.body)||M3(this.body)||function sce(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||M3(this.body)?null:k3(this.body)?this.body.type||null:S3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),u)),new Gg(t,i,o,{params:u,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var lf=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(lf||{});class MS{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ns,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class RS extends MS{constructor(e={}){super(e),this.type=lf.ResponseHeader}clone(e={}){return new RS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uf extends MS{constructor(e={}){super(e),this.type=lf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new uf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class R3 extends MS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function PS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let NS=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Gg)o=t;else{let c,u;c=r.headers instanceof Ns?r.headers:new Ns(r.headers),r.params&&(u=r.params instanceof Vc?r.params:new Vc({fromObject:r.params})),o=new Gg(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=$(o).pipe(Kd(c=>this.handler.handle(c)));if(t instanceof Gg||"events"===r.observe)return s;const a=s.pipe(zn(c=>c instanceof uf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pe(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(pe(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(pe(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(pe(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Vc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,PS(r,i))}post(t,i,r={}){return this.request("POST",t,PS(r,i))}put(t,i,r={}){return this.request("PUT",t,PS(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(j(cw))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function O3(n,e){return e(n)}function cce(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const uce=new ne(""),Wg=new ne(""),F3=new ne("");function dce(){let n=null;return(e,t)=>{null===n&&(n=(ge(uce,{optional:!0})??[]).reduceRight(cce,O3));const i=ge(ry),r=i.add();return n(e,t).pipe(Qd(()=>i.remove(r)))}}let L3=(()=>{class n extends cw{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ge(ry)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Wg),...this.injector.get(F3,[])]));this.chain=r.reduceRight((o,s)=>function lce(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),O3)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Qd(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(j(lw),j(qr))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const pce=/^\)\]\}',?\n/;let B3=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new P(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?T(i.\u0275loadImpl()):$(null)).pipe(Je(()=>new Xe(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,I)=>s.setRequestHeader(w,I.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const w=s.statusText||"OK",I=new Ns(s.getAllResponseHeaders()),M=function gce(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new RS({headers:I,status:s.status,statusText:w,url:M}),c},h=()=>{let{headers:w,status:I,statusText:M,url:A}=u(),L=null;204!==I&&(L=typeof s.response>"u"?s.responseText:s.response),0===I&&(I=L?200:0);let Y=I>=200&&I<300;if("json"===t.responseType&&"string"==typeof L){const ce=L;L=L.replace(pce,"");try{L=""!==L?JSON.parse(L):null}catch(De){L=ce,Y&&(Y=!1,L={error:De,text:L})}}Y?(o.next(new uf({body:L,headers:w,status:I,statusText:M,url:A||void 0})),o.complete()):o.error(new R3({error:L,headers:w,status:I,statusText:M,url:A||void 0}))},p=w=>{const{url:I}=u(),M=new R3({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(M)};let g=!1;const v=w=>{g||(o.next(u()),g=!0);let I={type:lf.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),"text"===t.responseType&&s.responseText&&(I.partialText=s.responseText),o.next(I)},b=w=>{let I={type:lf.UploadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),o.next(I)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:lf.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(j(ZN))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const OS=new ne("XSRF_ENABLED"),U3=new ne("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),j3=new ne("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class z3{}let yce=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=BN(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(j(Lt),j(Vo),j(U3))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function bce(n,e){const t=n.url.toLowerCase();if(!ge(OS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=ge(z3).getToken(),r=ge(j3);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Bc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Bc||{});function wce(...n){const e=[NS,B3,L3,{provide:cw,useExisting:L3},{provide:lw,useExisting:B3},{provide:Wg,useValue:bce,multi:!0},{provide:OS,useValue:!0},{provide:z3,useClass:yce}];for(const t of n)e.push(...t.\u0275providers);return function BE(n){return{\u0275providers:n}}(e)}const $3=new ne("LEGACY_INTERCEPTOR_FN");function Ece(){return function wu(n,e){return{\u0275kind:n,\u0275providers:e}}(Bc.LegacyInterceptors,[{provide:$3,useFactory:dce},{provide:Wg,useExisting:$3,multi:!0}])}let Ice=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({providers:[wce(Ece())]})}return n})(),Nce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n});static#n=this.\u0275inj=Ot({imports:[Mr,Mr]})}return n})(),Oce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=kt({type:n,bootstrap:[tse]});static#n=this.\u0275inj=Ot({providers:[aS],imports:[dO,ese,BQ,Qae,FX,gJ,Jae,Nce,EJ,Ice,$J.initializeApp({apiKey:"AIzaSyDdqKeVXZLeAeRIzFuvh1-4snVV-G9LK34",authDomain:"earn2post.firebaseapp.com",projectId:"earn2post",storageBucket:"earn2post.appspot.com",messagingSenderId:"627810397108",appId:"1:627810397108:web:9c06f50115255b39cf20e1"}),ZJ,Doe]})}return n})();c7().bootstrapModule(Oce).catch(n=>console.error(n))},106:(Ao,ti,Ze)=>{Ze.d(ti,{Z:()=>ii});var E=Ze(58),Oe=Ze(537),G=Ze(534),Le=Ze(879);class mt{constructor(Ue,et){this._delegate=Ue,this.firebase=et,(0,G._addComponent)(Ue,new Oe.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(Ue,et=G._DEFAULT_ENTRY_NAME){var ri;this._delegate.checkDestroyed();const oi=this._delegate.container.getProvider(Ue);return!oi.isInitialized()&&"EXPLICIT"===(null===(ri=oi.getComponent())||void 0===ri?void 0:ri.instantiationMode)&&oi.initialize(),oi.getImmediate({identifier:et})}_removeServiceInstance(Ue,et=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(et)}_addComponent(Ue){(0,G._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,G._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const wn=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function ct(){const Tt=function ni(Tt){const Ue={},et={__esModule:!0,initializeApp:function tn(tt,Gn={}){const J=G.initializeApp(tt,Gn);if((0,E.r3)(Ue,J.name))return Ue[J.name];const dn=new Tt(J,et);return Ue[J.name]=dn,dn},app:oi,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Ht(tt){const Gn=tt.name,J=Gn.replace("-compat","");if(G._registerComponent(tt)&&"PUBLIC"===tt.type){const dn=(nn=oi())=>{if("function"!=typeof nn[J])throw wn.create("invalid-app-argument",{appName:Gn});return nn[J]()};void 0!==tt.serviceProps&&(0,E.ZB)(dn,tt.serviceProps),et[J]=dn,Tt.prototype[J]=function(...nn){return this._getService.bind(this,Gn).apply(this,tt.multipleInstances?nn:[])}}return"PUBLIC"===tt.type?et[J]:null},removeApp:function ri(tt){delete Ue[tt]},useAsService:function Fi(tt,Gn){return"serverAuth"===Gn?null:Gn},modularAPIs:G}};function oi(tt){if(!(0,E.r3)(Ue,tt=tt||G._DEFAULT_ENTRY_NAME))throw wn.create("no-app",{appName:tt});return Ue[tt]}return et.default=et,Object.defineProperty(et,"apps",{get:function Dt(){return Object.keys(Ue).map(tt=>Ue[tt])}}),oi.App=Tt,et}(mt);return Tt.INTERNAL=Object.assign(Object.assign({},Tt.INTERNAL),{createFirebaseNamespace:ct,extendNamespace:function Ue(et){(0,E.ZB)(Tt,et)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),Tt}(),ae=new Le.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Tt=self.firebase.SDK_VERSION;Tt&&Tt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ii=ee;!function It(Tt){(0,G.registerVersion)("@firebase/app-compat","0.2.22",Tt)}()},534:(Ao,ti,Ze)=>{Ze.r(ti),Ze.d(ti,{FirebaseError:()=>Le.ZR,SDK_VERSION:()=>es,_DEFAULT_ENTRY_NAME:()=>Fr,_addComponent:()=>Jo,_addOrOverwriteComponent:()=>di,_apps:()=>Vi,_clearComponents:()=>Zn,_components:()=>ko,_getProvider:()=>Kt,_registerComponent:()=>Ls,_removeServiceInstance:()=>Lr,deleteApp:()=>Ei,getApp:()=>ts,getApps:()=>Ea,initializeApp:()=>wa,onLog:()=>Ia,registerVersion:()=>ns,setLogLevel:()=>Cu});var E=Ze(861),Oe=Ze(537),G=Ze(879),Le=Ze(58);const mt=(F,S)=>S.some(oe=>F instanceof oe);let un,wn;const ee=new WeakMap,ae=new WeakMap,Ie=new WeakMap,ot=new WeakMap,It=new WeakMap;let Ue={get(F,S,oe){if(F instanceof IDBTransaction){if("done"===S)return ae.get(F);if("objectStoreNames"===S)return F.objectStoreNames||Ie.get(F);if("store"===S)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return tn(F[S])},set:(F,S,oe)=>(F[S]=oe,!0),has:(F,S)=>F instanceof IDBTransaction&&("done"===S||"store"===S)||S in F};function oi(F){return"function"==typeof F?function ri(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ct(){return wn||(wn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...S){return F.apply(Dt(this),S),tn(ee.get(this))}:function(...S){return tn(F.apply(Dt(this),S))}:function(S,...oe){const Se=F.call(Dt(this),S,...oe);return Ie.set(Se,S.sort?S.sort():[S]),tn(Se)}}(F):(F instanceof IDBTransaction&&function Tt(F){if(ae.has(F))return;const S=new Promise((oe,Se)=>{const Ke=()=>{F.removeEventListener("complete",st),F.removeEventListener("error",P),F.removeEventListener("abort",P)},st=()=>{oe(),Ke()},P=()=>{Se(F.error||new DOMException("AbortError","AbortError")),Ke()};F.addEventListener("complete",st),F.addEventListener("error",P),F.addEventListener("abort",P)});ae.set(F,S)}(F),mt(F,function ni(){return un||(un=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,Ue):F)}function tn(F){if(F instanceof IDBRequest)return function ii(F){const S=new Promise((oe,Se)=>{const Ke=()=>{F.removeEventListener("success",st),F.removeEventListener("error",P)},st=()=>{oe(tn(F.result)),Ke()},P=()=>{Se(F.error),Ke()};F.addEventListener("success",st),F.addEventListener("error",P)});return S.then(oe=>{oe instanceof IDBCursor&&ee.set(oe,F)}).catch(()=>{}),It.set(S,F),S}(F);if(ot.has(F))return ot.get(F);const S=oi(F);return S!==F&&(ot.set(F,S),It.set(S,F)),S}const Dt=F=>It.get(F),tt=["get","getKey","getAll","getAllKeys","count"],Gn=["put","add","delete","clear"],J=new Map;function dn(F,S){if(!(F instanceof IDBDatabase)||S in F||"string"!=typeof S)return;if(J.get(S))return J.get(S);const oe=S.replace(/FromIndex$/,""),Se=S!==oe,Ke=Gn.includes(oe);if(!(oe in(Se?IDBIndex:IDBObjectStore).prototype)||!Ke&&!tt.includes(oe))return;const st=function(){var P=(0,E.Z)(function*(Pn,...xe){const lt=this.transaction(Pn,Ke?"readwrite":"readonly");let qc=lt.store;return Se&&(qc=qc.index(xe.shift())),(yield Promise.all([qc[oe](...xe),Ke&&lt.done]))[0]});return function(xe){return P.apply(this,arguments)}}();return J.set(S,st),st}!function et(F){Ue=F(Ue)}(F=>({...F,get:(S,oe,Se)=>dn(S,oe)||F.get(S,oe,Se),has:(S,oe)=>!!dn(S,oe)||F.has(S,oe)}));class nn{constructor(S){this.container=S}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Rn(F){const S=F.getComponent();return"VERSION"===S?.type}(oe)){const Se=oe.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(oe=>oe).join(" ")}}const no="@firebase/app",Xe=new G.Yd("@firebase/app"),Fr="[DEFAULT]",$c={[no]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vi=new Map,ko=new Map;function Jo(F,S){try{F.container.addComponent(S)}catch(oe){Xe.debug(`Component ${S.name} failed to register with FirebaseApp ${F.name}`,oe)}}function di(F,S){F.container.addOrOverwriteComponent(S)}function Ls(F){const S=F.name;if(ko.has(S))return Xe.debug(`There were multiple attempts to register component ${S}.`),!1;ko.set(S,F);for(const oe of Vi.values())Jo(oe,F);return!0}function Kt(F,S){const oe=F.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),F.container.getProvider(S)}function Lr(F,S,oe=Fr){Kt(F,S).clearInstance(oe)}function Zn(){ko.clear()}const xr=new Le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rr{constructor(S,oe,Se){this._isDeleted=!1,this._options=Object.assign({},S),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new Oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(S){this.checkDestroyed(),this._automaticDataCollectionEnabled=S}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(S){this._isDeleted=S}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const es="10.5.2";function wa(F,S={}){let oe=F;"object"!=typeof S&&(S={name:S});const Se=Object.assign({name:Fr,automaticDataCollectionEnabled:!1},S),Ke=Se.name;if("string"!=typeof Ke||!Ke)throw xr.create("bad-app-name",{appName:String(Ke)});if(oe||(oe=(0,Le.aH)()),!oe)throw xr.create("no-options");const st=Vi.get(Ke);if(st){if((0,Le.vZ)(oe,st.options)&&(0,Le.vZ)(Se,st.config))return st;throw xr.create("duplicate-app",{appName:Ke})}const P=new Oe.H0(Ke);for(const xe of ko.values())P.addComponent(xe);const Pn=new rr(oe,Se,P);return Vi.set(Ke,Pn),Pn}function ts(F=Fr){const S=Vi.get(F);if(!S&&F===Fr&&(0,Le.aH)())return wa();if(!S)throw xr.create("no-app",{appName:F});return S}function Ea(){return Array.from(Vi.values())}function Ei(F){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,E.Z)(function*(F){const S=F.name;Vi.has(S)&&(Vi.delete(S),yield Promise.all(F.container.getProviders().map(oe=>oe.delete())),F.isDeleted=!0)})).apply(this,arguments)}function ns(F,S,oe){var Se;let Ke=null!==(Se=$c[F])&&void 0!==Se?Se:F;oe&&(Ke+=`-${oe}`);const st=Ke.match(/\s|\//),P=S.match(/\s|\//);if(st||P){const Pn=[`Unable to register library "${Ke}" with version "${S}":`];return st&&Pn.push(`library name "${Ke}" contains illegal characters (whitespace or "/")`),st&&P&&Pn.push("and"),P&&Pn.push(`version name "${S}" contains illegal characters (whitespace or "/")`),void Xe.warn(Pn.join(" "))}Ls(new Oe.wA(`${Ke}-version`,()=>({library:Ke,version:S}),"VERSION"))}function Ia(F,S){if(null!==F&&"function"!=typeof F)throw xr.create("invalid-log-argument");(0,G.Am)(F,S)}function Cu(F){(0,G.Ub)(F)}const Hc="firebase-heartbeat-database",xa=1,D="firebase-heartbeat-store";let x=null;function T(){return x||(x=function Ht(F,S,{blocked:oe,upgrade:Se,blocking:Ke,terminated:st}={}){const P=indexedDB.open(F,S),Pn=tn(P);return Se&&P.addEventListener("upgradeneeded",xe=>{Se(tn(P.result),xe.oldVersion,xe.newVersion,tn(P.transaction),xe)}),oe&&P.addEventListener("blocked",xe=>oe(xe.oldVersion,xe.newVersion,xe)),Pn.then(xe=>{st&&xe.addEventListener("close",()=>st()),Ke&&xe.addEventListener("versionchange",lt=>Ke(lt.oldVersion,lt.newVersion,lt))}).catch(()=>{}),Pn}(Hc,xa,{upgrade:(F,S)=>{0===S&&F.createObjectStore(D)}}).catch(F=>{throw xr.create("idb-open",{originalErrorMessage:F.message})})),x}function R(){return(R=(0,E.Z)(function*(F){try{return yield(yield T()).transaction(D).objectStore(D).get(Et(F))}catch(S){if(S instanceof Le.ZR)Xe.warn(S.message);else{const oe=xr.create("idb-get",{originalErrorMessage:S?.message});Xe.warn(oe.message)}}})).apply(this,arguments)}function $(F,S){return je.apply(this,arguments)}function je(){return(je=(0,E.Z)(function*(F,S){try{const Se=(yield T()).transaction(D,"readwrite");yield Se.objectStore(D).put(S,Et(F)),yield Se.done}catch(oe){if(oe instanceof Le.ZR)Xe.warn(oe.message);else{const Se=xr.create("idb-set",{originalErrorMessage:oe?.message});Xe.warn(Se.message)}}})).apply(this,arguments)}function Et(F){return`${F.name}!${F.options.appId}`}class or{constructor(S){this.container=S,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new Vt(oe),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var S=this;return(0,E.Z)(function*(){const Se=S.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ke=Ce();if(null===S._heartbeatsCache&&(S._heartbeatsCache=yield S._heartbeatsCachePromise),S._heartbeatsCache.lastSentHeartbeatDate!==Ke&&!S._heartbeatsCache.heartbeats.some(st=>st.date===Ke))return S._heartbeatsCache.heartbeats.push({date:Ke,agent:Se}),S._heartbeatsCache.heartbeats=S._heartbeatsCache.heartbeats.filter(st=>{const P=new Date(st.date).valueOf();return Date.now()-P<=2592e6}),S._storage.overwrite(S._heartbeatsCache)})()}getHeartbeatsHeader(){var S=this;return(0,E.Z)(function*(){if(null===S._heartbeatsCache&&(yield S._heartbeatsCachePromise),null===S._heartbeatsCache||0===S._heartbeatsCache.heartbeats.length)return"";const oe=Ce(),{heartbeatsToSend:Se,unsentEntries:Ke}=function Kn(F,S=1024){const oe=[];let Se=F.slice();for(const Ke of F){const st=oe.find(P=>P.agent===Ke.agent);if(st){if(st.dates.push(Ke.date),Mo(oe)>S){st.dates.pop();break}}else if(oe.push({agent:Ke.agent,dates:[Ke.date]}),Mo(oe)>S){oe.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Se}}(S._heartbeatsCache.heartbeats),st=(0,Le.L)(JSON.stringify({version:2,heartbeats:Se}));return S._heartbeatsCache.lastSentHeartbeatDate=oe,Ke.length>0?(S._heartbeatsCache.heartbeats=Ke,yield S._storage.overwrite(S._heartbeatsCache)):(S._heartbeatsCache.heartbeats=[],S._storage.overwrite(S._heartbeatsCache)),st})()}}function Ce(){return(new Date).toISOString().substring(0,10)}class Vt{constructor(S){this.app=S,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,Le.hl)()&&(0,Le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var S=this;return(0,E.Z)(function*(){return(yield S._canUseIndexedDBPromise)&&(yield function W(F){return R.apply(this,arguments)}(S.app))||{heartbeats:[]}})()}overwrite(S){var oe=this;return(0,E.Z)(function*(){var Se;if(yield oe._canUseIndexedDBPromise){const st=yield oe.read();return $(oe.app,{lastSentHeartbeatDate:null!==(Se=S.lastSentHeartbeatDate)&&void 0!==Se?Se:st.lastSentHeartbeatDate,heartbeats:S.heartbeats})}})()}add(S){var oe=this;return(0,E.Z)(function*(){var Se;if(yield oe._canUseIndexedDBPromise){const st=yield oe.read();return $(oe.app,{lastSentHeartbeatDate:null!==(Se=S.lastSentHeartbeatDate)&&void 0!==Se?Se:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...S.heartbeats]})}})()}}function Mo(F){return(0,Le.L)(JSON.stringify({version:2,heartbeats:F})).length}!function Vs(F){Ls(new Oe.wA("platform-logger",S=>new nn(S),"PRIVATE")),Ls(new Oe.wA("heartbeat",S=>new or(S),"PRIVATE")),ns(no,"0.9.22",F),ns(no,"0.9.22","esm2017"),ns("fire-js","")}("")},537:(Ao,ti,Ze)=>{Ze.d(ti,{H0:()=>ni,wA:()=>G});var E=Ze(861),Oe=Ze(58);class G{constructor(ee,ae,Ie){this.name=ee,this.instanceFactory=ae,this.type=Ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Le="[DEFAULT]";class mt{constructor(ee,ae){this.name=ee,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ae=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ae)){const Ie=new Oe.BH;if(this.instancesDeferred.set(ae,Ie),this.isInitialized(ae)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:ae});ot&&Ie.resolve(ot)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ee){var ae;const Ie=this.normalizeInstanceIdentifier(ee?.identifier),ot=null!==(ae=ee?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Ie)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ie})}catch(It){if(ot)return null;throw It}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function wn(ct){return"EAGER"===ct.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Le})}catch{}for(const[ae,Ie]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(ae);try{const It=this.getOrInitializeService({instanceIdentifier:ot});Ie.resolve(It)}catch{}}}}clearInstance(ee=Le){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,E.Z)(function*(){const ae=Array.from(ee.instances.values());yield Promise.all([...ae.filter(Ie=>"INTERNAL"in Ie).map(Ie=>Ie.INTERNAL.delete()),...ae.filter(Ie=>"_delete"in Ie).map(Ie=>Ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Le){return this.instances.has(ee)}getOptions(ee=Le){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ae={}}=ee,Ie=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ie))throw Error(`${this.name}(${Ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:Ie,options:ae});for(const[It,ii]of this.instancesDeferred.entries())Ie===this.normalizeInstanceIdentifier(It)&&ii.resolve(ot);return ot}onInit(ee,ae){var Ie;const ot=this.normalizeInstanceIdentifier(ae),It=null!==(Ie=this.onInitCallbacks.get(ot))&&void 0!==Ie?Ie:new Set;It.add(ee),this.onInitCallbacks.set(ot,It);const ii=this.instances.get(ot);return ii&&ee(ii,ot),()=>{It.delete(ee)}}invokeOnInitCallbacks(ee,ae){const Ie=this.onInitCallbacks.get(ae);if(Ie)for(const ot of Ie)try{ot(ee,ae)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ae={}}){let Ie=this.instances.get(ee);if(!Ie&&this.component&&(Ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ct=ee,ct===Le?void 0:ct),options:ae}),this.instances.set(ee,Ie),this.instancesOptions.set(ee,ae),this.invokeOnInitCallbacks(Ie,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Ie)}catch{}var ct;return Ie||null}normalizeInstanceIdentifier(ee=Le){return this.component?this.component.multipleInstances?ee:Le:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ni{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ae=this.getProvider(ee.name);if(ae.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ae.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ae=new mt(ee,this);return this.providers.set(ee,ae),ae}getProviders(){return Array.from(this.providers.values())}}},879:(Ao,ti,Ze)=>{Ze.d(ti,{Am:()=>ct,Ub:()=>ni,Yd:()=>wn,in:()=>Oe});const E=[];var Oe=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(Oe||{});const G={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Le=Oe.INFO,mt={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},un=(ee,ae,...Ie)=>{if(ae<ee.logLevel)return;const ot=(new Date).toISOString(),It=mt[ae];if(!It)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[It](`[${ot}]  ${ee.name}:`,...Ie)};class wn{constructor(ae){this.name=ae,this._logLevel=Le,this._logHandler=un,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in Oe))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?G[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...ae),this._logHandler(this,Oe.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...ae),this._logHandler(this,Oe.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...ae),this._logHandler(this,Oe.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...ae),this._logHandler(this,Oe.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...ae),this._logHandler(this,Oe.ERROR,...ae)}}function ni(ee){E.forEach(ae=>{ae.setLogLevel(ee)})}function ct(ee,ae){for(const Ie of E){let ot=null;ae&&ae.level&&(ot=G[ae.level]),Ie.userLogHandler=null===ee?null:(It,ii,...Tt)=>{const Ue=Tt.map(et=>{if(null==et)return null;if("string"==typeof et)return et;if("number"==typeof et||"boolean"==typeof et)return et.toString();if(et instanceof Error)return et.message;try{return JSON.stringify(et)}catch{return null}}).filter(et=>et).join(" ");ii>=(ot??It.logLevel)&&ee({level:Oe[ii].toLowerCase(),message:Ue,args:Tt,type:It.name})}}}},290:(Ao,ti,Ze)=>{Ze.r(ti);var E=Ze(861),Oe=Ze(106),G=Ze(58),Le=Ze(534),mt=Ze(879),un=Ze(582),wn=Ze(537);const ct={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const ii=function ot(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Tt=function It(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ri=new mt.Yd("@firebase/auth");function tn(f,...l){ri.logLevel<=mt.in.ERROR&&ri.error(`Auth (${Le.SDK_VERSION}): ${f}`,...l)}function Dt(f,...l){throw Gn(f,...l)}function Ht(f,...l){return Gn(f,...l)}function Fi(f,l,d){const m=Object.assign(Object.assign({},Tt()),{[l]:d});return new G.LL("auth","Firebase",m).create(l,{appName:f.name})}function tt(f,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&Dt(f,"argument-error"),Fi(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gn(f,...l){if("string"!=typeof f){const d=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(d,...m)}return Ue.create(f,...l)}function J(f,l,...d){if(!f)throw Gn(l,...d)}function dn(f){const l="INTERNAL ASSERTION FAILED: "+f;throw tn(l),new Error(l)}function nn(f,l){f||dn(l)}function Rn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function no(){return"http:"===io()||"https:"===io()}function io(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class ro{constructor(l,d){this.shortDelay=l,this.longDelay=d,nn(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Xe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(no()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function B(f,l){nn(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class H{static initialize(l,d,m){this.fetchImpl=l,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Q=new ro(3e4,6e4);function te(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function q(f,l,d,m){return he.apply(this,arguments)}function he(){return(he=(0,E.Z)(function*(f,l,d,m,_={}){return pt(f,_,(0,E.Z)(function*(){let y={},C={};m&&("GET"===l?C=m:y={body:JSON.stringify(m)});const k=(0,G.xO)(Object.assign({key:f.config.apiKey},C)).slice(1),Z=yield f._getAdditionalHeaders();return Z["Content-Type"]="application/json",f.languageCode&&(Z["X-Firebase-Locale"]=f.languageCode),H.fetch()(hn(f,f.config.apiHost,d,k),Object.assign({method:l,headers:Z,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function pt(f,l,d){return pe.apply(this,arguments)}function pe(){return(pe=(0,E.Z)(function*(f,l,d){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},V),l);try{const _=new ui(f),y=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const C=yield y.json();if("needConfirmation"in C)throw Wn(f,"account-exists-with-different-credential",C);if(y.ok&&!("errorMessage"in C))return C;{const k=y.ok?C.errorMessage:C.error.message,[Z,ue]=k.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Z)throw Wn(f,"credential-already-in-use",C);if("EMAIL_EXISTS"===Z)throw Wn(f,"email-already-in-use",C);if("USER_DISABLED"===Z)throw Wn(f,"user-disabled",C);const we=m[Z]||Z.toLowerCase().replace(/[_\s]+/g,"-");if(ue)throw Fi(f,we,ue);Dt(f,we)}}catch(_){if(_ instanceof G.ZR)throw _;Dt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Te(f,l,d,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,E.Z)(function*(f,l,d,m,_={}){const y=yield q(f,l,d,m,_);return"mfaPendingCredential"in y&&Dt(f,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function hn(f,l,d,m){const _=`${l}${d}?${m}`;return f.config.emulator?B(f.config,_):`${f.config.apiScheme}://${_}`}function Zt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ui{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(Ht(this.auth,"network-request-failed")),Q.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wn(f,l,d){const m={appName:f.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const _=Ht(f,l,m);return _.customData._tokenResponse=d,_}function wi(f){return void 0!==f&&void 0!==f.getResponse}function Li(f){return void 0!==f&&void 0!==f.enterprise}class ir{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===l)return Zt(d.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function So(){return(So=(0,E.Z)(function*(f){return(yield q(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function En(f,l){return ya.apply(this,arguments)}function ya(){return(ya=(0,E.Z)(function*(f,l){return q(f,"GET","/v2/recaptchaConfig",te(f,l))})).apply(this,arguments)}function Fr(){return(Fr=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Vi(){return(Vi=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Jo(){return(Jo=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function di(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Lr(){return(Lr=(0,E.Z)(function*(f,l=!1){const d=(0,G.m9)(f),m=yield d.getIdToken(l),_=ba(m);J(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const y="object"==typeof _.firebase?_.firebase:void 0,C=y?.sign_in_provider;return{claims:_,token:m,authTime:di(Zn(_.auth_time)),issuedAtTime:di(Zn(_.iat)),expirationTime:di(Zn(_.exp)),signInProvider:C||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function Zn(f){return 1e3*Number(f)}function ba(f){const[l,d,m]=f.split(".");if(void 0===l||void 0===d||void 0===m)return tn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,G.tV)(d);return _?JSON.parse(_):(tn("Failed to decode base64 JWT payload"),null)}catch(_){return tn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function rr(f,l){return es.apply(this,arguments)}function es(){return(es=(0,E.Z)(function*(f,l,d=!1){if(d)return l;try{return yield l}catch(m){throw m instanceof G.ZR&&function wa({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class ts{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,E.Z)(function*(){yield d.iteration()}),m)}iteration(){var l=this;return(0,E.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&l.schedule(!0))}l.schedule()})()}}class Ea{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=di(this.lastLoginAt),this.creationTime=di(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ei(f){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,E.Z)(function*(f){var l;const d=f.auth,m=yield f.getIdToken(),_=yield rr(f,function ko(f,l){return Jo.apply(this,arguments)}(d,{idToken:m}));J(_?.users.length,d,"internal-error");const y=_.users[0];f._notifyReloadListener(y);const C=null!==(l=y.providerUserInfo)&&void 0!==l&&l.length?function Hc(f){return f.map(l=>{var{providerId:d}=l,m=(0,un._T)(l,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(y.providerUserInfo):[],k=function Cu(f,l){return[...f.filter(m=>!l.some(_=>_.providerId===m.providerId)),...l]}(f.providerData,C),we=!!f.isAnonymous&&!(f.email&&y.passwordHash||k?.length),ye={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:k,metadata:new Ea(y.createdAt,y.lastLoginAt),isAnonymous:we};Object.assign(f,ye)}),Bi.apply(this,arguments)}function Ia(){return(Ia=(0,E.Z)(function*(f){const l=(0,G.m9)(f);yield Ei(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function D(){return(D=(0,E.Z)(function*(f,l){const d=yield pt(f,{},(0,E.Z)(function*(){const m=(0,G.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:y}=f.config,C=hn(f,_,"/v1/token",`key=${y}`),k=yield f._getAdditionalHeaders();return k["Content-Type"]="application/x-www-form-urlencoded",H.fetch()(C,{method:"POST",headers:k,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){J(l.idToken,"internal-error"),J(typeof l.idToken<"u","internal-error"),J(typeof l.refreshToken<"u","internal-error");const d="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function xr(f){const l=ba(f);return J(l,"internal-error"),J(typeof l.exp<"u","internal-error"),J(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var m=this;return(0,E.Z)(function*(){return J(!m.accessToken||m.refreshToken,l,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var m=this;return(0,E.Z)(function*(){const{accessToken:_,refreshToken:y,expiresIn:C}=yield function xa(f,l){return D.apply(this,arguments)}(l,d);m.updateTokensAndExpiration(_,y,Number(C))})()}updateTokensAndExpiration(l,d,m){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,d){const{refreshToken:m,accessToken:_,expirationTime:y}=d,C=new x;return m&&(J("string"==typeof m,"internal-error",{appName:l}),C.refreshToken=m),_&&(J("string"==typeof _,"internal-error",{appName:l}),C.accessToken=_),y&&(J("number"==typeof y,"internal-error",{appName:l}),C.expirationTime=y),C}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return dn("not implemented")}}function T(f,l){J("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class W{constructor(l){var{uid:d,auth:m,stsTokenManager:_}=l,y=(0,un._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Ea(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,E.Z)(function*(){const m=yield rr(d,d.stsTokenManager.getToken(d.auth,l));return J(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(l){return function Kt(f){return Lr.apply(this,arguments)}(this,l)}reload(){return function ns(f){return Ia.apply(this,arguments)}(this)}_assign(l){this!==l&&(J(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const d=new W(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(l){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var m=this;return(0,E.Z)(function*(){let _=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),_=!0),d&&(yield Ei(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,E.Z)(function*(){const d=yield l.getIdToken();return yield rr(l,function zc(f,l){return Fr.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var m,_,y,C,k,Z,ue,we;const ye=null!==(m=d.displayName)&&void 0!==m?m:void 0,Bt=null!==(_=d.email)&&void 0!==_?_:void 0,$r=null!==(y=d.phoneNumber)&&void 0!==y?y:void 0,gm=null!==(C=d.photoURL)&&void 0!==C?C:void 0,_m=null!==(k=d.tenantId)&&void 0!==k?k:void 0,vm=null!==(Z=d._redirectEventId)&&void 0!==Z?Z:void 0,_E=null!==(ue=d.createdAt)&&void 0!==ue?ue:void 0,ov=null!==(we=d.lastLoginAt)&&void 0!==we?we:void 0,{uid:ym,emailVerified:sv,isAnonymous:Tl,providerData:fd,stsTokenManager:av}=d;J(ym&&av,l,"internal-error");const cv=x.fromJSON(this.name,av);J("string"==typeof ym,l,"internal-error"),T(ye,l.name),T(Bt,l.name),J("boolean"==typeof sv,l,"internal-error"),J("boolean"==typeof Tl,l,"internal-error"),T($r,l.name),T(gm,l.name),T(_m,l.name),T(vm,l.name),T(_E,l.name),T(ov,l.name);const lv=new W({uid:ym,auth:l,email:Bt,emailVerified:sv,displayName:ye,isAnonymous:Tl,photoURL:gm,phoneNumber:$r,tenantId:_m,stsTokenManager:cv,createdAt:_E,lastLoginAt:ov});return fd&&Array.isArray(fd)&&(lv.providerData=fd.map(uv=>Object.assign({},uv))),vm&&(lv._redirectEventId=vm),lv}static _fromIdTokenResponse(l,d,m=!1){return(0,E.Z)(function*(){const _=new x;_.updateFromServerResponse(d);const y=new W({uid:d.localId,auth:l,stsTokenManager:_,isAnonymous:m});return yield Ei(y),y})()}}const R=new Map;function $(f){nn(f instanceof Function,"Expected a class definition");let l=R.get(f);return l?(nn(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,R.set(f,l),l)}const Et=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(d,m){var _=this;return(0,E.Z)(function*(){_.storage[d]=m})()}_get(d){var m=this;return(0,E.Z)(function*(){const _=m.storage[d];return void 0===_?null:_})()}_remove(d){var m=this;return(0,E.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return f.type="NONE",f})();function Je(f,l,d){return`firebase:${f}:${l}:${d}`}class Qt{constructor(l,d,m){this.persistence=l,this.auth=d,this.userKey=m;const{config:_,name:y}=this.auth;this.fullUserKey=Je(this.userKey,_.apiKey,y),this.fullPersistenceKey=Je("persistence",_.apiKey,y),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,E.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?W._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,E.Z)(function*(){if(d.persistence===l)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,m="authUser"){return(0,E.Z)(function*(){if(!d.length)return new Qt($(Et),l,m);const _=(yield Promise.all(d.map(function(){var ue=(0,E.Z)(function*(we){if(yield we._isAvailable())return we});return function(we){return ue.apply(this,arguments)}}()))).filter(ue=>ue);let y=_[0]||$(Et);const C=Je(m,l.config.apiKey,l.name);let k=null;for(const ue of d)try{const we=yield ue._get(C);if(we){const ye=W._fromJSON(l,we);ue!==y&&(k=ye),y=ue;break}}catch{}const Z=_.filter(ue=>ue._shouldAllowMigration);return y._shouldAllowMigration&&Z.length?(y=Z[0],k&&(yield y._set(C,k.toJSON())),yield Promise.all(d.map(function(){var ue=(0,E.Z)(function*(we){if(we!==y)try{yield we._remove(C)}catch{}});return function(we){return ue.apply(this,arguments)}}())),new Qt(y,l,m)):new Qt(y,l,m)})()}}function or(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Mo(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Ce(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(F(l))return"Blackberry";if(S(l))return"Webos";if(Kn(l))return"Safari";if((l.includes("chrome/")||Vt(l))&&!l.includes("edge/"))return"Chrome";if(Vs(l))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function Ce(f=(0,G.z$)()){return/firefox\//i.test(f)}function Kn(f=(0,G.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Vt(f=(0,G.z$)()){return/crios\//i.test(f)}function Mo(f=(0,G.z$)()){return/iemobile/i.test(f)}function Vs(f=(0,G.z$)()){return/android/i.test(f)}function F(f=(0,G.z$)()){return/blackberry/i.test(f)}function S(f=(0,G.z$)()){return/webos/i.test(f)}function oe(f=(0,G.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function P(f=(0,G.z$)()){return oe(f)||Vs(f)||S(f)||F(f)||/windows phone/i.test(f)||Mo(f)}function xe(f,l=[]){let d;switch(f){case"Browser":d=or((0,G.z$)());break;case"Worker":d=`${or((0,G.z$)())}-${f}`;break;default:d=f}const m=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${Le.SDK_VERSION}/${m}`}class lt{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,d){const m=y=>new Promise((C,k)=>{try{C(l(y))}catch(Z){k(Z)}});m.onAbort=d,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var d=this;return(0,E.Z)(function*(){if(d.auth.currentUser===l)return;const m=[];try{for(const _ of d.queue)yield _(l),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const y of m)try{y()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Qg(){return(Qg=(0,E.Z)(function*(f,l={}){return q(f,"GET","/v2/passwordPolicy",te(f,l))})).apply(this,arguments)}class df{constructor(l){var d,m,_,y;const C=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=C.minPasswordLength)&&void 0!==d?d:6,C.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=C.maxPasswordLength),void 0!==C.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=C.containsLowercaseCharacter),void 0!==C.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=C.containsUppercaseCharacter),void 0!==C.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=C.containsNumericCharacter),void 0!==C.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=C.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=l.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(y=l.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=l.schemaVersion}validatePassword(l){var d,m,_,y,C,k;const Z={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,Z),this.validatePasswordCharacterOptions(l,Z),Z.isValid&&(Z.isValid=null===(d=Z.meetsMinPasswordLength)||void 0===d||d),Z.isValid&&(Z.isValid=null===(m=Z.meetsMaxPasswordLength)||void 0===m||m),Z.isValid&&(Z.isValid=null===(_=Z.containsLowercaseLetter)||void 0===_||_),Z.isValid&&(Z.isValid=null===(y=Z.containsUppercaseLetter)||void 0===y||y),Z.isValid&&(Z.isValid=null===(C=Z.containsNumericCharacter)||void 0===C||C),Z.isValid&&(Z.isValid=null===(k=Z.containsNonAlphanumericCharacter)||void 0===k||k),Z}validatePasswordLengthOptions(l,d){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(d.meetsMinPasswordLength=l.length>=m),_&&(d.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,d){let m;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<l.length;_++)m=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(l,d,m,_,y){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=y))}}class sr{constructor(l,d,m,_){this.app=l,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yg(this),this.idTokenSubscription=new Yg(this),this.beforeStateQueue=new lt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,d){var m=this;return d&&(this._popupRedirectResolver=$(d)),this._initializationPromise=this.queue((0,E.Z)(function*(){var _,y;if(!m._deleted&&(m.persistenceManager=yield Qt.create(m,l),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(y=m.currentUser)||void 0===y?void 0:y.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,E.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d,!0)}})()}initializeCurrentUser(l){var d=this;return(0,E.Z)(function*(){var m;const _=yield d.assertedPersistence.getCurrentUser();let y=_,C=!1;if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const k=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,Z=y?._redirectEventId,ue=yield d.tryRedirectSignIn(l);(!k||k===Z)&&ue?.user&&(y=ue.user,C=!0)}if(!y)return d.directlySetCurrentUser(null);if(!y._redirectEventId){if(C)try{yield d.beforeStateQueue.runMiddleware(y)}catch(k){y=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(k))}return y?d.reloadAndSetCurrentUserOrClear(y):d.directlySetCurrentUser(null)}return J(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===y._redirectEventId?d.directlySetCurrentUser(y):d.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(l){var d=this;return(0,E.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,E.Z)(function*(){try{yield Ei(l)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function Fs(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,E.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,E.Z)(function*(){const m=l?(0,G.m9)(l):null;return m&&J(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(l,d=!1){var m=this;return(0,E.Z)(function*(){if(!m._deleted)return l&&J(m.tenantId===l.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(l)),m.queue((0,E.Z)(function*(){yield m.directlySetCurrentUser(l),m.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,E.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var d=this;return this.queue((0,E.Z)(function*(){yield d.assertedPersistence.setPersistence($(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var d=this;return(0,E.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const m=d._getPasswordPolicyInternal();return m.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,E.Z)(function*(){const d=yield function qc(f){return Qg.apply(this,arguments)}(l),m=new df(d);null===l.tenantId?l._projectPasswordPolicy=m:l._tenantPasswordPolicies[l.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new G.LL("auth","Firebase",l())}onAuthStateChanged(l,d,m){return this.registerStateListener(this.authStateSubscription,l,d,m)}beforeAuthStateChanged(l,d){return this.beforeStateQueue.pushCallback(l,d)}onIdTokenChanged(l,d,m){return this.registerStateListener(this.idTokenSubscription,l,d,m)}authStateReady(){return new Promise((l,d)=>{if(this.currentUser)l();else{const m=this.onAuthStateChanged(()=>{m(),l()},d)}})}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var m=this;return(0,E.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(d);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,E.Z)(function*(){if(!d.redirectPersistenceManager){const m=l&&$(l)||d._popupRedirectResolver;J(m,d,"argument-error"),d.redirectPersistenceManager=yield Qt.create(d,[$(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,E.Z)(function*(){var m,_;return d._isInitialized&&(yield d.queue((0,E.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===l?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,E.Z)(function*(){if(l===d.currentUser)return d.queue((0,E.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,m,_){if(this._deleted)return()=>{};const y="function"==typeof d?d:d.next.bind(d);let C=!1;const k=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(k,this,"internal-error"),k.then(()=>{C||y(this.currentUser)}),"function"==typeof d){const Z=l.addObserver(d,m,_);return()=>{C=!0,Z()}}{const Z=l.addObserver(d);return()=>{C=!0,Z()}}}directlySetCurrentUser(l){var d=this;return(0,E.Z)(function*(){d.currentUser&&d.currentUser!==l&&d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh(),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,E.Z)(function*(){var d;const m={"X-Client-Version":l.clientVersion};l.app.options.appId&&(m["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(d=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const y=yield l._getAppCheckToken();return y&&(m["X-Firebase-AppCheck"]=y),m})()}_getAppCheckToken(){var l=this;return(0,E.Z)(function*(){var d;const m=yield null===(d=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function oi(f,...l){ri.logLevel<=mt.in.WARN&&ri.warn(`Auth (${Le.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function fn(f){return(0,G.m9)(f)}class Yg{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,G.ne)(d=>this.observer=d)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ro(f){return new Promise((l,d)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=l,m.onerror=_=>{const y=Ht("internal-error");y.customData=_,d(y)},m.type="text/javascript",m.charset="UTF-8",function VS(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(m)})}function _w(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Xg{constructor(l){this.type="recaptcha-enterprise",this.auth=fn(l)}verify(l="verify",d=!1){var m=this;return(0,E.Z)(function*(){function y(){return y=(0,E.Z)(function*(k){if(!d){if(null==k.tenantId&&null!=k._agentRecaptchaConfig)return k._agentRecaptchaConfig.siteKey;if(null!=k.tenantId&&void 0!==k._tenantRecaptchaConfigs[k.tenantId])return k._tenantRecaptchaConfigs[k.tenantId].siteKey}return new Promise(function(){var Z=(0,E.Z)(function*(ue,we){En(k,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ye=>{if(void 0!==ye.recaptchaKey){const Bt=new ir(ye);return null==k.tenantId?k._agentRecaptchaConfig=Bt:k._tenantRecaptchaConfigs[k.tenantId]=Bt,ue(Bt.siteKey)}we(new Error("recaptcha Enterprise site key undefined"))}).catch(ye=>{we(ye)})});return function(ue,we){return Z.apply(this,arguments)}}())}),y.apply(this,arguments)}function C(k,Z,ue){const we=window.grecaptcha;Li(we)?we.enterprise.ready(()=>{we.enterprise.execute(k,{action:l}).then(ye=>{Z(ye)}).catch(()=>{Z("NO_RECAPTCHA")})}):ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((k,Z)=>{(function _(k){return y.apply(this,arguments)})(m.auth).then(ue=>{if(!d&&Li(window.grecaptcha))C(ue,k,Z);else{if(typeof window>"u")return void Z(new Error("RecaptchaVerifier is only supported in browser"));Ro("https://www.google.com/recaptcha/enterprise.js?render="+ue).then(()=>{C(ue,k,Z)}).catch(we=>{Z(we)})}}).catch(ue=>{Z(ue)})})})()}}function vw(f,l,d){return hf.apply(this,arguments)}function hf(){return(hf=(0,E.Z)(function*(f,l,d,m=!1){const _=new Xg(f);let y;try{y=yield _.verify(d)}catch{y=yield _.verify(d,!0)}const C=Object.assign({},l);return Object.assign(C,m?{captchaResp:y}:{captchaResponse:y}),Object.assign(C,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(C,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),C})).apply(this,arguments)}function ff(f,l,d,m){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,E.Z)(function*(f,l,d,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield vw(f,l,d,"getOobCode"===d);return m(f,y)}return m(f,l).catch(function(){var y=(0,E.Z)(function*(C){if("auth/missing-recaptcha-token"===C.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const k=yield vw(f,l,d,"getOobCode"===d);return m(f,k)}return Promise.reject(C)});return function(C){return y.apply(this,arguments)}}())}),Ui.apply(this,arguments)}function yw(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function Gc(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class Bs{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return dn("not implemented")}_getIdTokenResponse(l){return dn("not implemented")}_linkToIdToken(l,d){return dn("not implemented")}_getReauthenticationResolver(l){return dn("not implemented")}}function e_(f,l){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:resetPassword",te(f,l))})).apply(this,arguments)}function Wc(f,l){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function mf(){return(mf=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:update",te(f,l))})).apply(this,arguments)}function ut(f,l){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,E.Z)(function*(f,l){return Te(f,"POST","/v1/accounts:signInWithPassword",te(f,l))})).apply(this,arguments)}function Qc(f,l){return hi.apply(this,arguments)}function hi(){return(hi=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:sendOobCode",te(f,l))})).apply(this,arguments)}function i_(){return(i_=(0,E.Z)(function*(f,l){return Qc(f,l)})).apply(this,arguments)}function qt(f,l){return r_.apply(this,arguments)}function r_(){return(r_=(0,E.Z)(function*(f,l){return Qc(f,l)})).apply(this,arguments)}function HS(f,l){return ne.apply(this,arguments)}function ne(){return(ne=(0,E.Z)(function*(f,l){return Qc(f,l)})).apply(this,arguments)}function Yc(){return(Yc=(0,E.Z)(function*(f,l){return Qc(f,l)})).apply(this,arguments)}function Xc(){return(Xc=(0,E.Z)(function*(f,l){return Te(f,"POST","/v1/accounts:signInWithEmailLink",te(f,l))})).apply(this,arguments)}function Jc(){return(Jc=(0,E.Z)(function*(f,l){return Te(f,"POST","/v1/accounts:signInWithEmailLink",te(f,l))})).apply(this,arguments)}class Tu extends Bs{constructor(l,d,m,_=null){super("password",m),this._email=l,this._password=d,this._tenantId=_}static _fromEmailAndPassword(l,d){return new Tu(l,d,"password")}static _fromEmailAndCode(l,d,m=null){return new Tu(l,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,E.Z)(function*(){switch(d.signInMethod){case"password":return ff(l,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ut);case"emailLink":return function o_(f,l){return Xc.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:Dt(l,"internal-error")}})()}_linkToIdToken(l,d){var m=this;return(0,E.Z)(function*(){switch(m.signInMethod){case"password":return Wc(l,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ww(f,l){return Jc.apply(this,arguments)}(l,{idToken:d,email:m._email,oobCode:m._password});default:Dt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function is(f,l){return s_.apply(this,arguments)}function s_(){return(s_=(0,E.Z)(function*(f,l){return Te(f,"POST","/v1/accounts:signInWithIdp",te(f,l))})).apply(this,arguments)}class Po extends Bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new Po(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):Dt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_}=d,y=(0,un._T)(d,["providerId","signInMethod"]);if(!m||!_)return null;const C=new Po(m,_);return C.idToken=y.idToken||void 0,C.accessToken=y.accessToken||void 0,C.secret=y.secret,C.nonce=y.nonce,C.pendingToken=y.pendingToken||null,C}_getIdTokenResponse(l){return is(l,this.buildRequest())}_linkToIdToken(l,d){const m=this.buildRequest();return m.idToken=d,is(l,m)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,is(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,G.xO)(d)}return l}}function tl(){return(tl=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:sendVerificationCode",te(f,l))})).apply(this,arguments)}function gf(){return(gf=(0,E.Z)(function*(f,l){return Te(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,l))})).apply(this,arguments)}function _f(){return(_f=(0,E.Z)(function*(f,l){const d=yield Te(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,l));if(d.temporaryProof)throw Wn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const a_={USER_NOT_FOUND:"user-not-found"};function vf(){return(vf=(0,E.Z)(function*(f,l){return Te(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),a_)})).apply(this,arguments)}class ji extends Bs{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new ji({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new ji({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function Du(f,l){return gf.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function Ew(f,l){return _f.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Ta(f,l){return vf.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:m,verificationCode:_}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:m,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:y}=l;return m||d||_||y?new ji({verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:y}):null}}class Da{constructor(l){var d,m,_,y,C,k;const Z=(0,G.zd)((0,G.pd)(l)),ue=null!==(d=Z.apiKey)&&void 0!==d?d:null,we=null!==(m=Z.oobCode)&&void 0!==m?m:null,ye=function Iw(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=Z.mode)&&void 0!==_?_:null);J(ue&&we&&ye,"argument-error"),this.apiKey=ue,this.operation=ye,this.code=we,this.continueUrl=null!==(y=Z.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(C=Z.languageCode)&&void 0!==C?C:null,this.tenantId=null!==(k=Z.tenantId)&&void 0!==k?k:null}static parseLink(l){const d=function j(f){const l=(0,G.zd)((0,G.pd)(f)).link,d=l?(0,G.zd)((0,G.pd)(l)).deep_link_id:null,m=(0,G.zd)((0,G.pd)(f)).deep_link_id;return(m?(0,G.zd)((0,G.pd)(m)).link:null)||m||d||l||f}(l);try{return new Da(d)}catch{return null}}}let Aa=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,m){return Tu._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const _=Da.parseLink(m);return J(_,"argument-error"),Tu._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Vr{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class oo extends Vr{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Sa extends oo{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return J("providerId"in d&&"signInMethod"in d,"argument-error"),Po._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return J(l.idToken||l.accessToken,"argument-error"),Po._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Sa.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Sa.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:y,nonce:C,providerId:k}=l;if(!m&&!_&&!d&&!y||!k)return null;try{return new Sa(k)._credential({idToken:d,accessToken:m,nonce:C,pendingToken:y})}catch{return null}}}let c_=(()=>{class f extends oo{constructor(){super("facebook.com")}static credential(d){return Po._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),l_=(()=>{class f extends oo{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return Po._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:_}=d;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),so=(()=>{class f extends oo{constructor(){super("github.com")}static credential(d){return Po._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class si extends Bs{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return is(l,this.buildRequest())}_linkToIdToken(l,d){const m=this.buildRequest();return m.idToken=d,is(l,m)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,is(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:_,pendingToken:y}=d;return m&&_&&y&&m===_?new si(m,y):null}static _create(l,d){return new si(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gt extends Vr{constructor(l){J(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return gt.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return gt.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=si.fromJSON(l);return J(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:m}=l;if(!d||!m)return null;try{return si._create(m,d)}catch{return null}}}let nl=(()=>{class f extends oo{constructor(){super("twitter.com")}static credential(d,m){return Po._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=d;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Su(f,l){return il.apply(this,arguments)}function il(){return(il=(0,E.Z)(function*(f,l){return Te(f,"POST","/v1/accounts:signUp",te(f,l))})).apply(this,arguments)}class ar{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,m,_=!1){return(0,E.Z)(function*(){const y=yield W._fromIdTokenResponse(l,m,_),C=co(m);return new ar({user:y,providerId:C,_tokenResponse:m,operationType:d})})()}static _forOperation(l,d,m){return(0,E.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const _=co(m);return new ar({user:l,providerId:_,_tokenResponse:m,operationType:d})})()}}function co(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function ku(){return(ku=(0,E.Z)(function*(f){var l;const d=fn(f);if(yield d._initializationPromise,null!==(l=d.currentUser)&&void 0!==l&&l.isAnonymous)return new ar({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield Su(d,{returnSecureToken:!0}),_=yield ar._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class ol extends G.ZR{constructor(l,d,m,_){var y;super(d.code,d.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,ol.prototype),this.customData={appName:l.name,tenantId:null!==(y=l.tenantId)&&void 0!==y?y:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,d,m,_){return new ol(l,d,m,_)}}function Mu(f,l,d,m){return("reauthenticate"===l?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?ol._fromErrorAndOperation(f,y,l,m):y})}function yf(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Us(){return Us=(0,E.Z)(function*(f,l){const d=(0,G.m9)(f);yield Nu(!0,d,l);const{providerUserInfo:m}=yield function $c(f,l){return Vi.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),_=yf(m||[]);return d.providerData=d.providerData.filter(y=>_.has(y.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Us.apply(this,arguments)}function Ru(f,l){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,E.Z)(function*(f,l,d=!1){const m=yield rr(f,l._linkToIdToken(f.auth,yield f.getIdToken()),d);return ar._forOperation(f,"link",m)})).apply(this,arguments)}function Nu(f,l,d){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,E.Z)(function*(f,l,d){yield Ei(l);const _=!1===f?"provider-already-linked":"no-such-provider";J(yf(l.providerData).has(d)===f,l.auth,_)})).apply(this,arguments)}function d_(f,l){return bf.apply(this,arguments)}function bf(){return(bf=(0,E.Z)(function*(f,l,d=!1){const{auth:m}=f,_="reauthenticate";try{const y=yield rr(f,Mu(m,_,l,f),d);J(y.idToken,m,"internal-error");const C=ba(y.idToken);J(C,m,"internal-error");const{sub:k}=C;return J(f.uid===k,m,"user-mismatch"),ar._forOperation(f,_,y)}catch(y){throw"auth/user-not-found"===y?.code&&Dt(m,"user-mismatch"),y}})).apply(this,arguments)}function Cr(f,l){return wf.apply(this,arguments)}function wf(){return(wf=(0,E.Z)(function*(f,l,d=!1){const m="signIn",_=yield Mu(f,m,l),y=yield ar._fromIdTokenResponse(f,m,_);return d||(yield f._updateCurrentUser(y.user)),y})).apply(this,arguments)}function sl(f,l){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,E.Z)(function*(f,l){return Cr(fn(f),l)})).apply(this,arguments)}function h_(f,l){return If.apply(this,arguments)}function If(){return(If=(0,E.Z)(function*(f,l){const d=(0,G.m9)(f);return yield Nu(!1,d,l.providerId),Ru(d,l)})).apply(this,arguments)}function f_(f,l){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,E.Z)(function*(f,l){return d_((0,G.m9)(f),l)})).apply(this,arguments)}function xf(){return(xf=(0,E.Z)(function*(f,l){return Te(f,"POST","/v1/accounts:signInWithCustomToken",te(f,l))})).apply(this,arguments)}function rn(){return rn=(0,E.Z)(function*(f,l){const d=fn(f),m=yield function xw(f,l){return xf.apply(this,arguments)}(d,{token:l,returnSecureToken:!0}),_=yield ar._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(_.user),_}),rn.apply(this,arguments)}class al{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?Cf._fromServerResponse(l,d):"totpInfo"in d?Tf._fromServerResponse(l,d):Dt(l,"internal-error")}}class Cf extends al{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new Cf(d)}}class Tf extends al{constructor(l){super("totp",l)}static _fromServerResponse(l,d){return new Tf(d)}}function kt(f,l,d){var m;J((null===(m=d.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),J(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(J(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(J(d.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function Df(f){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,E.Z)(function*(f){const l=fn(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function fi(){return(fi=(0,E.Z)(function*(f,l,d){const m=fn(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};d&&kt(m,_,d),yield ff(m,_,"getOobCode",qt)})).apply(this,arguments)}function Nn(){return Nn=(0,E.Z)(function*(f,l,d){yield e_((0,G.m9)(f),{oobCode:l,newPassword:d}).catch(function(){var m=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Df(f),_});return function(_){return m.apply(this,arguments)}}())}),Nn.apply(this,arguments)}function rs(){return rs=(0,E.Z)(function*(f,l){yield function t_(f,l){return mf.apply(this,arguments)}((0,G.m9)(f),{oobCode:l})}),rs.apply(this,arguments)}function zi(f,l){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,E.Z)(function*(f,l){const d=(0,G.m9)(f),m=yield e_(d,{oobCode:l}),_=m.requestType;switch(J(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(m.mfaInfo,d,"internal-error");default:J(m.email,d,"internal-error")}let y=null;return m.mfaInfo&&(y=al._fromServerResponse(fn(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:y},operation:_}})).apply(this,arguments)}function ka(){return(ka=(0,E.Z)(function*(f,l){const{data:d}=yield zi((0,G.m9)(f),l);return d.email})).apply(this,arguments)}function Af(){return(Af=(0,E.Z)(function*(f,l,d){const m=fn(f),C=yield ff(m,{returnSecureToken:!0,email:l,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Su).catch(Z=>{throw"auth/password-does-not-meet-requirements"===Z.code&&Df(f),Z}),k=yield ar._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(k.user),k})).apply(this,arguments)}function He(){return(He=(0,E.Z)(function*(f,l,d){const m=fn(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function y(C,k){J(k.handleCodeInApp,m,"argument-error"),k&&kt(m,C,k)})(_,d),yield ff(m,_,"getOobCode",HS)})).apply(this,arguments)}function js(){return(js=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f),_=Aa.credentialWithLink(l,d||Rn());return J(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),sl(m,_)})).apply(this,arguments)}function os(){return(os=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:createAuthUri",te(f,l))})).apply(this,arguments)}function lo(){return lo=(0,E.Z)(function*(f,l){const m={identifier:l,continueUri:no()?Rn():"http://localhost"},{signinMethods:_}=yield function mi(f,l){return os.apply(this,arguments)}((0,G.m9)(f),m);return _||[]}),lo.apply(this,arguments)}function Ve(){return Ve=(0,E.Z)(function*(f,l){const d=(0,G.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&kt(d.auth,_,l);const{email:y}=yield function n_(f,l){return i_.apply(this,arguments)}(d.auth,_);y!==f.email&&(yield f.reload())}),Ve.apply(this,arguments)}function Bu(){return Bu=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};d&&kt(m.auth,y,d);const{email:C}=yield function pf(f,l){return Yc.apply(this,arguments)}(m.auth,y);C!==f.email&&(yield f.reload())}),Bu.apply(this,arguments)}function mn(){return(mn=(0,E.Z)(function*(f,l){return q(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function ss(){return ss=(0,E.Z)(function*(f,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const m=(0,G.m9)(f),y={idToken:yield m.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},C=yield rr(m,function Ra(f,l){return mn.apply(this,arguments)}(m.auth,y));m.displayName=C.displayName||null,m.photoURL=C.photoUrl||null;const k=m.providerData.find(({providerId:Z})=>"password"===Z);k&&(k.displayName=m.displayName,k.photoURL=m.photoURL),yield m._updateTokensIfNecessary(C)}),ss.apply(this,arguments)}function Sf(f,l,d){return ho.apply(this,arguments)}function ho(){return(ho=(0,E.Z)(function*(f,l,d){const{auth:m}=f,y={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(y.email=l),d&&(y.password=d);const C=yield rr(f,Wc(m,y));yield f._updateTokensIfNecessary(C,!0)})).apply(this,arguments)}class fo{constructor(l,d,m={}){this.isNewUser=l,this.providerId=d,this.profile=m}}class Pa extends fo{constructor(l,d,m,_){super(l,d,m),this.username=_}}class dt extends fo{constructor(l,d){super(l,"facebook.com",d)}}class GS extends Pa{constructor(l,d){super(l,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class kf extends fo{constructor(l,d){super(l,"google.com",d)}}class p_ extends Pa{constructor(l,d,m){super(l,"twitter.com",d,m)}}function mo(f){const{user:l,_tokenResponse:d}=f;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function No(f){var l,d;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},y=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const C=null===(d=null===(l=ba(f.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(C)return new fo(y,"anonymous"!==C&&"custom"!==C?C:null)}if(!m)return null;switch(m){case"facebook.com":return new dt(y,_);case"github.com":return new GS(y,_);case"google.com":return new kf(y,_);case"twitter.com":return new p_(y,_,f.screenName||null);case"custom":case"anonymous":return new fo(y,null);default:return new fo(y,m,_)}}(d)}class zs{constructor(l,d,m){this.type=l,this.credential=d,this.user=m}static _fromIdtoken(l,d){return new zs("enroll",l,d)}static _fromMfaPendingCredential(l){return new zs("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,m;if(l?.multiFactorSession){if(null!==(d=l.multiFactorSession)&&void 0!==d&&d.pendingCredential)return zs._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(m=l.multiFactorSession)&&void 0!==m&&m.idToken)return zs._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Pf{constructor(l,d,m){this.session=l,this.hints=d,this.signInResolver=m}static _fromError(l,d){const m=fn(l),_=d.customData._serverResponse,y=(_.mfaInfo||[]).map(k=>al._fromServerResponse(m,k));J(_.mfaPendingCredential,m,"internal-error");const C=zs._fromMfaPendingCredential(_.mfaPendingCredential);return new Pf(C,y,function(){var k=(0,E.Z)(function*(Z){const ue=yield Z._process(m,C);delete _.mfaInfo,delete _.mfaPendingCredential;const we=Object.assign(Object.assign({},_),{idToken:ue.idToken,refreshToken:ue.refreshToken});switch(d.operationType){case"signIn":const ye=yield ar._fromIdTokenResponse(m,d.operationType,we);return yield m._updateCurrentUser(ye.user),ye;case"reauthenticate":return J(d.user,m,"internal-error"),ar._forOperation(d.user,d.operationType,we);default:Dt(m,"internal-error")}});return function(Z){return k.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,E.Z)(function*(){return d.signInResolver(l)})()}}class __{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>al._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new __(l)}getSession(){var l=this;return(0,E.Z)(function*(){return zs._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,d){var m=this;return(0,E.Z)(function*(){const _=l,y=yield m.getSession(),C=yield rr(m.user,_._process(m.user.auth,y,d));return yield m.user._updateTokensIfNecessary(C),m.user.reload()})()}unenroll(l){var d=this;return(0,E.Z)(function*(){const m="string"==typeof l?l:l.uid,_=yield d.user.getIdToken();try{const y=yield rr(d.user,function QS(f,l){return q(f,"POST","/v2/accounts/mfaEnrollment:withdraw",te(f,l))}(d.user.auth,{idToken:_,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:C})=>C!==m),yield d.user._updateTokensIfNecessary(y),yield d.user.reload()}catch(y){throw y}})()}}const v_=new WeakMap,Nf="__sak";class Sw{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const fl=(()=>{class f extends Sw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function XS(){const f=(0,G.z$)();return Kn(f)||oe(f)}()&&function Pn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=P(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),y=this.localCache[m];_!==y&&d(m,y,_)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((k,Z,ue)=>{this.notifyListeners(k,ue)});const _=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const k=this.storage.getItem(_);if(d.newValue!==k)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!m)return}const y=()=>{const k=this.storage.getItem(_);!m&&this.localCache[_]===k||this.notifyListeners(_,k)},C=this.storage.getItem(_);!function st(){return(0,G.w1)()&&10===document.documentMode}()||C===d.newValue||d.newValue===d.oldValue?y():setTimeout(y,10)}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const y of Array.from(_))y(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var _=()=>super._set,y=this;return(0,E.Z)(function*(){yield _().call(y,d,m),y.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,_=this;return(0,E.Z)(function*(){const y=yield m().call(_,d);return _.localCache[d]=JSON.stringify(y),y})()}_remove(d){var m=()=>super._remove,_=this;return(0,E.Z)(function*(){yield m().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),$s=(()=>{class f extends Sw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return f.type="SESSION",f})();let nk=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(y=>y.isListeningto(d));if(m)return m;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,E.Z)(function*(){const _=d,{eventId:y,eventType:C,data:k}=_.data,Z=m.handlersMap[C];if(!Z?.size)return;_.ports[0].postMessage({status:"ack",eventId:y,eventType:C});const ue=Array.from(Z).map(function(){var ye=(0,E.Z)(function*(Bt){return Bt(_.origin,k)});return function(Bt){return ye.apply(this,arguments)}}()),we=yield function tk(f){return Promise.all(f.map(function(){var l=(0,E.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return l.apply(this,arguments)}}()))}(ue);_.ports[0].postMessage({status:"done",eventId:y,eventType:C,response:we})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Ur(f="",l=10){let d="";for(let m=0;m<l;m++)d+=Math.floor(10*Math.random());return f+d}class as{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,m=50){var _=this;return(0,E.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let C,k;return new Promise((Z,ue)=>{const we=Ur("",20);y.port1.start();const ye=setTimeout(()=>{ue(new Error("unsupported_event"))},m);k={messageChannel:y,onMessage(Bt){const $r=Bt;if($r.data.eventId===we)switch($r.data.status){case"ack":clearTimeout(ye),C=setTimeout(()=>{ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(C),Z($r.data.response);break;default:clearTimeout(ye),clearTimeout(C),ue(new Error("invalid_response"))}}},_.handlers.add(k),y.port1.addEventListener("message",k.onMessage),_.target.postMessage({eventType:l,eventId:we,data:d},[y.port2])}).finally(()=>{k&&_.removeMessageHandler(k)})})()}}function Fn(){return window}function Ln(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function qi(){return(qi=(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Of="firebaseLocalStorageDb",Oa="firebaseLocalStorage",Ff="fbase_key";class Hs{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Fa(f,l){return f.transaction([Oa],l?"readwrite":"readonly").objectStore(Oa)}function zu(){const f=indexedDB.open(Of,1);return new Promise((l,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(Oa,{keyPath:Ff})}catch(_){d(_)}}),f.addEventListener("success",(0,E.Z)(function*(){const m=f.result;m.objectStoreNames.contains(Oa)?l(m):(m.close(),yield function E_(){const f=indexedDB.deleteDatabase(Of);return new Hs(f).toPromise()}(),l(yield zu()))}))})}function Lf(f,l,d){return La.apply(this,arguments)}function La(){return(La=(0,E.Z)(function*(f,l,d){const m=Fa(f,!0).put({[Ff]:l,value:d});return new Hs(m).toPromise()})).apply(this,arguments)}function cs(){return(cs=(0,E.Z)(function*(f,l){const d=Fa(f,!1).get(l),m=yield new Hs(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Vf(f,l){const d=Fa(f,!0).delete(l);return new Hs(d).toPromise()}const Va=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,E.Z)(function*(){return d.db||(d.db=yield zu()),d.db})()}_withRetries(d){var m=this;return(0,E.Z)(function*(){let _=0;for(;;)try{const y=yield m._openDb();return yield d(y)}catch(y){if(_++>3)throw y;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,E.Z)(function*(){return Ln()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,E.Z)(function*(){d.receiver=nk._getInstance(function b_(){return Ln()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,E.Z)(function*(_,y){return{keyProcessed:(yield d._poll()).includes(y.key)}});return function(_,y){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,E.Z)(function*(_,y){return["keyChanged"]});return function(_,y){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,E.Z)(function*(){var m,_;if(d.activeServiceWorker=yield function ju(){return qi.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new as(d.activeServiceWorker);const y=yield d.sender._send("ping",{},800);y&&null!==(m=y[0])&&void 0!==m&&m.fulfilled&&null!==(_=y[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,E.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function y_(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const d=yield zu();return yield Lf(d,Nf,"1"),yield Vf(d,Nf),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,E.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var _=this;return(0,E.Z)(function*(){return _._withPendingWrite((0,E.Z)(function*(){return yield _._withRetries(y=>Lf(y,d,m)),_.localCache[d]=m,_.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,E.Z)(function*(){const _=yield m._withRetries(y=>function ml(f,l){return cs.apply(this,arguments)}(y,d));return m.localCache[d]=_,_})()}_remove(d){var m=this;return(0,E.Z)(function*(){return m._withPendingWrite((0,E.Z)(function*(){return yield m._withRetries(_=>Vf(_,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,E.Z)(function*(){const m=yield d._withRetries(C=>{const k=Fa(C,!1).getAll();return new Hs(k).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const _=[],y=new Set;for(const{fbase_key:C,value:k}of m)y.add(C),JSON.stringify(d.localCache[C])!==JSON.stringify(k)&&(d.notifyListeners(C,k),_.push(C));for(const C of Object.keys(d.localCache))d.localCache[C]&&!y.has(C)&&(d.notifyListeners(C,null),_.push(C));return _})()}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const y of Array.from(_))y(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Ba=1e12;class ak{constructor(l){this.auth=l,this.counter=Ba,this._widgets=new Map}render(l,d){const m=this.counter;return this._widgets.set(m,new ck(l,this.auth.name,d||{})),this.counter++,m}reset(l){var d;const m=l||Ba;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(l){var d;return(null===(d=this._widgets.get(l||Ba))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,E.Z)(function*(){var m;return null===(m=d._widgets.get(l||Ba))||void 0===m||m.execute(),""})()}}class ck{constructor(l,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;J(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pw(f){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)l.push(d.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $u=_w("rcb"),x_=new ro(3e4,6e4);class Ow{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Fn().grecaptcha)||void 0===l||!l.render)}load(l,d=""){return J(function Fw(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),l,"argument-error"),this.shouldResolveImmediately(d)&&wi(Fn().grecaptcha)?Promise.resolve(Fn().grecaptcha):new Promise((m,_)=>{const y=Fn().setTimeout(()=>{_(Ht(l,"network-request-failed"))},x_.get());Fn()[$u]=()=>{Fn().clearTimeout(y),delete Fn()[$u];const k=Fn().grecaptcha;if(!k||!wi(k))return void _(Ht(l,"internal-error"));const Z=k.render;k.render=(ue,we)=>{const ye=Z(ue,we);return this.counter++,ye},this.hostLanguage=d,m(k)},Ro(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:$u,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(y),_(Ht(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var d;return!(null===(d=Fn().grecaptcha)||void 0===d||!d.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class C_{load(l){return(0,E.Z)(function*(){return new ak(l)})()}clearedOneInstance(){}}const T_="recaptcha",D_={theme:"light",type:"image"};class Lw{constructor(l,d,m=Object.assign({},D_)){this.parameters=m,this.type=T_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(l),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;J(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new C_:new Ow,this.validateStartingState()}verify(){var l=this;return(0,E.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(d)||new Promise(y=>{const C=k=>{k&&(l.tokenChangeListeners.delete(C),y(k))};l.tokenChangeListeners.add(C),l.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof l)l(d);else if("string"==typeof l){const m=Fn()[l];"function"==typeof m&&m(d)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,E.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,E.Z)(function*(){J(no()&&!Ln(),l.auth,"internal-error"),yield function lk(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function jc(f){return So.apply(this,arguments)}(l.auth);J(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Uf{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=ji._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function Hu(){return(Hu=(0,E.Z)(function*(f,l,d){const m=fn(f),_=yield Gu(m,l,(0,G.m9)(d));return new Uf(_,y=>sl(m,y))})).apply(this,arguments)}function jf(){return(jf=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);yield Nu(!1,m,"phone");const _=yield Gu(m.auth,l,(0,G.m9)(d));return new Uf(_,y=>h_(m,y))})).apply(this,arguments)}function qu(){return(qu=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f),_=yield Gu(m.auth,l,(0,G.m9)(d));return new Uf(_,y=>f_(m,y))})).apply(this,arguments)}function Gu(f,l,d){return pl.apply(this,arguments)}function pl(){return pl=(0,E.Z)(function*(f,l,d){var m;const _=yield d.verify();try{let y;if(J("string"==typeof _,f,"argument-error"),J(d.type===T_,f,"argument-error"),y="string"==typeof l?{phoneNumber:l}:l,"session"in y){const C=y.session;if("phoneNumber"in y)return J("enroll"===C.type,f,"internal-error"),(yield function Dw(f,l){return q(f,"POST","/v2/accounts/mfaEnrollment:start",te(f,l))}(f,{idToken:C.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{J("signin"===C.type,f,"internal-error");const k=(null===(m=y.multiFactorHint)||void 0===m?void 0:m.uid)||y.multiFactorUid;return J(k,f,"missing-multi-factor-info"),(yield function Mw(f,l){return q(f,"POST","/v2/accounts/mfaSignIn:start",te(f,l))}(f,{mfaPendingCredential:C.credential,mfaEnrollmentId:k,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:C}=yield function el(f,l){return tl.apply(this,arguments)}(f,{phoneNumber:y.phoneNumber,recaptchaToken:_});return C}}finally{d._reset()}}),pl.apply(this,arguments)}function Tr(){return(Tr=(0,E.Z)(function*(f,l){yield Ru((0,G.m9)(f),l)})).apply(this,arguments)}let Ua=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=fn(d)}verifyPhoneNumber(d,m){return Gu(this.auth,d,(0,G.m9)(m))}static credential(d,m){return ji._fromVerification(d,m)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:_}=d;return m&&_?ji._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function ls(f,l){return l?$(l):(J(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Ft extends Bs{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return is(l,this._buildIdpRequest())}_linkToIdToken(l,d){return is(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return is(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function zf(f){return Cr(f.auth,new Ft(f),f.bypassAuthState)}function Wu(f){const{auth:l,user:d}=f;return J(d,l,"internal-error"),d_(d,new Ft(f),f.bypassAuthState)}function Gi(f){return $f.apply(this,arguments)}function $f(){return($f=(0,E.Z)(function*(f){const{auth:l,user:d}=f;return J(d,l,"internal-error"),Ru(d,new Ft(f),f.bypassAuthState)})).apply(this,arguments)}class Hf{constructor(l,d,m,_,y=!1){this.auth=l,this.resolver=m,this.user=_,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,E.Z)(function*(m,_){l.pendingPromise={resolve:m,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(y){l.reject(y)}});return function(m,_){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,E.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:y,tenantId:C,error:k,type:Z}=l;if(k)return void d.reject(k);const ue={auth:d.auth,requestUri:m,sessionId:_,tenantId:C||void 0,postBody:y||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Z)(ue))}catch(we){d.reject(we)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return zf;case"linkViaPopup":case"linkViaRedirect":return Gi;case"reauthViaPopup":case"reauthViaRedirect":return Wu;default:Dt(this.auth,"internal-error")}}resolve(l){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ja=new ro(2e3,1e4);function qf(){return(qf=(0,E.Z)(function*(f,l,d){const m=fn(f);tt(f,l,Vr);const _=ls(m,d);return new Wf(m,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function Gf(){return(Gf=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);tt(m.auth,l,Vr);const _=ls(m.auth,d);return new Wf(m.auth,"reauthViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}function Zu(){return(Zu=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);tt(m.auth,l,Vr);const _=ls(m.auth,d);return new Wf(m.auth,"linkViaPopup",l,_,m).executeNotNull()})).apply(this,arguments)}let Wf=(()=>{class f extends Hf{constructor(d,m,_,y,C){super(d,m,y,C),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,E.Z)(function*(){const m=yield d.execute();return J(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,E.Z)(function*(){nn(1===d.filter.length,"Popup operations only handle one event");const m=Ur();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Ht(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Ht(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ht(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,ja.get())};d()}}return f.currentPopupAction=null,f})();const S_="pendingRedirect",za=new Map;class k_ extends Hf{constructor(l,d,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,E.Z)(function*(){let m=za.get(d.auth._key());if(!m){try{const y=(yield function jw(f,l){return Ne.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;m=()=>Promise.resolve(y)}catch(_){m=()=>Promise.reject(_)}za.set(d.auth._key(),m)}return d.bypassAuthState||za.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,m=this;return(0,E.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(m,l);if("unknown"!==l.type){if(l.eventId){const _=yield m.auth._redirectUserForId(l.eventId);if(_)return m.user=_,d().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function Ne(){return(Ne=(0,E.Z)(function*(f,l){const d=Kf(l),m=R_(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(d));return yield m._remove(d),_})).apply(this,arguments)}function Ku(f,l){return M_.apply(this,arguments)}function M_(){return(M_=(0,E.Z)(function*(f,l){return R_(f)._set(Kf(l),"true")})).apply(this,arguments)}function Zf(f,l){za.set(f._key(),l)}function R_(f){return $(f._redirectPersistence)}function Kf(f){return Je(S_,f.config.apiKey,f.name)}function $a(f,l,d){return function $w(f,l,d){return Qf.apply(this,arguments)}(f,l,d)}function Qf(){return(Qf=(0,E.Z)(function*(f,l,d){const m=fn(f);tt(f,l,Vr),yield m._initializationPromise;const _=ls(m,d);return yield Ku(_,m),_._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function Hw(f,l,d){return function qw(f,l,d){return Yf.apply(this,arguments)}(f,l,d)}function Yf(){return(Yf=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);tt(m.auth,l,Vr),yield m.auth._initializationPromise;const _=ls(m.auth,d);yield Ku(_,m.auth);const y=yield jr(m);return _._openRedirect(m.auth,l,"reauthViaRedirect",y)})).apply(this,arguments)}function ie(f,l,d){return function bt(f,l,d){return At.apply(this,arguments)}(f,l,d)}function At(){return(At=(0,E.Z)(function*(f,l,d){const m=(0,G.m9)(f);tt(m.auth,l,Vr),yield m.auth._initializationPromise;const _=ls(m.auth,d);yield Nu(!1,m,l.providerId),yield Ku(_,m.auth);const y=yield jr(m);return _._openRedirect(m.auth,l,"linkViaRedirect",y)})).apply(this,arguments)}function Vn(){return(Vn=(0,E.Z)(function*(f,l){return yield fn(f)._initializationPromise,gl(f,l,!1)})).apply(this,arguments)}function gl(f,l){return qs.apply(this,arguments)}function qs(){return(qs=(0,E.Z)(function*(f,l,d=!1){const m=fn(f),_=ls(m,l),C=yield new k_(m,_,d).execute();return C&&!d&&(delete C.user._redirectEventId,yield m._persistUserIfCurrent(C.user),yield m._setRedirectUser(null,l)),C})).apply(this,arguments)}function jr(f){return _l.apply(this,arguments)}function _l(){return(_l=(0,E.Z)(function*(f){const l=Ur(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class P_{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(d=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function xi(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jf(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var m;if(l.error&&!Jf(l)){const _=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(Ht(this.auth,_))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const m=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gw(l))}saveEventToCache(l){this.cachedEventUids.add(Gw(l)),this.lastProcessedEventTime=Date.now()}}function Gw(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function Jf({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function go(f){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,E.Z)(function*(f,l={}){return q(f,"GET","/v1/projects",l)})).apply(this,arguments)}const Ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oo=/^https?/;function Yu(){return(Yu=(0,E.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield go(f);for(const d of l)try{if(Zw(d))return}catch{}Dt(f,"unauthorized-domain")})).apply(this,arguments)}function Zw(f){const l=Rn(),{protocol:d,hostname:m}=new URL(l);if(f.startsWith("chrome-extension://")){const C=new URL(f);return""===C.hostname&&""===m?"chrome-extension:"===d&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&C.hostname===m}if(!Oo.test(d))return!1;if(Ha.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const Kw=new ro(3e4,6e4);function Xu(){const f=Fn().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let vl=null;const Qw=new ro(5e3,15e3),N_="__/auth/iframe",nm="emulator/auth/iframe",O_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L_(f){const l=f.config;J(l.authDomain,f,"auth-domain-config-required");const d=l.emulator?B(l,nm):`https://${f.config.authDomain}/${N_}`,m={apiKey:l.apiKey,appName:f.name,v:Le.SDK_VERSION},_=F_.get(f.config.apiHost);_&&(m.eid=_);const y=f._getFrameworks();return y.length&&(m.fw=y.join(",")),`${d}?${(0,G.xO)(m).slice(1)}`}function yl(){return yl=(0,E.Z)(function*(f){const l=yield function tm(f){return vl=vl||function em(f){return new Promise((l,d)=>{var m,_,y;function C(){Xu(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Xu(),d(Ht(f,"network-request-failed"))},timeout:Kw.get()})}if(null!==(_=null===(m=Fn().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(y=Fn().gapi)||void 0===y||!y.load){const k=_w("iframefcb");return Fn()[k]=()=>{gapi.load?C():d(Ht(f,"network-request-failed"))},Ro(`https://apis.google.com/js/api.js?onload=${k}`).catch(Z=>d(Z))}C()}}).catch(l=>{throw vl=null,l})}(f),vl}(f),d=Fn().gapi;return J(d,f,"internal-error"),l.open({where:document.body,url:L_(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O_,dontclear:!0},m=>new Promise(function(){var _=(0,E.Z)(function*(y,C){yield m.restyle({setHideOnLeave:!1});const k=Ht(f,"network-request-failed"),Z=Fn().setTimeout(()=>{C(k)},Qw.get());function ue(){Fn().clearTimeout(Z),y(m)}m.ping(ue).then(ue,()=>{C(k)})});return function(y,C){return _.apply(this,arguments)}}()))}),yl.apply(this,arguments)}const Yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class im{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const eE="__/auth/handler",U_="emulator/auth/handler",j_=encodeURIComponent("fac");function qa(f,l,d,m,_,y){return _o.apply(this,arguments)}function _o(){return(_o=(0,E.Z)(function*(f,l,d,m,_,y){J(f.config.authDomain,f,"auth-domain-config-required"),J(f.config.apiKey,f,"invalid-api-key");const C={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:m,v:Le.SDK_VERSION,eventId:_};if(l instanceof Vr){l.setDefaultLanguage(f.languageCode),C.providerId=l.providerId||"",(0,G.xb)(l.getCustomParameters())||(C.customParameters=JSON.stringify(l.getCustomParameters()));for(const[we,ye]of Object.entries(y||{}))C[we]=ye}if(l instanceof oo){const we=l.getScopes().filter(ye=>""!==ye);we.length>0&&(C.scopes=we.join(","))}f.tenantId&&(C.tid=f.tenantId);const k=C;for(const we of Object.keys(k))void 0===k[we]&&delete k[we];const Z=yield f._getAppCheckToken(),ue=Z?`#${j_}=${encodeURIComponent(Z)}`:"";return`${function tE({config:f}){return f.emulator?B(f,U_):`https://${f.authDomain}/${eE}`}(f)}?${(0,G.xO)(k).slice(1)}${ue}`})).apply(this,arguments)}const Ga="webStorageSupport",bl=class Ju{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$s,this._completeRedirectFn=gl,this._overrideRedirectResult=Zf}_openPopup(l,d,m,_){var y=this;return(0,E.Z)(function*(){var C;nn(null===(C=y.eventManagers[l._key()])||void 0===C?void 0:C.manager,"_initialize() not called before _openPopup()");const k=yield qa(l,d,m,Rn(),_);return function Jw(f,l,d,m=500,_=600){const y=Math.max((window.screen.availHeight-_)/2,0).toString(),C=Math.max((window.screen.availWidth-m)/2,0).toString();let k="";const Z=Object.assign(Object.assign({},Yw),{width:m.toString(),height:_.toString(),top:y,left:C}),ue=(0,G.z$)().toLowerCase();d&&(k=Vt(ue)?"_blank":d),Ce(ue)&&(l=l||"http://localhost",Z.scrollbars="yes");const we=Object.entries(Z).reduce((Bt,[$r,gm])=>`${Bt}${$r}=${gm},`,"");if(function Ke(f=(0,G.z$)()){var l;return oe(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(ue)&&"_self"!==k)return function B_(f,l){const d=document.createElement("a");d.href=f,d.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(l||"",k),new im(null);const ye=window.open(l||"",k,we);J(ye,f,"popup-blocked");try{ye.focus()}catch{}return new im(ye)}(l,k,Ur())})()}_openRedirect(l,d,m,_){var y=this;return(0,E.Z)(function*(){return yield y._originValidation(l),function ik(f){Fn().location.href=f}(yield qa(l,d,m,Rn(),_)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:_,promise:y}=this.eventManagers[d];return _?Promise.resolve(_):(nn(y,"If manager is not set, promise should be"),y)}const m=this.initAndGetManager(l);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(l){var d=this;return(0,E.Z)(function*(){const m=yield function V_(f){return yl.apply(this,arguments)}(l),_=new P_(l);return m.register("authEvent",y=>(J(y?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:_},d.iframes[l._key()]=m,_})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(Ga,{type:Ga},_=>{var y;const C=null===(y=_?.[0])||void 0===y?void 0:y[Ga];void 0!==C&&d(!!C),Dt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ww(f){return Yu.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return P()||Kn()||oe()}};class rm{constructor(l){this.factorId=l}_process(l,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,m);case"signin":return this._finalizeSignIn(l,d.credential);default:return dn("unexpected MultiFactorSessionType")}}}class ed extends rm{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new ed(l)}_finalizeEnroll(l,d,m){return function Aw(f,l){return q(f,"POST","/v2/accounts/mfaEnrollment:finalize",te(f,l))}(l,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function sk(f,l){return q(f,"POST","/v2/accounts/mfaSignIn:finalize",te(f,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let z_=(()=>{class f{constructor(){}static assertion(d){return ed._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var nE="@firebase/auth";class dk{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,E.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(m=>{l(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);d&&(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zr(){return window}(0,G.Pz)("authIdTokenMaxAge"),function rE(f){(0,Le._registerComponent)(new wn.wA("auth",(l,{options:d})=>{const m=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),y=l.getProvider("app-check-internal"),{apiKey:C,authDomain:k}=m.options;J(C&&!C.includes(":"),"invalid-api-key",{appName:m.name});const Z={apiKey:C,authDomain:k,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(f)},ue=new sr(m,_,y,Z);return function $S(f,l){const d=l?.persistence||[],m=(Array.isArray(d)?d:[d]).map($);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(m,l?.popupRedirectResolver)}(ue,d),ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,m)=>{l.getProvider("auth-internal").initialize()})),(0,Le._registerComponent)(new wn.wA("auth-internal",l=>{const d=fn(l.getProvider("auth").getImmediate());return new dk(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Le.registerVersion)(nE,"1.3.2",function iE(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,Le.registerVersion)(nE,"1.3.2","esm2017")}("Browser");function $_(){return $_=(0,E.Z)(function*(f,l,d){var m;const{BuildInfo:_}=zr();nn(l.sessionId,"AuthEvent did not contain a session ID");const y=yield function am(f){return ad.apply(this,arguments)}(l.sessionId),C={};return oe()?C.ibi=_.packageName:Vs()?C.apn=_.packageName:Dt(f,"operation-not-supported-in-this-environment"),_.displayName&&(C.appDisplayName=_.displayName),C.sessionId=y,qa(f,d,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,C)}),$_.apply(this,arguments)}function od(){return(od=(0,E.Z)(function*(f){const{BuildInfo:l}=zr(),d={};oe()?d.iosBundleId=l.packageName:Vs()?d.androidPackageName=l.packageName:Dt(f,"operation-not-supported-in-this-environment"),yield go(f,d)})).apply(this,arguments)}function sm(){return(sm=(0,E.Z)(function*(f,l,d){const{cordova:m}=zr();let _=()=>{};try{yield new Promise((y,C)=>{let k=null;function Z(){var ye;y();const Bt=null===(ye=m.plugins.browsertab)||void 0===ye?void 0:ye.close;"function"==typeof Bt&&Bt(),"function"==typeof d?.close&&d.close()}function ue(){k||(k=window.setTimeout(()=>{C(Ht(f,"redirect-cancelled-by-user"))},2e3))}function we(){"visible"===document?.visibilityState&&ue()}l.addPassiveListener(Z),document.addEventListener("resume",ue,!1),Vs()&&document.addEventListener("visibilitychange",we,!1),_=()=>{l.removePassiveListener(Z),document.removeEventListener("resume",ue,!1),document.removeEventListener("visibilitychange",we,!1),k&&window.clearTimeout(k)}})}finally{_()}})).apply(this,arguments)}function ad(){return(ad=(0,E.Z)(function*(f){const l=function cd(f){if(nn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),d=new Uint8Array(l);for(let m=0;m<f.length;m++)d[m]=f.charCodeAt(m);return d}(f),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class sE extends P_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,E.Z)(function*(){yield l.initPromise})()}}function lm(f){return ld.apply(this,arguments)}function ld(){return(ld=(0,E.Z)(function*(f){const l=yield Fo()._get(um(f));return l&&(yield Fo()._remove(um(f))),l})).apply(this,arguments)}function ud(){const f=[];for(let d=0;d<20;d++){const m=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return f.join("")}function Fo(){return $(fl)}function um(f){return Je("authEvent",f.config.apiKey,f.name)}function hs(f){if(!f?.includes("?"))return{};const[l,...d]=f.split("?");return(0,G.zd)(d.join("?"))}const lE=class Ti{constructor(){this._redirectPersistence=$s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gl,this._overrideRedirectResult=Zf}_initialize(l){var d=this;return(0,E.Z)(function*(){const m=l._key();let _=d.eventManagers.get(m);return _||(_=new sE(l),d.eventManagers.set(m,_),d.attachCallbackListeners(l,_)),_})()}_openPopup(l){Dt(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,m,_){var y=this;return(0,E.Z)(function*(){!function sd(f){var l,d,m,_,y,C,k,Z,ue,we;const ye=zr();J("function"==typeof(null===(l=ye?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(d=ye?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(y=null===(_=null===(m=ye?.cordova)||void 0===m?void 0:m.plugins)||void 0===_?void 0:_.browsertab)||void 0===y?void 0:y.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Z=null===(k=null===(C=ye?.cordova)||void 0===C?void 0:C.plugins)||void 0===k?void 0:k.browsertab)||void 0===Z?void 0:Z.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(we=null===(ue=ye?.cordova)||void 0===ue?void 0:ue.InAppBrowser)||void 0===we?void 0:we.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const C=yield y._initialize(l);yield C.initialized(),C.resetRedirect(),function zw(){za.clear()}(),yield y._originValidation(l);const k=function q_(f,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:ud(),postBody:null,tenantId:f.tenantId,error:Ht(f,"no-auth-event")}}(l,m,_);yield function G_(f,l){return Fo()._set(um(f),l)}(l,k);const Z=yield function rd(f,l,d){return $_.apply(this,arguments)}(l,k,d),ue=yield function oE(f){const{cordova:l}=zr();return new Promise(d=>{l.plugins.browsertab.isAvailable(m=>{let _=null;m?l.plugins.browsertab.openUrl(f):_=l.InAppBrowser.open(f,function Se(f=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}(Z);return function vo(f,l,d){return sm.apply(this,arguments)}(l,C,ue)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function H_(f){return od.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:m,handleOpenURL:_,BuildInfo:y}=zr(),C=setTimeout((0,E.Z)(function*(){yield lm(l),d.onEvent(gn())}),500),k=function(){var we=(0,E.Z)(function*(ye){clearTimeout(C);const Bt=yield lm(l);let $r=null;Bt&&ye?.url&&($r=function aE(f,l){var d,m;const _=function Z_(f){const l=hs(f),d=l.link?decodeURIComponent(l.link):void 0,m=hs(d).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return hs(_).link||_||m||d||f}(l);if(_.includes("/__/auth/callback")){const y=hs(_),C=y.firebaseError?function W_(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,k=null===(m=null===(d=C?.code)||void 0===d?void 0:d.split("auth/"))||void 0===m?void 0:m[1],Z=k?Ht(k):null;return Z?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:Z,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(Bt,ye.url)),d.onEvent($r||gn())});return function(Bt){return we.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,k);const Z=_,ue=`${y.packageName.toLowerCase()}://`;zr().handleOpenURL=function(){var we=(0,E.Z)(function*(ye){if(ye.toLowerCase().startsWith(ue)&&k({url:ye}),"function"==typeof Z)try{Z(ye)}catch(Bt){console.error(Bt)}});return function(ye){return we.apply(this,arguments)}}()}};function gn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ht("no-auth-event")}}function yo(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Ws(f=(0,G.z$)()){return!("file:"!==yo()&&"ionic:"!==yo()&&"capacitor:"!==yo()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Y_(){try{const f=self.localStorage,l=Ur();if(f)return f.setItem(l,"1"),f.removeItem(l),!function pk(f=(0,G.z$)()){return function hm(){return(0,G.w1)()&&11===document?.documentMode}()||function Ka(f=(0,G.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,G.hl)()}catch{return X_()&&(0,G.hl)()}return!1}function X_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function J_(){return(function Za(){return"http:"===yo()||"https:"===yo()}()||(0,G.ru)()||Ws())&&!function Q_(){return(0,G.b$)()||(0,G.UG)()}()&&Y_()&&!X_()}function dE(){return Ws()&&typeof document<"u"}function ev(){return(ev=(0,E.Z)(function*(){return!!dE()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const Qn={LOCAL:"local",NONE:"none",SESSION:"session"},El=J,tv="persistence";function fm(f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,E.Z)(function*(f){yield f._initializationPromise;const l=ur(),d=Je(tv,f.config.apiKey,f.name);l&&l.setItem(d,f._getPersistence())})).apply(this,arguments)}function ur(){var f;try{return(null===(f=function _k(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const Qa=J;class Lo{constructor(){this.browserResolver=$(bl),this.cordovaResolver=$(lE),this.underlyingResolver=null,this._redirectPersistence=$s,this._completeRedirectFn=gl,this._overrideRedirectResult=Zf}_initialize(l){var d=this;return(0,E.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,m,_){var y=this;return(0,E.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(l,d,m,_)})()}_openRedirect(l,d,m,_){var y=this;return(0,E.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(l,d,m,_)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return dE()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qa(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,E.Z)(function*(){if(l.underlyingResolver)return;const d=yield function gk(){return ev.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function Il(f){return f.unwrap()}function fE(f){return nv(f)}function nv(f){const{_tokenResponse:l}=f instanceof G.ZR?f.customData:f;if(!l)return null;if(!(f instanceof G.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return Ua.credentialFromResult(f);const d=l.providerId;if(!d||d===ct.PASSWORD)return null;let m;switch(d){case ct.GOOGLE:m=l_;break;case ct.FACEBOOK:m=c_;break;case ct.GITHUB:m=so;break;case ct.TWITTER:m=nl;break;default:const{oauthIdToken:_,oauthAccessToken:y,oauthTokenSecret:C,pendingToken:k,nonce:Z}=l;return y||C||_||k?k?d.startsWith("saml.")?si._create(d,k):Po._fromParams({providerId:d,signInMethod:d,pendingToken:k,idToken:_,accessToken:y}):new Sa(d).credential({idToken:_,accessToken:y,rawNonce:Z}):null}return f instanceof G.ZR?m.credentialFromError(f):m.credentialFromResult(f)}function dr(f,l){return l.catch(d=>{throw d instanceof G.ZR&&function vk(f,l){var d;const m=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new Ya(f,function ZS(f,l){var d;const m=(0,G.m9)(f),_=l;return J(l.customData.operationType,m,"argument-error"),J(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),Pf._fromError(m,_)}(f,l));else if(m){const _=nv(l),y=l;_&&(y.credential=_,y.tenantId=m.tenantId||void 0,y.email=m.email||void 0,y.phoneNumber=m.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:fE(d),additionalUserInfo:mo(d),user:fs.getOrCreate(_)}})}function Di(f,l){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,E.Z)(function*(f,l){const d=yield l;return{verificationId:d.verificationId,confirm:m=>dr(f,d.confirm(m))}})).apply(this,arguments)}class Ya{constructor(l,d){this.resolver=d,this.auth=function xl(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return dr(Il(this.auth),this.resolver.resolveSignIn(l))}}class fs{constructor(l){this._delegate=l,this.multiFactor=function YS(f){const l=(0,G.m9)(f);return v_.has(l)||v_.set(l,__._fromUser(l)),v_.get(l)}(l)}static getOrCreate(l){return fs.USER_MAP.has(l)||fs.USER_MAP.set(l,new fs(l)),fs.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,E.Z)(function*(){return dr(d.auth,h_(d._delegate,l))})()}linkWithPhoneNumber(l,d){var m=this;return(0,E.Z)(function*(){return Di(m.auth,function Vw(f,l,d){return jf.apply(this,arguments)}(m._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,E.Z)(function*(){return dr(d.auth,function us(f,l,d){return Zu.apply(this,arguments)}(d._delegate,l,Lo))})()}linkWithRedirect(l){var d=this;return(0,E.Z)(function*(){return yield fm(fn(d.auth)),ie(d._delegate,l,Lo)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,E.Z)(function*(){return dr(d.auth,f_(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return Di(this.auth,function A_(f,l,d){return qu.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return dr(this.auth,function Uw(f,l,d){return Gf.apply(this,arguments)}(this._delegate,l,Lo))}reauthenticateWithRedirect(l){var d=this;return(0,E.Z)(function*(){return yield fm(fn(d.auth)),Hw(d._delegate,l,Lo)})()}sendEmailVerification(l){return function Ma(f,l){return Ve.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,E.Z)(function*(){return yield function u_(f,l){return Us.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function uo(f,l){return Sf((0,G.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function ul(f,l){return Sf((0,G.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Bw(f,l){return Tr.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function ll(f,l){return ss.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function cl(f,l,d){return Bu.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fs.USER_MAP=new WeakMap;const Xa=J;let iv=(()=>{class f{constructor(d,m){if(this.app=d,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;Xa(_,"invalid-api-key",{appName:d.name}),Xa(_,"invalid-api-key",{appName:d.name});const y=typeof window<"u"?Lo:void 0;this._delegate=m.initialize({options:{persistence:mE(_,d.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(ii),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,m){!function le(f,l,d){const m=fn(f);J(m._canInitEmulator,m,"emulator-config-failed"),J(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const _=!!d?.disableWarnings,y=yw(l),{host:C,port:k}=function Ot(f){const l=yw(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const y=_[1];return{host:y,port:Gc(m.substr(y.length+1))}}{const[y,C]=m.split(":");return{host:y,port:Gc(C)}}}(l);m.config.emulator={url:`${y}//${C}${null===k?"":`:${k}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:C,port:k,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function bw(){function f(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,m)}applyActionCode(d){return function Ii(f,l){return rs.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return zi(this._delegate,d)}confirmPasswordReset(d,m){return function yt(f,l,d){return Nn.apply(this,arguments)}(this._delegate,d,m)}createUserWithEmailAndPassword(d,m){var _=this;return(0,E.Z)(function*(){return dr(_._delegate,function Tw(f,l,d){return Af.apply(this,arguments)}(_._delegate,d,m))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Tn(f,l){return lo.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function on(f,l){const d=Da.parseLink(l);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,E.Z)(function*(){Xa(J_(),d._delegate,"operation-not-supported-in-this-environment");const m=yield function Mt(f,l){return Vn.apply(this,arguments)}(d._delegate,Lo);return m?dr(d._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function dm(f,l){fn(f)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,m,_){const{next:y,error:C,complete:k}=rv(d,m,_);return this._delegate.onAuthStateChanged(y,C,k)}onIdTokenChanged(d,m,_){const{next:y,error:C,complete:k}=rv(d,m,_);return this._delegate.onIdTokenChanged(y,C,k)}sendSignInLinkToEmail(d,m){return function _e(f,l,d){return He.apply(this,arguments)}(this._delegate,d,m)}sendPasswordResetEmail(d,m){return function ke(f,l,d){return fi.apply(this,arguments)}(this._delegate,d,m||void 0)}setPersistence(d){var m=this;return(0,E.Z)(function*(){let _;switch(function Bn(f,l){El(Object.values(Qn).includes(l),f,"invalid-persistence-type"),(0,G.b$)()?El(l!==Qn.SESSION,f,"unsupported-persistence-type"):(0,G.UG)()?El(l===Qn.NONE,f,"unsupported-persistence-type"):X_()?El(l===Qn.NONE||l===Qn.LOCAL&&(0,G.hl)(),f,"unsupported-persistence-type"):El(l===Qn.NONE||Y_(),f,"unsupported-persistence-type")}(m._delegate,d),d){case Qn.SESSION:_=$s;break;case Qn.LOCAL:_=(yield $(Va)._isAvailable())?Va:fl;break;case Qn.NONE:_=Et;break;default:return Dt("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return dr(this._delegate,function rl(f){return ku.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return dr(this._delegate,sl(this._delegate,d))}signInWithCustomToken(d){return dr(this._delegate,function Cw(f,l){return rn.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,m){return dr(this._delegate,function In(f,l,d){return sl((0,G.m9)(f),Aa.credential(l,d)).catch(function(){var m=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Df(f),_});return function(_){return m.apply(this,arguments)}}())}(this._delegate,d,m))}signInWithEmailLink(d,m){return dr(this._delegate,function Br(f,l,d){return js.apply(this,arguments)}(this._delegate,d,m))}signInWithPhoneNumber(d,m){return Di(this._delegate,function cr(f,l,d){return Hu.apply(this,arguments)}(this._delegate,d,m))}signInWithPopup(d){var m=this;return(0,E.Z)(function*(){return Xa(J_(),m._delegate,"operation-not-supported-in-this-environment"),dr(m._delegate,function lr(f,l,d){return qf.apply(this,arguments)}(m._delegate,d,Lo))})()}signInWithRedirect(d){var m=this;return(0,E.Z)(function*(){return Xa(J_(),m._delegate,"operation-not-supported-in-this-environment"),yield fm(m._delegate),$a(m._delegate,d,Lo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function m_(f,l){return ka.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Qn,f})();function rv(f,l,d){let m=f;"function"!=typeof f&&({next:m,error:l,complete:d}=f);const _=m;return{next:C=>_(C&&fs.getOrCreate(C)),error:l,complete:d}}function mE(f,l){const d=function hE(f,l){const d=ur();if(!d)return[];const m=Je(tv,f,l);switch(d.getItem(m)){case Qn.NONE:return[Et];case Qn.LOCAL:return[Va,$s];case Qn.SESSION:return[$s];default:return[]}}(f,l);if(typeof self<"u"&&!d.includes(Va)&&d.push(Va),typeof window<"u")for(const m of[fl,$s])d.includes(m)||d.push(m);return d.includes(Et)||d.push(Et),d}class mm{constructor(){this.providerId="phone",this._delegate=new Ua(Il(Oe.Z.auth()))}static credential(l,d){return Ua.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}mm.PHONE_SIGN_IN_METHOD=Ua.PHONE_SIGN_IN_METHOD,mm.PROVIDER_ID=Ua.PROVIDER_ID;const pE=J;class gE{constructor(l,d,m=Oe.Z.app()){var _;pE(null===(_=m.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new Lw(m.auth(),l,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function hd(f){f.INTERNAL.registerComponent(new wn.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new iv(d,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Aa,FacebookAuthProvider:c_,GithubAuthProvider:so,GoogleAuthProvider:l_,OAuthProvider:Sa,SAMLAuthProvider:gt,PhoneAuthProvider:mm,PhoneMultiFactorGenerator:z_,RecaptchaVerifier:gE,TwitterAuthProvider:nl,Auth:iv,AuthCredential:Bs,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.8")}(Oe.Z)},861:(Ao,ti,Ze)=>{function E(G,Le,mt,un,wn,ni,ct){try{var ee=G[ni](ct),ae=ee.value}catch(Ie){return void mt(Ie)}ee.done?Le(ae):Promise.resolve(ae).then(un,wn)}function Oe(G){return function(){var Le=this,mt=arguments;return new Promise(function(un,wn){var ni=G.apply(Le,mt);function ct(ae){E(ni,un,wn,ct,ee,"next",ae)}function ee(ae){E(ni,un,wn,ct,ee,"throw",ae)}ct(void 0)})}}Ze.d(ti,{Z:()=>Oe})},582:(Ao,ti,Ze)=>{function Le(B,H){var V={};for(var Q in B)Object.prototype.hasOwnProperty.call(B,Q)&&H.indexOf(Q)<0&&(V[Q]=B[Q]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(Q=Object.getOwnPropertySymbols(B);te<Q.length;te++)H.indexOf(Q[te])<0&&Object.prototype.propertyIsEnumerable.call(B,Q[te])&&(V[Q[te]]=B[Q[te]])}return V}function Ie(B,H,V,Q){return new(V||(V=Promise))(function(q,he){function pt(vt){try{Te(Q.next(vt))}catch(hn){he(hn)}}function pe(vt){try{Te(Q.throw(vt))}catch(hn){he(hn)}}function Te(vt){vt.done?q(vt.value):function te(q){return q instanceof V?q:new V(function(he){he(q)})}(vt.value).then(pt,pe)}Te((Q=Q.apply(B,H||[])).next())})}function tn(B){return this instanceof tn?(this.v=B,this):new tn(B)}function Dt(B,H,V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,Q=V.apply(B,H||[]),q=[];return te={},he("next"),he("throw"),he("return"),te[Symbol.asyncIterator]=function(){return this},te;function he(Zt){Q[Zt]&&(te[Zt]=function(ui){return new Promise(function(Wn,wi){q.push([Zt,ui,Wn,wi])>1||pt(Zt,ui)})})}function pt(Zt,ui){try{!function pe(Zt){Zt.value instanceof tn?Promise.resolve(Zt.value.v).then(Te,vt):hn(q[0][2],Zt)}(Q[Zt](ui))}catch(Wn){hn(q[0][3],Wn)}}function Te(Zt){pt("next",Zt)}function vt(Zt){pt("throw",Zt)}function hn(Zt,ui){Zt(ui),q.shift(),q.length&&pt(q[0][0],q[0][1])}}function Fi(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V,H=B[Symbol.asyncIterator];return H?H.call(B):(B=function Tt(B){var H="function"==typeof Symbol&&Symbol.iterator,V=H&&B[H],Q=0;if(V)return V.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&Q>=B.length&&(B=void 0),{value:B&&B[Q++],done:!B}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(B),V={},Q("next"),Q("throw"),Q("return"),V[Symbol.asyncIterator]=function(){return this},V);function Q(q){V[q]=B[q]&&function(he){return new Promise(function(pt,pe){!function te(q,he,pt,pe){Promise.resolve(pe).then(function(Te){q({value:Te,done:pt})},he)}(pt,pe,(he=B[q](he)).done,he.value)})}}}Ze.d(ti,{FC:()=>Dt,KL:()=>Fi,_T:()=>Le,mG:()=>Ie,qq:()=>tn}),"function"==typeof SuppressedError&&SuppressedError}},Ao=>{Ao(Ao.s=910)}]);